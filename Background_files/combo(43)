YUI.add("hermes-template-photo-list-album-interaction",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return" has-actions"},3:function(e,t,n,r,i){var s;return'				<span class="metadot">&middot;</span>\n				<span class="album-views-count-wrapper">\n					<span class="album-views-label secondary">\n						'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{selectedCount:(s=t!=null?t.album:t)!=null?s.viewCount:s,intlName:"album-page.VIEWS_COUNT"},data:i}))+"\n					</span>\n				</span>\n"},5:function(e,t,n,r,i){var s,o=t!=null?t:{};return'		<div class="actions '+((s=n.unless.call(o,(s=t!=null?t.album:t)!=null?s.isOwner:s,{name:"unless",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))!=null?s:"")+'">\n			<a class="share cta'+((s=n.unless.call(o,(s=t!=null?t.album:t)!=null?s.canShare:s,{name:"unless",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" title="'+((s=n["if"].call(o,(s=t!=null?t.album:t)!=null?s.canShare:s,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))!=null?s:"")+'"><span></span></a>\n'+((s=n["if"].call(o,(s=t!=null?t.album:t)!=null?s.isOwner:s,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(o,t!=null?t.enableDownloading:t,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(o,t!=null?t.enableDeleting:t,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))!=null?s:"")+"		</div>\n"},6:function(e,t,n,r,i){return"less-items"},8:function(e,t,n,r,i){return" is-disabled"},10:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"album-page.SHARE_THIS_ALBUM"},data:i}))},12:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"share-modal.SHARING_DISABLED"},data:i}))},14:function(e,t,n,r,i){return'				<a class="book cta" title="'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"album-page.CREATE_BOOK_FROM_ALBUM"},data:i}))+'"><span></span></a>\n'},16:function(e,t,n,r,i){return'				<a class="download cta" title="'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"common.DOWNLOAD"},data:i}))+'"><span></span></a>\n'},18:function(e,t,n,r,i){return'				<a class="trash cta" title="'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"album-page.DELETE_THIS_ALBUM"},data:i}))+'"><span></span></a>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:{},u=e.lambda,a=e.escapeExpression,f=n.helperMissing;return'<div class="photo-list-album-interaction dark'+((s=n["if"].call(o,t!=null?t.enableActions:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" data-albumId="'+a(u((s=t!=null?t.album:t)!=null?s.id:s,t))+'">\n	<a class="overlay" href="'+a(u((s=t!=null?t.album:t)!=null?s.url:s,t))+'"></a>\n	<div class="interaction-bar">\n		<div class="metadata">\n			<h4 class="album-title">'+a((n.truncate||t&&t.truncate||f).call(o,(s=t!=null?t.album:t)!=null?s.title:s,120,!1,!0,{name:"truncate",hash:{},data:i}))+'</h4>\n			<span class="album-photo-count secondary">'+a(u((s=t!=null?t.album:t)!=null?s.photoAndVideosDisplay:s,t))+"</span>\n\n"+((s=(n.ifCond||t&&t.ifCond||f).call(o,(s=t!=null?t.album:t)!=null?s.viewCount:s,">",0,{name:"ifCond",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+"		</div>\n\n"+((s=n["if"].call(o,t!=null?t.enableActions:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))!=null?s:"")+"	</div>\n</div>\n"},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photo-list-album-interaction",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("photo-list-album-interaction-view",function(e){var t=require("lib/helpers/type-validator");"use strict",e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this},loadState:function(){return e.Promise.resolve()},buildContainer:function(){var e=this.get("model"),t;t={album:this.get("model").toJSON()};if(e.getValue("canShare")||e.getValue("isOwner")||this.appContext.flipper.isFlipped("enable-album-download")&&e.getValue("canDownload"))t.enableActions=!0;if(this.appContext.flipper.isFlipped("enable-just-your-album-download")&&e.getValue("isOwner")||this.appContext.flipper.isFlipped("enable-album-download")&&e.getValue("canDownload"))t.enableDownloading=!0;return e.getValue("isOwner")&&!e.getValue("isAutoUploadSet")&&(t.enableDeleting=!0),this.setContainerWithTemplate("photo-list-album-interaction",t),this},activate:function(){return this},destructor:function(){}},{ATTRS:{id:{writeOnce:"initOnly",validator:function(e,n){return t.photoId(e)}},model:{writeOnce:"initOnly"},albumPageUrl:{writeOnce:"initOnly"},engagement:{value:null},engagementModelName:{writeOnce:"initOnly",value:null,validator:function(t,n){return e.AttributeHelpers.validateString(t)}}}})},"@VERSION@",{requires:["flickr-view","hermes-template-photo-list-album-interaction","attribute-helpers"],optionalRequires:["fluid"],langBundles:["models","common","album-page","share-modal"]});
