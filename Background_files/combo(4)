/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-tap",function(e,t){function a(t,n){n=n||e.Object.values(u),e.Array.each(n,function(e){var n=t[e];n&&(n.detach(),t[e]=null)})}var n=e.config.doc,r=e.Event._GESTURE_MAP,i=r.start,s="tap",o=/pointer/i,u={START:"Y_TAP_ON_START_HANDLE",END:"Y_TAP_ON_END_HANDLE",CANCEL:"Y_TAP_ON_CANCEL_HANDLE"};e.Event.define(s,{publishConfig:{preventedFn:function(e){var t=e.target.once("click",function(e){e.preventDefault()});setTimeout(function(){t.detach()},100)}},processArgs:function(e,t){if(!t){var n=e[3];return e.splice(3,1),n}},on:function(e,t,n){t[u.START]=e.on(i,this._start,this,e,t,n)},detach:function(e,t,n){a(t)},delegate:function(t,n,r,s){n[u.START]=e.delegate(i,function(e){this._start(e,t,n,r,!0)},t,s,this)},detachDelegate:function(e,t,n){a(t)},_start:function(e,t,n,i,s){var a={canceled:!1,eventType:e.type},f=n.preventMouse||!1;if(e.button&&e.button===3)return;if(e.touches&&e.touches.length!==1)return;a.node=s?e.currentTarget:t,e.touches?a.startXY=[e.touches[0].pageX,e.touches[0].pageY]:a.startXY=[e.pageX,e.pageY],e.touches?(n[u.END]=t.once("touchend",this._end,this,t,n,i,s,a),n[u.CANCEL]=t.once("touchcancel",this.detach,this,t,n,i,s,a),n.preventMouse=!0):a.eventType.indexOf("mouse")!==-1&&!f?(n[u.END]=t.once("mouseup",this._end,this,t,n,i,s,a),n[u.CANCEL]=t.once("mousecancel",this.detach,this,t,n,i,s,a)):a.eventType.indexOf("mouse")!==-1&&f?n.preventMouse=!1:o.test(a.eventType)&&(n[u.END]=t.once(r.end,this._end,this,t,n,i,s,a),n[u.CANCEL]=t.once(r.cancel,this.detach,this,t,n,i,s,a))},_end:function(e,t,n,r,i,o){var f=o.startXY,l,c,h=15;n._extra&&n._extra.sensitivity>=0&&(h=n._extra.sensitivity),e.changedTouches?(l=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],c=[e.changedTouches[0].clientX,e.changedTouches[0].clientY]):(l=[e.pageX,e.pageY],c=[e.clientX,e.clientY]),Math.abs(l[0]-f[0])<=h&&Math.abs(l[1]-f[1])<=h&&(e.type=s,e.pageX=l[0],e.pageY=l[1],e.clientX=c[0],e.clientY=c[1],e.currentTarget=o.node,r.fire(e)),a(n,[u.END,u.CANCEL])}})},"3.16.0",{requires:["node-base","event-base","event-touch","event-synthetic"]});
YUI.add("better-throttle",function(e){"use strict";function t(t,n,r,i){function u(){o&&(o.cancel(),o=undefined)}function a(){u(),t.apply(r,arguments)}function f(){var t=(new Date).getTime();if(i)u();else if(t-s>n){s=t,a.apply(r,arguments);return}o||(o=e.later(n,r,a,arguments))}var s,o;return s=0,r=r||null,f}e.betterThrottle=t},"@VERSION@",{requires:["yui-later"]});
YUI.add("global-events",function(e){"use strict";function r(t){t in e.Node.DOM_EVENTS||(e.Node.DOM_EVENTS[t]=null)}function i(i,s){var o=t[i],u;if(o)return o.bound||(r(o.type),o.throttle?o.handle=e.one(o.target).on(o.type,e.betterThrottle(function(t){e.fire(i,{e:t})},o.throttle)):o.handle=e.one(o.target).on(o.type,function(t){e.fire(i,{e:t})}),n[i]=[],o.bound=!0),u=e.on(i,s),u.origDetach=u.detach,u.detach=function(){this.detach=this.origDetach,delete this.origDetach,e.globalEvents.unsubscribe(this)}.bind(u),n[i].push(u),u;throw new Error("global event name: '"+i+"' does not exist")}function s(e){var r=e.evt.type,i=n[r].indexOf(e);e.origDetach&&(e.detach=e.origDetach),i!==-1&&(e.detach(),n[r].splice(i,1),n[r].length===0&&(t[r].handle.detach(),t[r].bound=!1))}var t={"window:click":{type:"click",target:window},"window:resize":{type:"resize",target:window,throttle:100},"window:scroll":{type:"scroll",target:window,throttle:100},"window:scroll:nothrottle":{type:"scroll",target:window,throttle:0},"window:keydown":{type:"keydown",target:window,throttle:0},"window:blur":{type:"blur",target:window,throttle:0},"document:fullscreenchange":{type:function(){if("onfullscreenchange"in document)return"fullscreenchange";if("onwebkitfullscreenchange"in document)return"webkitfullscreenchange";if("onmozfullscreenchange"in document)return"mozfullscreenchange";if("onmsfullscreenchange"in document)return"MSFullscreenChange"}(),target:document}},n={};e.globalEvents={subscribe:i,unsubscribe:s}},"@VERSION@",{requires:["event","node","better-throttle"],affinity:"client"});
"undefined"!=typeof YAHOO&&YAHOO||(YAHOO={}),YAHOO.i13n=YAHOO.i13n||{},YAHOO.i13n.EventTypes=function(){function e(e,t,n){this.yqlid=e,this.eventName=t,this.spaceidPrefix=n}var t="richview",n="contentmodification";e.prototype={getYQLID:function(){return this.yqlid},getEventName:function(){return this.eventName}};var r={pageview:new e("pv","pageview",""),simple:new e("lv","event","P"),linkview:new e("lv","linkview","P"),richview:new e(t,t,"R"),contentmodification:new e(t,n,"R"),dwell:new e("lv","dwell","D")};return{getEventByName:function(e){return r[e]}}}(),YAHOO.i13n.Rapid=function(e){function t(){}function n(e){this.map={},this.count=0,e&&this.absorb(e)}function r(){this.map={},this.count=0}function i(e,t){if(!e)return null;null===t&&(t=!1);var n=new r,i=U.getAttribute(e,U.data_action_outcome);i&&n.set("outcm",i);var s=U.getAttribute(e,"data-ylk");if(null===s||0===s.length)return n;for(var o=s.split(U.ylk_pair_delim),u=0,a=o.length;a>u;u++){var f=o[u].split(U.ylk_kv_delim);if(2===f.length){var l=f[0],c=f[1];null!==l&&""!==l&&null!==c&&(c.length>U.MAX_VALUE_LENGTH&&(c=c.substring(0,U.MAX_VALUE_LENGTH)),l.length<=8&&c.length<=U.MAX_VALUE_LENGTH&&("_p"!==l||t)&&n.set(l,c))}}return n}function s(e,t,n){return t>e?t:e>n?n:e}function o(t,n){R.set("A_sid",YAHOO.i13n.A_SID||U.rand()),R.set("_w",U.rmProto(n).substring(0,U.MAX_VALUE_LENGTH)),t?R.absorb(t):e.keys&&R.absorb(e.keys)}function u(e){var t=(YAHOO.i13n,YAHOO.i13n.TEST_ID||e.test_id),n=e.location||document.location.href;o(e.keys,n),t&&(t=U.norm(""+t));var r=300,i=700,u=1e4,a=e.override||{},f={override:a,version:"3.39.1",keys:R,referrer:e.referrer,getReferrer:function(){return U.norm(U.clref("undefined"!=typeof this.referrer?this.referrer:document.referrer))},spaceid:U.norm(a.spaceid||YAHOO.i13n.SPACEID||e.spaceid),yrid:U.norm(e.yrid||""),oo:e.oo?"1":"0",nol:e.nol?"1":"0",yql_enabled:e.yql_enabled!==!1,fing:1==e.use_fing,USE_RAPID:e.use_rapid!==!1,linktrack_attribut:e.lt_attr||"text",tracked_mods:e.tracked_mods||[],tracked_mods_viewability:e.tracked_mods_viewability||[],viewability:e.viewability||!1,viewability_time:e.viewability_time||300,viewability_px:e.viewability_px||50,lt_attr:e.lt_attr||"text",client_only:e.client_only,text_link_len:e.text_link_len||-1,test_id:t,yql_host:e.yql_host||"geo.query.yahoo.com",yql_path:e.yql_path||"/v1/public/yql",click_timeout:e.click_timeout||u,compr_timeout:e.compr_timeout||i,compr_on:e.compr_on!==!1,compr_type:e.compr_type||"deflate",webworker_file:YAHOO.i13n.WEBWORKER_FILE||e.webworker_file||"rapidworker-1.2.js",nofollow_classname:e.nofollow_class||"rapidnofollow",no_click_listen:e.rapid_noclick_resp||"rapid-noclick-resp",nonanchor_track_class:e.nonanchor_track_class||"rapid-nonanchor-lt",anc_pos_attr:"data-rapid_p",anc_v9y_attr:"data-v9y",deb:e.debug===!0,ldbg:e.ldbg>0?!0:n.indexOf("yhldebug=1")>0,addmod_timeout:e.addmodules_timeout||300,ult_token_capture:"boolean"==typeof e.ult_token_capture?e.ult_token_capture:!1,track_type:e.track_type||"data-tracktype",dwell_on:e.dwell_on===!0,prerender:e.prerender===!0,query_parameters:e.query_parameters===!0,async_all_clicks:e.async_all_clicks===!0,click_postmsg:e.click_postmsg||{},apv:e.apv!==!1,apv_time:e.apv_time||500,apv_px:e.apv_px||500,apv_always_send:e.apv_always_send===!0,ex:e.ex===!0,persist_asid:e.persist_asid===!0,track_right_click:e.track_right_click===!0,gen_bcookie:e.gen_bcookie===!0,skip_attr:e.skip_attr||"data-rapid-skip",parse_dom:e.parse_dom===!0,pageview_on_init:e.pageview_on_init!==!1,perf_navigationtime:e.perf_navigationtime||0,perf_commontime:e.perf_commontime||null,perf_usertime:e.perf_usertime||null,perf_resourcetime:e.perf_resourcetime||0,sample:e.sample||{},loc:n,fpc:e.fpc===!0,extendbcookie:e.extendbcookie===!0},c=1*f.compr_timeout;return U.isNum(c)?f.compr_timeout=s(c,r,i):f.compr_timeout=i,f.ldbg&&f.click_timeout!=u&&l("Click timeout set to "+f.click_timeout+"ms (default 10000ms)"),e.apv_callback&&"function"==typeof e.apv_callback?f.apv_callback=e.apv_callback:f.apv_callback=null,f}function a(){R.set("A_sid",U.rand())}function f(){return"Rapid-"+X.version+"("+(new Date).getTime()+"):"}function l(e){X.ldbg&&console.warn("RAPID WARNING: "+e)}function c(e){X.ldbg&&console.error("RAPID ERROR: "+e)}function h(e){X.ldbg&&console.log(f()+e)}function p(){var e=document.cookie;if(this.cookieMap={},/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(e))for(var t=e.split(/;\s/g),n=null,r=null,i=null,s=0,o=t.length;o>s;s++){if(i=t[s].match(/([^=]+)=/i),i instanceof Array)try{n=U.dec(i[1]),r=U.dec(t[s].substring(i[1].length+1))}catch(u){c(u)}else n=U.dec(t[s]),r=n;"B"!==n&&"BX"!==n&&"TT"!==n&&"D"!==n&&"_ga"!==n&&"yx"!==n&&"rxx"!==n||(this.cookieMap[n]=r)}U.clearCookie("rx","/",U.isIE?document.domain:"")}function d(){if(X.ult_token_capture&&YAHOO.i13n.__handled_ult_tokens__!==!0){YAHOO.i13n.__handled_ult_tokens__=!0;var e=X.loc;if(e.match(/;_yl[a-z]{1}=/))X.ldbg&&h("Found ULT Token on URL."),V.sendGeoT(e);else{var t=new p,n=t.getCookieByName("D");n&&(U.clearCookie("D","/",".yahoo.com"),V.sendGeoT(n))}}}function v(){function e(){t=(new Date).valueOf().toString(),n=t.length}var t=null,n=null;return e(),{ts:t.substr(0,n-3),ms:t.substr(n-3)}}function m(e,t,n,r){var i=new Date,s="";i.setTime(i.getTime()+1e3*n),s="; expires="+i.toGMTString();var o="";r&&(o=";domain="+r);var u=e+"="+t+s+o+"; path=/";document.cookie=u}function g(){function e(e,t){X.ldbg&&h(e);var n=new Image,r=null;n.onload=n.onabort=n.onerror=function(){t&&"function"==typeof t&&(clearTimeout(r),t.call(null))},n.src=e,t&&"function"==typeof t&&(r=setTimeout(function(){t.call(null)},X.click_timeout)),setTimeout(function(){n=null},1e7)}function t(){return"rapid_if_"+U.rand()}function r(e){var t="display:none;";!U.isIE||6!==U.ieV&&7!==U.ieV&&8!==U.ieV?U.sa(e,"style",t):e.style.setAttribute("cssText",t,0)}function i(e){var t=null;if(U.isIE&&U.ieV<=8){var n="";U.isSecure()&&6==U.ieV&&(n='src="https://geo.yahoo.com/b.html"'),t=document.createElement("<iframe "+n+' name="'+e+'"></iframe>')}else t=document.createElement
("iframe");return t.name=e,t}function s(){setTimeout(function(){var e=i("");U.addEvent(e,"load",function(){U.rmBodyEl(e)}),U.appBodyEl(e)},1)}function o(e,n){var o=null,a=U.make("form"),f=U.make("input"),l=t(),c=t(),p="application/x-www-form-urlencoded;charset=UTF-8";o=i(l),r(o),r(a),a.id=c,a.method="POST",a.action=u(n),a.target=l,U.isIE&&U.ieV<=7?a.setAttribute("enctype",p):(a.setAttribute("enctype",p),a.setAttribute("encoding",p)),f.name="q",f.value=e,U.isIE&&U.ieV>=10&&(f.type="submit"),a.appendChild(f);var d="load",v=function(){var e="";if(X.ldbg&&(!U.isIE||U.ieV>=9)){var t=o.contentDocument||o.contentWindow.document;e=t.body.innerHTML}U.rmEvent(o,d,v),setTimeout(function(){U.rmBodyEl(o),U.rmBodyEl(a)},0),X.ldbg&&h("iframe resp: "+e),U.isIE&&U.ieV<=7&&s()};U.addEvent(o,d,v),U.appBodyEl(o),U.appBodyEl(a),a.submit()}function u(e){var t=X.deb,n=U.rand(),r=["http:"===window.location.protocol?"http://":"https://",X.yql_host,X.yql_path,"?yhlVer=2&yhlClient=rapid&yhlS=",X.spaceid,t===!0?"&yhlEnv=staging":"",t===!0||X.ldbg?"&debug=true&diagnostics=true":"",U.isIE&&U.ieV?"&yhlUA=ie"+U.ieV:"",U.isIE&&8==U.ieV?"&format=json":"","&yhlCT=2","&yhlBTMS=",(new Date).valueOf(),"&yhlClientVer=",X.version,"&yhlRnd=",n,"&yhlCompressed=",e||0,X.gen_bcookie?"&yhlBcookie=1":""].join("");return X.ldbg&&h(r),r}function a(t){var r=new n(t);e(C("p",r,1197799914))}function f(e,t){var n=u(t);try{var r=U.getXHR();r.open("POST",n,!0),r.withCredentials=!0,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),X.ldbg&&(r.onreadystatechange=function(){4===r.readyState&&h(r.status+":xhr response: "+r.responseText)}),r.send(e)}catch(i){a({_err_nm:"sendToYQL Failed",_err_msg:"sendToYQL Failed",_err_rs:String(i),_err_st:i.stack,urlUsed:n})}}function p(e,t,n){var r={};return U.isObj(e)?(U.aug(r,e,n),r):r}function d(e,t,n){n=n||{};var r={m:U.norm(e.moduleName),l:[]};e.moduleYLK&&(r.ylk=e.moduleYLK.getAll());for(var i=r.ylk&&r.ylk.sec?r.ylk.sec:"",s=e.links,s=e.links,o=function(e,n){var s="_p"===e;return t&&s?!0:"sec"==e&&n!=r.m&&n!=i?!0:"sec"!==e&&!s},u=0,a=s.length;a>u;u++)s[u]&&(!X.viewability||s[u].viewable?r.l.push(p(s[u].data,t,o)):X.ldbg&&h("Skipping not viewable link: "+s[u].data.slk));return r}function m(e,t,n){var r=[],i=null;for(var s in e)if(U.hasOwn(e,s)&&(i=e[s])){var o=d(i,t,n);o.l.length>0?r.push(o):X.ldbg&&h('Not capturing 0 links mod: "'+i.moduleName+'"')}return r}function g(e,t){return e?"pv":t&&t.event?t.event.type.getYQLID():"lv"}function y(e,t,n,r,i){var s;return s=K?nt:v(),[{t:g(t,i),s:X.spaceid,pp:b(t,r).getAll(),_ts:s.ts,_ms:s.ms,lv:m(e,n,i)}]}function b(e,t){var r=n.makeFromPP(X.keys);return r.absorb(t),e&&r.set("A_",1),r}function w(e,t,n){var r="select * from x where a = '"+e+"'";return(t?"q=":"")+(n?U.enc(r):r)}function E(e){var t={bp:O().getAll(),r:e.call(0),yrid:X.yrid,optout:X.oo,nol:X.nol};return U.toJSON(t)}function S(e,t,n){var r={};n.event&&U.aug(r,n.event.data),n.pp&&U.aug(r,n.pp);var i=E(function(){return y([e],t,!0,r,n)});N(i,t)}function x(e,t,n,r){var i=E(function(){return y(e,t,!0,n,r)});N(i)}function T(e){return e.identifier}function N(e){function t(e,t){0===t&&(e=e.replace(/'/g,"\\'")),r&&h("body: "+e),U.hasCORS()?(i=w(e,!0,!0),f(i,t)):(i=w(e,0,0),o(i,t))}function n(){a||(a=!0,t(e,0),r&&h("sent in failSend"))}var r=X.ldbg,i="",s=W[X.compr_type];if(X.compr_on&&U.hasWorkers()&&s>1&&e.length>2048){r&&h("Looking for worker:"+X.webworker_file+", compr timeout:"+X.compr_timeout);try{var u=new Worker(X.webworker_file),a=!1,c=null,p=0;u.onerror=function(e){clearTimeout(c),n(),l(e.message),u.terminate()},u.onmessage=function(i){clearTimeout(c);var o=U.tms();"Decompress fail"!==i.data&&"Compress fail"!==i.data&&0!=i.data.indexOf("error:")||(r&&h(i.data),n()),a||(a=!0,t(i.data,s)),r&&h("Ratio ("+i.data.length+"/"+e.length+"): "+(100*i.data.length/e.length).toFixed(2)+"% -> C_T: "+(o-p)+" ms ("+o+"-"+p+")"),u.terminate()},r&&h("posting to worker: "+e),p=U.tms(),u.postMessage({type:s,json:e}),c=setTimeout(function(){n(),u.terminate()},X.compr_timeout)}catch(d){r&&h("compression worker exception "+d),t(e,0)}}else t(e,0)}function C(e,t,n){return("http:"===window.location.protocol?"http://":"https://")+A+"/"+e+["?s="+(n?n:X.spaceid),"t="+U.rand()+","+Math.random(),"_I="+X.yrid,"_AO="+X.oo,"_NOL="+X.nol,"_R="+U.enc(X.getReferrer()),("c"===e?"_K=":"_P=")+k(t)].join("&")}function k(e){var t=new n(O(!1).getAll());t.absorb(X.keys.getAll()),e&&(e instanceof n?t.absorb(e.getAll()):c("Internal error in buildGeoPP: not PP type"));var r;return r="dwell,start"===t.get("etag")?nt:"dwell,stop"===t.get("etag")?rt:v(),t.set("_ts",r.ts),t.set("_ms",r.ms),X.version+"%05"+t.ser()}function L(e){var t=new n(e.pp),r=[C("c",t)+"&_C="+U.ser(e.data)];return r.join("&")}var A=YAHOO.i13n.beacon_server||"geo.yahoo.com",O=function(e){var t=new n;t.set("_pl",1),t.set("A_v",X.version);var r=X.getReferrer();if(r&&e!==!1&&t.set("_R",r.substring(0,U.MAX_VALUE_LENGTH)),X.test_id&&t.set("test",X.test_id),X.ex&&t.set("_ex",1),t.get("_bt")||t.set("_bt","rapid"),X.query_parameters){var i=/^(test|outcm|etrg|usergenf|etag|sec|slk|tar|tar_uri|yhldebug|tsrc|action)$|^(A_|_)/,s=document.location.search;if(s){s=s.substring(1),s=s.split("&");for(var o in s)if(s.hasOwnProperty(o)){var u=s[o].split("=");if(u.length>=2){var a=decodeURIComponent(u[0]),f=decodeURIComponent(u[1]),l=!i.test(a);h("Queryparams decoded: "+a+" : "+f),h("Blacklist filter: "+l),l&&t.set(a,f)}}}}var c=window.location.protocol||"";c=c.replace(/:$/,""),t.set("A_pr",c);var p=(new Date).getTimezoneOffset();return p=p?-1*p/60:0,t.set("A_tzoff",p),t},M=function(){var e=null,t=[],n=0,r=X.addmod_timeout;return function(i,s,o,u){clearTimeout(e);var a=+(new Date)-n;if(t=U.uniqConcat(t,i,T),a>r)n=+(new Date),x(t,s,o,u),t=[];else{var f=r-a;e=setTimeout(function(){X.ldbg&&h("queueing send in addMods"),x(t,s,o,u),t=[]},f)}}}();return{sendGeoT:function(t){var n=["http:"===window.location.protocol?"http://":"https://",A,"/t?",t].join("");e(n)},sendGeoPV:function(
){e(C("b"))},sendRapidNoDelay:function(t,r,i,s,o){if(r&&K&&K.start_dwell()&&(i.etag="dwell,start",i.usergenf=1,i.A_prets=rt?rt.ts:null,i.A_prems=rt?rt.ms:null),!X.yql_enabled||o){var u=null;i&&(u=new n(i)),e(C(r?"b":"p",u))}else x(t,r,i,s)},sendRapid:function(e,t,n,r){t&&K&&K.start_dwell()&&(n.etag="dwell,start",n.usergenf=1,n.A_prets=rt?rt.ts:null,n.A_prems=rt?rt.ms:null),M(e,t,n,r)},sendRefreshedContent:S,sendULTEvent:function(t,r){var i={};t&&t.data&&(i=t.data);var s=C("p",new n(i),r||0);t.type&&(s+="&_V="+t.type.spaceidPrefix),e(s)},sendEvents:function(e,t){X.USE_RAPID&&this.sendULTEvent(e)},sendClick:function(t,n){var r=null,i="",s=!1;return X.USE_RAPID&&(i=L(t)),X.async_all_clicks||!t.synch?void (i&&e(i,n)):(U.prevDef(t.event),r=function(){if(!s){if(s=!0,n)return void n.call();var e=t.targetElement.href;if(X.click_postmsg.origin){var r=X.click_postmsg.window||top,i=X.click_postmsg.payload||{};i.href=e,r.postMessage(U.toJSON(i),X.click_postmsg.origin)}else t.hasTargetTop?top.document.location=e:document.location=e}},void (X.USE_RAPID&&e(i,r)))}}}function y(e,t,n,r,s,o,u){var a="",f=null,l=u?U.isAboveFold(r):!0,c={viewable:l,data:{sec:t,_p:n}};return u&&U.aug(c.data,{A_lv:1}),o?(c.data.slk=s||"section",f=i(r)):(r.setAttribute(X.anc_pos_attr,n),u&&r.setAttribute(X.anc_v9y_attr,l?"1":"0"),a=U.getLT(r,e),a&&""!==a?f=i(r):a="_ELINK_",c.data.slk=s?s:a),null!==f&&U.aug(c.data,f.getAll()),c}function b(){var e={};return{addModule:function(t,n){e[U.norm(t)]=n},addModules:function(e,t){var n=U.isArr(e),r=[];n||U.isStr(e)&&(e=new Array(e),n=!0);for(var i in e)if(U.hasOwn(e,i)){var s=n?e[i]:i,o=U.trim(e[i]);if(this.exists(s))c('addModules() called with prev processed id:"'+s+'"');else{var u=A(o,s,t);u&&(this.addModule(s,u),r.push(u))}}return r},getModules:function(){return e},getModulesWithViewability:function(){var t={};for(var n in e){var r=e[n];r.useViewability&&(t[n]=r)}return t},reevaluateModuleViewability:function(){var e=this.getModulesWithViewability();for(var t in e){var n=e[t];n.reevaluateViewableLinks()}},refreshModule:function(t,n,r,i){var s=e[U.norm(t)];s?s.refreshModule(t,n,r,i):c("refreshModule called on unknown section: "+s)},removeModule:function(t){var n=e[U.norm(t)];n&&(n.removeHandlers(),delete e[t])},destroy:function(){for(var t in e)U.hasOwn(e,t)&&this.removeModule(t);e={}},exists:function(t){return e[U.norm(t)]}}}function w(e,t){return U.hasClass(e,"rapid_track_href")?"href":U.hasClass(e,"rapid_track_text")?"text":U.hasClass(e,"rapid_track_title")?"title":U.hasClass(e,"rapid_track_id")?"id":t}function E(e){return"input"===e.nodeName.toLowerCase()&&"submit"===U.getAttribute(e,"type")}function S(e,t){var n=N(e,t);Q=n,n&&(e.ctrlKey||e.metaKey||K&&K.stop_dwell()&&(n.pp={etag:"dwell,stop",usergenf:1,A_prets:nt?nt.ts:null,A_prems:nt?nt.ms:null},K.destroy()),V.sendClick(n))}function x(e,t,n){var r=U.getAttribute;return t.target&&"_blank"===t.target.toLowerCase()||2===e.which||4===e.button||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||"on"===r(t,"data-nofollow")||r(t,"href")&&"javascript:"===r(t,"href").substr(0,11).toLowerCase()||U.hasClass(t,X.nofollow_classname)||U.hasClass(n,X.nofollow_classname)}function T(e,t,n,r){n=n||{};var i=null;return e?(i=YAHOO.i13n.EventTypes.getEventByName(e),n._E=i.getEventName(),t=n._E):n._E=t||"_",r&&(n.outcm=r),{type:i,name:t,data:n,outcome:r}}function N(e,t){e=e||event;for(var n=U.getTarget(e),r="button",s="input",o="",u=!1,a=null;n&&(o=n.nodeName.toLowerCase())&&"a"!==o&&o!==r&&!E(n)&&!U.hasClass(n,X.nonanchor_track_class);)n=n.parentNode;if(!n||U.hasClass(n,X.no_click_listen))return 0;if(U.hasClass(n,X.nonanchor_track_class)){a={pos:0,sec:t.moduleName,slk:"_"};var f=i(n,1);f&&U.aug(a,f.getAll())}else{var l=U.getAttribute(n,X.anc_pos_attr);if(a=t.getLinkAtPos(l),!a)return 0;a=a.data,o===s||o===r||x(e,n,t.moduleElement)||(u=!0)}if(!a.tar){var c=U.getAttribute(n,"href");c&&(a.tar=U.extDomain(c)),c&&a.tar||(a.tar=U.extDomain(X.loc))}a.tar_uri||(n.pathname?a.tar_uri=n.pathname.substring(0,U.MAX_VALUE_LENGTH):a.tar_uri="");var h=t.moduleYLK;if(h){var p=h.getAll();U.aug(a,p,function(e){return!(e in a)})}return a.A_xy=U.xy(e),a.A_sr=U.sr(),"contextmenu"==e.type&&(a.A_cl=3,u=!1),{data:a,event:e,moduleElement:t.moduleElement,targetElement:n,synch:u,hasTargetTop:n&&n.target&&"_top"===n.target.toLowerCase()}}function C(e,t,n,r,i){var s={};return U.aug(s,r),s.sec=e,s.slk=t,s._p=n,{data:s,outcome:i,event:null,moduleElement:null,targetElement:null,synch:!1,hasTargetTop:!1}}function k(e,t,n){t||(t=document);for(var r=e.split(","),i=[],s=0,o=r.length;o>s;s++)for(var u=t.getElementsByTagName(r[s]),a=0,f=u.length;f>a;a++){var l=u[a];n&&!n.call(0,l)||i.push(l)}var c=i[0];return c?(c.sourceIndex?i.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):c.compareDocumentPosition&&i.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),i):[]}function L(e,t,n,r){t||(t=document);var i=e.split(",");n=n||[];var s=t.childNodes;if("true"!==U.getAttribute(t,X.skip_attr))for(var o=0,u=s.length;u>o;o++){var a=s[o];U.isTagOfInterest(a,i)&&(r&&!r.call(0,a)||n.push(a)),"true"!==U.getAttribute(a,X.skip_attr)?L(e,a,n,r):"true"===U.getAttribute(a,X.skip_attr)&&n.push(a)}var f=n[0];return f?(f.sourceIndex?n.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):f.compareDocumentPosition&&n.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),n):[]}function A(e,t,n){function r(t,r){var s=[];r=r||1;for(var o=0,a=t.length;a>o;o++)if("div"===t[o].tagName.toLowerCase()){var l=t[o],h=i(l),p=y(d,f.map.sec||e,1,l,h.map.slk||f.map.slk,!0,n);c[0]=p,s.push(p)}else{var v=t[o],p=y(d,f.map.sec||e,r,v,f.map.slk,0,n);c[r-1]=p,s.push(p),r++}if("true"===U.getAttribute(u,X.skip_attr)){var p=y(d,f.map.sec||e,1,l,f.map.slk,!0,n);c[0]=p,s.push(p)}return s}function s(t){for(var n=[],r=0,i=t.length;i>r;r++){var s=t[r],o=U.getAttribute(s,X.anc_pos_attr),u=y(d,f.map.sec||e,o,s,f.map.slk,0,!0);n.push(u)}return n}function o(e){return!U.getAttribute(e,X.anc_pos_attr)}var u=document.getElementById
(t),a="a,button,input";if(!u)return l("Specified module not in DOM: "+t),null;var f=i(u),c=[],p=X.parse_dom?L(a,u):k(a,u),d=w(u,X.lt_attr),v=p.length,m=U.getAttribute(u,X.track_type);r(p);var g={useViewability:n,moduleYLK:f,links:c,moduleName:e,trackType:m,moduleElement:u,refreshModule:function(e,t,i,s){s.isRefreshed=!0;var u=X.parse_dom?L(a,U.$(e),null,o):k(a,U.$(e),o);if(t===!0||u.length>0){var f=r(u,v+1);v+=u.length;var l=u.length;if(n){l=0;for(var c=0,p=f.length;p>c;c++)f[c].viewable&&l++}if((t===!0||l>0)&&(X.USE_RAPID||s.event)){var d={};U.aug(d,this),i?d.links=f:d.links=[],(t===!0||i)&&V.sendRefreshedContent(d,t,s)}}else U.ldbg&&h("refreshModule("+e+") - no new links.");t===!0&&X.apv&&$&&$.reInit()},reevaluateViewableLinks:function(){var t=c.length,n=k("a",this.moduleElement,function(t){return function(n){if(!U.getAttribute(n,X.anc_pos_attr)){t++,n.setAttribute(X.anc_pos_attr,t);var r=y(d,f.map.sec||e,t,n,f.map.slk,0,!1);c[t-1]=r}var i=U.getAttribute(n,X.anc_v9y_attr);return"1"!==i&&U.isAboveFold(n)?(n.setAttribute(X.anc_v9y_attr,"1"),!0):!1}}(t));if(0!==n.length&&X.USE_RAPID){var r=s(n),i={};U.aug(i,this),i.links=r,V.sendRefreshedContent(i,!1,{})}},removeHandlers:function(){U.rmEvent(u,"click",b),X.track_right_click&&U.rmEvent(u,"contextmenu",b)},getLinkAtPos:function(e){return e>c.length?null:c[e-1]},identifier:t},b=function(e){S(e,g)};return U.addEvent(u,"click",b),X.track_right_click&&U.addEvent(u,"contextmenu",b),g}function O(e,t,n){X.ldbg&&h("beaconPageview called, pp="+U.fData(e)),t&&!X.persist_asid&&a(),(X.USE_RAPID||X.apv_always_send&&U.hasOwn(e,"A_apv"))&&V.sendRapidNoDelay([],!0,e,null,n),X.apv&&null!=$&&$.reInit()}function M(e,t,n,r){X.ldbg&&h('beaconEvent: event="'+e+'" data='+U.fData(t)+" outcome="+n);var i=T(0,e,t,n);V.sendEvents(i,r)}function _(){var e=null,t=(new Date).getTime(),n=t,r=U.getScrollY(),i=-1,s=function(){var e=U.getScrollY(),t=-1===i?e-r:e-i;Math.abs(t)>X.viewability_px&&(z.reevaluateModuleViewability(),i=e,n=(new Date).getTime())},o=function(){null!=e&&clearTimeout(e);var i=(new Date).getTime();i-t<X.viewability_time&&(r=U.getScrollY(),n=i),e=setTimeout(function(){s()},X.viewability_time)};U.addEvent(window,"scroll",o),this.reInit=function(){r=U.getScrollY(),i=-1,t=n=(new Date).getTime()},this.destroy=function(){U.rmEvent(window,"scroll",o)}}function D(){var e=null,t=lastApvTime=(new Date).getTime(),n=U.getScrollY(),r=-1,i=function(){var e=U.getScrollY(),t=-1===r?e-n:e-r,i=t>0?0:1;if(Math.abs(t)>X.apv_px){var s={A_apv:1,A_apx:e,A_asd:i};O(s,!1,!0),r=e,lastApvTime=(new Date).getTime(),X.apv_callback&&X.apv_callback.call(this,{pixel_pos:e,scroll_dir:i})}},s=function(){null!=e&&clearTimeout(e);var r=(new Date).getTime();r-t<X.apv_time&&(n=U.getScrollY(),lastApvTime=r),e=setTimeout(function(){i()},X.apv_time)};U.addEvent(window,"scroll",s),this.reInit=function(){n=U.getScrollY(),r=-1,t=lastApvTime=(new Date).getTime()},this.destroy=function(){U.rmEvent(window,"scroll",s)}}function P(){var e={focus:{state:"start",etrg:"show",etag:"dwell,start",jse:"window.focus"},pageshow:{state:"start",etrg:"show",etag:"dwell,start",jse:"window.pageshow"},"visibilitychange-visible":{state:"start",etrg:"show",etag:"dwell,start",jse:"document.visibilitychange"},blur:{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"window.blur"},pagehide:{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"window.pagehide"},"visibilitychange-hidden":{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"document.visibilitychange"},beforeunload:{state:"stop",etrg:"close",etag:"dwell,stop",jse:"window.beforeunload"}},t="start";nt=v();var n,r;"undefined"!=typeof document.hidden?(n="hidden",r="visibilitychange"):"undefined"!=typeof document.mozHidden?(n="mozHidden",r="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(n="msHidden",r="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(n="webkitHidden",r="webkitvisibilitychange");var i=function(i){var s="",o=i.type;if(i.type==r&&(o=document[n]?"visibilitychange-hidden":"visibilitychange-visible"),U.hasOwn(e,o)&&(s=e[o].state),0!=s.length){if(t==s)return void h("dwell: -- state already "+t+" (event="+o+")");t=s;var u=e[o];h("dwell: change state to "+t+" (event="+o+")");var a={etrg:u.etrg,outcm:"window",usergenf:1,etag:u.etag,A_jse:u.jse};"start"===t&&(nt=v(),null!=rt&&(a.A_prets=rt.ts,a.A_prems=rt.ms)),"stop"===t&&(rt=v(),null!=nt&&(a.A_prets=nt.ts,a.A_prems=nt.ms)),M("dwell",a,"")}};for(var s in e)e.hasOwnProperty(s)&&U.addEvent(window,s,i);U.addEvent(window,r,i),this.set_state=function(e){t=e},this.start_dwell=function(){return"start"===t?(h("dwell: -- state already "+t),!1):(t="start",nt=v(),!0)},this.stop_dwell=function(){return"stop"===t?(h("dwell: -- state already "+t),!1):(t="stop",rt=v(),!0)},this.destroy=function(){for(var t in e)e.hasOwnProperty(t)&&U.rmEvent(window,t,i);U.rmEvent(window,r,i)}}function H(e,t){var r=10;if(window.performance&&window.performance.timing){var i=e?e.perf_navigationtime||0:X.perf_navigationtime||0,s=e?e.perf_resourcetime||0:X.perf_resourcetime||0,o=e?e.perf_commontime||null:X.perf_commontime||null,u=e?e.perf_usertime||null:X.perf_usertime||null;if(!(1>i&&1>s)||o||u){var a=U.hasOwn(X.sample,"perf_navigationtime")?X.sample.perf_navigationtime:100,f=U.hasOwn(X.sample,"perf_resourcetime")?X.sample.perf_resourcetime:100,l=U.samplingSuccess(a),c=U.samplingSuccess(f);if(l||c){if(0===window.performance.timing.loadEventStart){if(tt+=r,tt>200)return;return void setTimeout(function(){H(e,t)},r)}var h=B(i,s,o,u,l,c),p=new n(h);"object"==typeof t&&p.absorb(t);var d=T(0,"pageperf",p.getAll(),"");V.sendEvents(d)}}}}function B(e,t,n,r,i,s){var o={},u=window.performance.timing;if(i&&e>0&&(j(u.responseStart,u.connectEnd,o,"A_pfb"),j(u.responseEnd,u.responseStart,o,"A_pbp"),j(u.responseEnd,u.requestStart,o,"A_psr"),j(u.loadEventStart,u.navigationStart,o,"A_pol"),j(u.domInteractive,u.navigationStart,o,"A_pdi")),i&&e>1&&(j(u.redirectEnd,u.redirectStart,o,"A_prd"),j(u.domainLookupEnd,u.domainLookupStart,o,"A_pdl"),j(u.connectEnd
,u.secureConnectionStart,o,"A_psh"),j(u.connectEnd,u.connectStart,o,"A_psc"),j(u.loadEventStart,u.responseEnd,o,"A_pfe")),s&&t>0&&"undefined"!=typeof window.performance.getEntries){var a=[],f=window.performance.getEntries();f.sort(function(e,t){return e.duration>t.duration?-1:e.duration<t.duration?1:0});for(var l=f.slice(0,10),c=l.length,h=0;c>h;h++){var p={},d=l[h].name.replace(/\?.+$/,"");d=d.replace(/^.+\//,""),p.name=d,p.dur=Math.floor(l[h].duration),p.st=Math.floor(l[h].startTime),a.push(p)}o.A_res=U.sfy(a)}if(n&&(U.hasOwn(n,"initialPageLoad")&&(o.A_cmi=U.sfy(n.initialPageLoad)),U.hasOwn(n,"afterPageLoad")&&(o.A_cma=U.sfy(n.afterPageLoad))),r)for(var v=["utm"],h=0;h<v.length;h++)U.hasOwn(r,v[h])&&(o.A_utm=U.sfy(r[v[h]]));return o.etrg="backgroundPost",o.outcm="performance",o.usergenf=0,o.etag="performance",o}function j(e,t,n,r){if(e&&t){var i=e-t;n[r]=i}}function F(){if("prerender"==document.visibilityState){var e={etrg:"prerender",outcm:"page",usergenf:0,etag:"prerender"},t=T(0,"prerender",e,"");V.sendEvents(t)}}function I(){X.dwell_on&&(K=new P),d(),X.ldbg&&h("tracked_mods: "+U.fData(X.tracked_mods));var e=z.addModules(X.tracked_mods,!1),t=z.addModules(X.tracked_mods_viewability,X.viewability);X.USE_RAPID&&X.pageview_on_init&&V.sendRapidNoDelay(e.concat(t),1==X.client_only),X.prerender&&F(),U.executeOnLoad(function(){J=new _,X.apv&&($=new D),H(),_initTimeStamp=null,X.extendbcookie&&G.extendBCookie()})}function q(e){var t=navigator.userAgent,n=Object.prototype,r=t.match(/MSIE\s[^;]*/)||t.match(/Trident\/[^;]*/)?1:0,i=/KHTML/.test(t)?1:0,s=null!==t.match(/(iPhone|iPad|iPod)/gi),o=(t.indexOf("Android")>-1,s&&null!==t.match(/AppleWebKit/)),u=null!==t.match(/AppleWebKit/)&&null===t.match(/Chrome/),a=new RegExp(/\ufeff|\uffef|[\u0000-\u001f]|[\ue000-\uf8ff]/g),f=new RegExp(/[\u007f-\u00a0]|\s{2,}/g),l="http://",h="https://",d="class",v=" ",m=-1,g=300,y=["A_res","A_cmi","A_cma","A_utm"],b=-1,w="https:"===window.location.protocol;return r&&(document.documentMode?b=document.documentMode:(b=5,document.compatMode&&"CSS1Compat"==document.compatMode&&(b=7))),{$:function(e){return document.getElementById(e)},ca:"%01",cb:"%02",cc:"%03",cd:"%04",ce:"%05",cf:"%06",cg:"%07",ch:"%08",ylk_kv_delim:e.ylk_kv_delim||":",ylk_pair_delim:e.ylk_pair_delim||";",DATA_ACTION:"data-action",data_action_outcome:"data-action-outcome",isIE:r,isIOSSafari:o,isSafari:u,isWebkit:i,ieV:b,MAX_VALUE_LENGTH:e.max_value_length||g,value_len_whitelist:y,hasOwn:function(e,t){return n.hasOwnProperty.call(e,t)},enc:encodeURIComponent,dec:decodeURIComponent,getQueryStringValue:function(e,t){return decodeURIComponent(e.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},curProto:function(){return w?h:l},isSecure:function(){return w},isScrollHorizontalVisible:function(){return document.documentElement.scrollWidth>document.documentElement.clientWidth},getCompStyle:function(e,t){return void 0!==window.getComputedStyle?window.getComputedStyle(e,t):(this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:0},this)},getBorder:function(e,t){if(!e||!t)return 0;var n=parseInt(this.getCompStyle(e,null).getPropertyValue(t),10);return isNaN(n)&&(n=0),n},getElementHeight:function(e){if(!e)return 0;var t=e.offsetHeight||0;return t?t-this.getBorder(e,"border-top-width")-this.getBorder(e,"border-bottom-width"):0},getPositionTop:function(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t},getScrollbarWidthHeight:function(){var e=this.make("div");e.style.overflow="scroll",e.style.visibility="hidden",e.style.position="absolute",e.style.width="100px",e.style.height="100px",document.body.appendChild(e);var t={width:e.offsetWidth-e.clientWidth,height:e.offsetHeight-e.clientHeight};return this.rmBodyEl(e),t},isAboveFold:function(e){if(r&&7>=b)return!0;var t=U.getCompStyle(e);if("hidden"==t.visibility||"none"==t.display)return!1;var n=e.getBoundingClientRect(),i=this.getElementHeight(e),s=.5*i;if(n.top+s<0)return!1;var o=window.innerHeight||document.documentElement.clientHeight;if(this.isScrollHorizontalVisible()){var u=this.getScrollbarWidthHeight();o-=u.height}return n.bottom-s<=o?!0:void 0},strip:function(e){for(var t={"/":"P",";":"1","?":"P","&":"1","#":"P"},n={url:e,clean:"",cookie:"",keys:[]},r=0;-1!==e.indexOf("_yl",r);){var i=e.indexOf("_yl",r);if(i>r&&(n.clean+=e.slice(r,i-1)),r=i+3,t[e.charAt(i-1)]&&"="===e.charAt(i+4)){n.ult=1;var s="_yl"+e.charAt(i+3),o="";for(i+=5;i<e.length&&!t[e.charAt(i)];i++)o+=e.charAt(i);n.keys.push(s),n[s]=o,"_ylv"!==s&&(n.cookie+="&"+s+"="+o),t[e.charAt(i)]&&"P"===t[e.charAt(i)]&&(n.clean+=e.charAt(i)),r=i+1}else n.clean+=e.slice(i-1,r)}return n.ult&&(n.cookie=n.cookie.substr(1),n.clean+=e.substr(r),"0"===n._ylv),n},prevDef:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},appBodyEl:function(e){document.body.appendChild(e)},rmBodyEl:function(e){document.body.removeChild(e)},sa:function(e,t,n){e.setAttribute(t,n)},getScrollY:function(){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return e},make:function(e,t){var n=document.createElement(e);if(t&&this.isObj(t))for(var r in t)this.sa(n,r,t[r]);return n},getXHR:function(){function e(){for(var e=!1,n=t.length,r=0;n>r;r++){try{e=t[r]()}catch(i){continue}break}return e}var t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return e()},hasLS:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},hasCORS:function(){return r&&10>b?!1:"withCredentials"in new XMLHttpRequest?!0:"undefined"!=typeof XDomainRequest},hasWorkers:function(){return!!window.Worker},clearCookie
:function(e,t,n){t=t?t:"/",n=n?n:"",document.cookie=e+"= ; path="+t+"; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Domain="+n+";"},uniqConcat:function(e,t,n){function r(e){for(var t=0,r=e.length;r>t;t++){var o=e[t];if(o){var u=n(o);s[u]||(s[u]=1,i.push(o))}}}var i=[],s={};return r(e),r(t),i},trim:function(e){return e?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e},extDomain:function(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return t&&t[1]},getAttribute:function(e,t){var n="";return document.documentElement.hasAttribute||t!==d||(t="className"),e&&e.getAttribute&&(n=e.getAttribute(t,2)),n},isDate:function(e){return"[object Date]"===n.toString.call(e)},isArr:function(e){return"[object Array]"===n.toString.apply(e)},isStr:function(e){return"string"==typeof e},isNum:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return e-0==e&&(e+"").replace(/^\s+|\s+$/g,"").length>0},isObj:function(e){return e&&"object"==typeof e},rTN:function(e){try{if(e&&3===e.nodeType)return e.parentNode}catch(t){c(t)}return e},getTarget:function(e){var t=e.target||e.srcElement;return t&&!t.nodeName&&(t=t.correspondingUseElement&&t.correspondingUseElement.parentNode?t.correspondingUseElement.parentNode:null),this.rTN(t)},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},rmEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},aug:function(e,t,n){if(t)for(var r in t)if(this.hasOwn(t,r)){if(n&&!n.call(null,r,t[r]))continue;e[r]=t[r]}},rmProto:function(e){return e?e.substr(0,7)===l?e.substr(7,e.length):e.substr(0,8)===h?e.substr(8,e.length):e:""},norm:function(e){return null===e?"":(e=""+e,this.trim(e.replace(f," ").replace(a,"")))},_hasClass:function(e,t){var n,r=!1;return e&&t&&(n=this.getAttribute(e,d)||"",r=t.exec?t.test(n):t&&(v+n+v).indexOf(v+t+v)>-1),r},hasClass:function(e,t){if(this.isArr(t)){for(var n=0,r=t.length;r>n;n++)if(this._hasClass(e,t[n]))return!0;return!1}return this.isStr(t)?this._hasClass(e,t):!1},quote:function(e){var t=/["\\\x00-\x1f\x7f-\x9f]/g,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r='"',i='"';if(e.match(t)){var s=e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(e%16).toString(16))});return r+s+r}return i+e+i},sfy:function(e){if(!e&&""!==e)return{};var t,n=typeof e;if("undefined"===n)return"undefined";if("number"===n||"boolean"===n)return""+e;if("string"===n)return this.quote(e);if("function"==typeof e.toJSON)return this.sfy(e.toJSON());if(this.isDate(e)){var r=e.getUTCMonth()+1,i=e.getUTCDate(),s=e.getUTCFullYear(),o=e.getUTCHours(),u=e.getUTCMinutes(),a=e.getUTCSeconds(),f=e.getUTCMilliseconds();return 10>r&&(r="0"+r),10>i&&(i="0"+i),10>o&&(o="0"+o),10>u&&(u="0"+u),10>a&&(a="0"+a),100>f&&(f="0"+f),10>f&&(f="0"+f),'"'+s+"-"+r+"-"+i+"T"+o+":"+u+":"+a+"."+f+'Z"'}if(t=[],this.isArr(e)){for(var l=0,c=e.length;c>l;l++)t.push(this.sfy(e[l]));return"["+t.join(",")+"]"}if("object"===n){for(var h in e)if(this.hasOwn(e,h)){var p=typeof h,d=null;if("string"===p)d=this.quote(h);else{if("number"!==p)continue;d='"'+h+'"'}if(p=typeof e[h],"function"!==p&&"undefined"!==p){var v="";v=null===e[h]?'""':0===e[h]?0:this.sfy(e[h]),t.push(d+":"+v)}}return"{"+t.join(",")+"}"}},toJSON:function(){var e=null;return function(t){return e||(e="object"==typeof JSON&&JSON.stringify&&6!==b&&7!==b&&8!==b?JSON.stringify:this.sfy),e.call(this,t)}}(),executeOnLoad:function(e){var t=!1,n=function(n){(document.addEventListener||n&&"load"===n.type||"complete"===document.readyState)&&(t=!0,r(),e.call(this))},r=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n))};if("complete"===document.readyState)setTimeout(n);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else{document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n);var i=!1;try{i=null==window.frameElement&&document.documentElement}catch(s){}i&&i.doScroll&&!function o(){if(!t){try{i.doScroll("left")}catch(n){return setTimeout(o,50)}r(),e.call(this)}}()}},getLinkContent:function(e){for(var t,n=0,r="";(t=e.childNodes[n])&&t;n++)1===t.nodeType&&("img"===t.nodeName.toLowerCase()&&(r+=(this.getAttribute(t,"alt")||"")+" "),r+=this.getLinkContent(t));return r},fData:function(e){return this.isStr(e)?e:this.toJSON(e)},getLT:function(e,t){if(!e)return"_";var n="";return t=t.toLowerCase(),n="input"===e.nodeName.toLowerCase()?this.getAttribute(e,"value"):"text"===t?i?e.textContent:e.innerText?e.innerText:e.textContent:"href"===t?this.rmProto(this.getAttribute(e,"href")):this.getAttribute(e,t)||"",n=this.norm(n),""===n&&(n=this.norm(this.getLinkContent(e))),n&&n.length>U.MAX_VALUE_LENGTH&&(n=n.substring(0,U.MAX_VALUE_LENGTH)),""===n?"_":n},clref:function(e){if(0!==e.indexOf(l)&&0!==e.indexOf(h))return"";var t=this.strip(e);return t.clean||t.url},cold:function(){return screen?screen.colorDepth||screen.pixelDepth:"unknown"},sr:function(e){return screen?screen.width+(e?e:",")+screen.height:""},xy:function(e){function t(){var e=document.documentElement,t=document.body;return e&&(e.scrollTop||e.scrollLeft)?[e.scrollTop,e.scrollLeft]:t?[t.scrollTop,t.scrollLeft]:[0,0]}var n=null,i=e.pageX,s=e.pageY;return r&&(n=t()),i||0===i||(i=e.clientX||0,r&&(i+=n[1])),s||0===s||(s=e.clientY||0,r&&(s+=n[0])),i+","+s},hasCC:function(e){for(var t=0,n=e.length;n>t;t++){var r=e.charCodeAt(t);if(32>r||"="===r)return!0}return!1},isValidPair:function(e,t){return U.in_value_whitelist(e)?!0:e.length<=0||e.length>32||t.length>U.MAX_VALUE_LENGTH?(U.ldbg&&console.warn("Invalid key/value pair ("+e+"="+t+") Size must be 1-32 & 0-300 respectively."),!1):!0},ser:function(e,t){if(!e)return"";void 0===typeof t&&(t=!0);var n=[],r=""
;for(var i in e)if(this.hasOwn(e,i)){var s=i,o=e[i];if(null===s||null===o)continue;if(s+="",o+="",o&&!U.in_value_whitelist(s)&&o.length>U.MAX_VALUE_LENGTH&&(o=o.substring(0,U.MAX_VALUE_LENGTH)),!this.isValidPair(s,o))continue;if(!this.hasCC(s)&&!this.hasCC(o)){r="",o=this.trim(o),""!==o&&" "!==o||!t||(o="_");try{r=this.enc(s+""+o),r=r.replace(/'/g,"%27")}catch(u){r="_ERR_ENCODE_",c(u)}n.push(r)}}return n.join(this.cd)},rand:function(){for(var e=0,t="",n="";e++<16;){var r=Math.floor(62*Math.random());n=10>r?r:String.fromCharCode(36>r?r+55:r+61),t+=n}return t},tms:function(){return+(new Date)},cookEn:function(){var e=navigator.cookieEnabled?1:0,t="rapidtc";return"undefined"!=typeof navigator.cookieEnabled||e||(document.cookie=t+"=1",e=-1!=document.cookie.indexOf("testcookie"),document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"),e},isResCF:function(e){var t={14:1,15:1,18:1,19:1,20:1};return t[e]},isTagOfInterest:function(e,t){for(var n=0,r=t.length;r>n;n++)if(e.tagName&&e.tagName.toLowerCase()==t[n].toLowerCase())return!0;return!1},samplingSuccess:function(e){var t=function(e){for(var t=33554467,n=t,r=0,i=e.length;i>r;r++)n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24),n^=e.charCodeAt(r);return 0>n&&(n&=2147483647,n+=2147483648),n},n=function(e){var n=1e3;e*=10;var r=new p,i=""+r.getCookieByName("B");return i?(0>m&&(m=t(i)%n),e>m):!1};return n(e)},in_value_whitelist:function(e){return r&&8>=b?!1:-1!==U.value_len_whitelist.indexOf(e)}}}"undefined"!=typeof console&&"undefined"!=typeof console.log||(console={log:function(){}}),"undefined"==typeof console.error&&(console.error=console.log),"undefined"==typeof console.warn&&(console.warn=console.log),t.prototype={ser:function(){return U.ser(this.map)},set:function(e,t){var n=t?U.norm(t):t;void 0!==n&&null!==n||(n=""),null!==n&&U.isStr(n)&&(n=n.replace(/\\/g,"\\\\")),!U.in_value_whitelist(e)&&n.length>U.MAX_VALUE_LENGTH&&(n=n.substring(0,U.MAX_VALUE_LENGTH)),U.isValidPair(e,n)&&(this.map[U.norm(e)]=n,this.count++)},get:function(e){return this.map[e]},getAll:function(){return this.map},absorb:function(e){if(e&&U.isObj(e))for(var t in e)U.hasOwn(e,t)&&this.set(t,e[t])},absorb_filter:function(e,t){if(e&&U.isObj(e))for(var n in e)t&&!t.call(null,n)||U.hasOwn(e,n)&&this.set(n,e[n])},getSize:function(){return this.count}},n.prototype=new t,n.prototype.constructor=t,r.prototype=new t,r.prototype.constructor=t,n.makeFromPP=function(e){var t=new n;return e&&t.absorb(e.getAll()),t};var R=new n,U=q(e),z=new b,W={none:0,gzip:1,lzw:2,deflate:3};p.prototype={getCookieByName:function(e){return this.cookieMap[e]},getRxx:function(){var e="rxx",t=this.cookieMap[e];if(X.fpc&&(void 0===t||null===t||""===t)){var n=document.domain||"";n="."+n.split(".").slice(-2).join(".");var r=Date.UTC(2015,7,1),i=(new Date).getTime()-r;t=parseInt(Math.random().toString().substring(2)).toString(36)+"."+i.toString(36)+"&v=1",m(e,t,31536e3,n)}return t},extendBCookie:function(){var e=this.cookieMap.B;e?m("B",e,31536e3,".yahoo.com"):l("Bcookie not set")}};var X=u(e),V=g(),$=null,J=null,K=null,Q=null,G=new p,Y=G.getRxx();null!=Y&&R.set("_rx",Y);var Z=G.getCookieByName("_ga");null!=Z&&R.set("_ga",Z);var et=G.getCookieByName("yx");null!=et&&R.set("_yx",et);var tt=(function(){var e={};return{subscribe:function(t,n){var r=e[t];r||(r=[],e[t]=r),r.push(n)},unsubscribe:function(t,n){var r=e[t];if(r)for(var i=0;i<r.length;i++)if(r[i]===n)return void r.splice(i,1)},fire:function(t){var n=e[t];if(n)for(var r=0,i=n.length;i>r;r++)n[r].call(null)}}}(),0),nt=null,rt=null;I();var it={utils:U};return{init:function(){},beaconEvent:function(e,t,n,r){M(e,t,n,r)},beaconClick:function(e,t,n,r,i,s,o){X.ldbg&&h("beaconClick: sec="+e+" slk="+t+" callback="+s),!r&&i&&(r={});var u={};if(i&&(r.outcm=i,u.outcm=i),o&&o.pp&&U.aug(u,o.pp),o&&o.dwell&&X.dwell_on){var a=o.dwell;"start"!==a&&"stop"!==a||("start"===a?K.start_dwell()&&(u.etag="dwell,"+a,u.usergenf=1,u.A_prets=rt?rt.ts:null,u.A_prems=rt?rt.ms:null):K.stop_dwell()&&(u.etag="dwell,"+a,u.usergenf=1,u.A_prets=nt?nt.ts:null,u.A_prems=nt?nt.ms:null))}var f=C(e,t,n,r,i);f.pp=u,V.sendClick(f,s)},addModules:function(e,t,n){X.ldbg&&h("addModules() called: mods="+U.fData(e)+" isPage: "+t),n=n||{};var r={A_am:1};n.pp&&U.aug(r,n.pp),n.useViewability=n.useViewability||!1,n.clickonly=n.clickonly||!1;var i=!1,s=!1;switch(t||(t=n.useViewability?2:!1),t){case 1:case"1":case!0:t=!0,s=!0;break;case 2:case"2":i=!0,t=!1,n.event=T("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!X.yql_enabled)return void (t?O(r,s):n.event&&this.beaconRichView(r,n.event.outcome));n&&n.event&&t&&(c("Cannot track event type and pageview at same time."),n.event=null);var o=z.addModules(e,n.useViewability);(0!==o.length||n.event)&&(n.clickonly&&(o=[]),(X.USE_RAPID||n.event)&&(t||n.event||n.pp?(s&&!X.persist_asid&&a(),n.event&&n.event.data&&U.aug(r,n.event.data),V.sendRapidNoDelay(o,t,r,n)):o.length>0&&V.sendRapid(o,t,r,n)),t===!0&&X.apv&&$&&$.reInit())},addModulesWithViewability:function(e,t,n){n=n||{},n.useViewability=X.viewability,this.addModules(e,t,n)},refreshModule:function(e,t,n,r){X.ldbg&&h("refreshModule called: mod="+e+" isPV: "+t+" sendLinks: "+n+" options: "+U.fData(r));var i=!1,s=!1;switch(r=r||{},t||(t=!1),t){case 1:case"1":case!0:t=!0,s=!0;break;case 2:case"2":i=!0,t=!1,r.event=T("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!X.yql_enabled){var o=r.pp||{};return void (t?O(o,s):r.event&&this.beaconRichView(o,r.event.outcome))}var u=n!==!1;s&&!X.persist_asid&&a(),t&&r&&r.event&&(r.event=null),z.refreshModule(e,t,u,r)},removeModule:function(e){z.removeModule(e)},isModuleTracked:function(e){return X.ldbg&&h("isTracked called: "+e),z&&void 0!==z.exists(e)},destroy:function(){h("destroy called"),z.destroy(),$&&($.destroy(),$=null),J&&(J.destroy(),J=null),K&&(K.destroy(),K=null)},reInit:function(e){if(X.ldbg&&h("reInit called with: "+U.fData(e)),e=e||{},!e.spaceid)return void c("Invalid spid in reInit config: "+U.fData(e));R=new n,X=u(e),U=q
(e);var t=new p,r=t.getRxx();null!=r&&R.set("_rx",r);var i=t.getCookieByName("_ga");null!=i&&R.set("_ga",i);var s=t.getCookieByName("yx");null!=s&&R.set("_yx",s)},setRapidAttribute:function(e){e.keys&&X.keys.absorb(e.keys),e.spaceid&&(X.spaceid=e.spaceid),e.referrer&&(X.referrer=e.referrer.substring(0,U.MAX_VALUE_LENGTH)),e.A_sid&&(X.keys.set("A_sid",e.A_sid),X.persist_asid=!0),e.location&&(X.loc=e.location,X.keys.set("_w",U.rmProto(e.location).substring(0,U.MAX_VALUE_LENGTH))),U.hasOwn(e,"apv")&&(e.apv?$?$.reInit():$=new D:$&&($.destroy(),$=null))},clearRapidAttribute:function(e){for(var t in e)if("keys"===e[t]){var r=X.keys.get("_w"),i=X.keys.get("A_sid");X.keys=new n,X.keys.set("_w",r),X.keys.set("A_sid",i)}else"referrer"===e[t]?X.referrer="":"A_sid"===e[t]?(X.keys.set("A_sid",""),X.persist_asid=!0):"location"===e[t]&&(X.loc="",X.keys.set("_w",""))},beaconPageview:function(e){O(e,!0)},beaconECommerce:function(e,t){},beaconInternalSearch:function(e,t){},getCurrentSID:function(){return R.get("A_sid")},notifyHistoryPushStateCalled:function(){},beaconLinkViews:function(e,t,n,i){X.ldbg&&h("beaconLinkViews() called"),n=n||{};var s={};n.pp&&U.aug(s,n.pp);var o=!1,u=!1;switch(t){case 1:case"1":case!0:u=!0;break;case 2:case"2":o=!0,u=!1,n.event=T("contentmodification","",{});break;case 0:case"0":case!1:default:u=!1}if(!X.yql_enabled)return void (u?O(s,!1):n.event&&this.beaconRichView(s,n.event.outcome));if(n&&n.event&&u&&(c("Cannot track event type and pageview at same time."),n.event=null),0!==e.length||n.event){for(var a=[],f=0;f<e.length;f++){var l=e[f],p=new r;p.absorb_filter(l,function(e){return"sec"!=e&&"_links"!=e});for(var d=[],v=1,m=0;m<l._links.length;m++){var g=l._links[m],y={viewable:!0,data:{sec:l.sec,_p:v++,A_lv:2}};U.aug(y.data,g),d.push(y)}var b={moduleName:l.sec,moduleYLK:p,links:d,identifier:l.sec};a.push(b)}(X.USE_RAPID||n.event)&&((u||n.event||n.pp)&&n.event&&n.event.data&&U.aug(s,n.event.data),V.sendRapidNoDelay(a,u,s,n)),i&&i.call()}},beaconPerformanceData:function(e,t){H(e,t)},__test_only__:function(){return it}}},YUI.add("rapid",function(e,t){var n=require("lib/flog")("rapid"),r,i=-1,s={debug:!1,trackedElements:["content"]},o=750;e.rapidTracker={ok:!1,_queuedEvents:[],init:function(t){var n,s,o;if(e.rapidTracker.ok)return;try{r=new YAHOO.i13n.Rapid(t),r.init(),e.mix(this,r);for(n=0,s=this._queuedEvents.length;n<s;n++)o=this._queuedEvents.shift(),o.eventType==="beaconClick"?this.beaconClick(o.view,o.action,i,o.keys,o.outcome):o.eventType==="beaconPerformanceData"?this.beaconPerformanceData(o.obj):o.eventType==="beaconEvent"&&this.beaconEvent(o.eventName,o.pageParams);e.rapidTracker.ok=!0}catch(u){e.rapidTracker.ok=!1}},destroy:function(){e.rapidTracker.ok&&(r&&r.destroy(),e.rapidTracker.ok=!1)},getConf:function(t,r,i){var o,u,a="",f={},l=r.getUA(),c=r.getViewer(),h=["signed_out_home_page_no_scroll","enable_personalized_group_recommendations"];return i=i||{},i.trackedElements=i.trackedElements||[],o=e.merge(s,t.get("rapidConf")||{},i),o.trackedElements=s.trackedElements.concat(t.get("trackedElementIDs"),i.trackedElements),r.buckets&&(a=Object.keys(r.buckets).reduce(function(e,t){return h.indexOf(t)!==-1?e+t+":"+r.buckets[t]+",":e},"").slice(0,-1),a.length>300&&(n.warn("Rapid bucket data exceeded the 300 character limit."),a=a.substr(0,300))),f=e.QueryString.parse(window.location.search.replace("?","")),u=e.merge({pageType:t.name,intl:r.lang,bx:r.getCookie("BX"),buckets:a,isStaff:c&&c.isInsecureGod?1:0,renderer:r.hasClientSideRouted()?"c":"s",loggedIn:c&&c.signedIn?1:0,slice:r.slice,groupUsr:r.auth&&r.auth.activeGroupMembership?1:0,density:window.devicePixelRatio||1,dimensns:"innerWidth"in window?window.innerWidth+"x"+window.innerHeight:"unknown",isPro:0,isbot:l.isBot,isunsptd:l.isUnsupportedBrowser||l.isReallyUnsupportedBrowser,campaignID:decodeURIComponent(f.campaignID)||"",linkID:decodeURIComponent(f.linkID)||""},t.getTrackingSegments()),new e.Promise(function(n,i){var s,a=u.isunsptd&&t.get("isPanda")?"p#"+t.get("spaceid"):t.get("spaceid"),f=e.config.flickr.performance_samples[t.name.replace(/-/g,"_")];f?f.signedIn&&(f=f[c&&c.signedIn?"signedIn":"signedOut"]||0):f=0,f*=100,s={debug:o.debug,spaceid:a,client_only:o.client_only||1,compr_on:!1,tracked_mods:o.trackedElements,async_all_clicks:!0,lt_attr:"data-track",keys:u,perf_navigationtime:2,sample:{perf_navigationtime:f}},o.ex&&(s.ex=!0),typeof o.oo!="undefined"&&(s.oo=o.oo),c.signedIn?r.getModel("person-models",c.nsid).then(function(e){s.keys.joindate=e.getValue("dateCreated").format("YYYY-MM-DD"),s.keys.isPro=e.getValue("isPro")?1:0,n(s)}):n(s)})},beacon:function(e,t,n,s){n=n||{},s=s||"",r?r.beaconClick(e,t,i,n,s):this._queuedEvents.push({eventType:"beaconClick",view:e,action:t,keys:n,outcome:s})},beaconPerformanceData:function(e){r?r.beaconPerformanceData(e):this._queuedEvents.push({eventType:"beaconPerformanceData",obj:e})},beaconEvent:function(e,t){r?r.beaconEvent(e,t):this._queuedEvents.push({eventType:"beaconEvent",eventName:e,pageParams:t})},refreshTracker:function(){r&&e.rapidTracker.ok&&r.refreshModule(s.trackedElements[0],!1,!1,{})},beaconScroll:function(t){t.registerEventHandler(e.globalEvents.subscribe("window:scroll",function(n){t.verticalScrollTimer&&clearTimeout(t.verticalScrollTimer),t.verticalScrollTimer=setTimeout(function(){e.rapidTracker.beaconEvent("verticalScroll",{view:t.name,scrollY:window.pageYOffset,scrollTo:e.rapidTracker.getScrollSection(t,window.innerWidth/2,window.innerHeight/2)})},o)}))},getScrollSection:function(t,n,r){var i=e.one(document.elementFromPoint(n,r)),s=i.ancestor("[data-scroll-section]",!0);if(s)return s.getAttribute("data-scroll-section");var o=i.ancestor(".view",!0),u;if(o){u=o.getAttribute("class").match(/[\S]+-view/)[0];if(u===t.name&&n===window.innerWidth/2){var a=e.rapidTracker.getScrollSection(t,n/2,r);return a!==t.name?a:e.rapidTracker.getScrollSection(t,n+n/2,r)}return u}}}},"@VERSION@",{affinity:"client",requires:["querystring-parse-simple","global-events"]});
YUI.add("storage-helper",function(e){e.StorageHelper={setItem:function(t,n,r){var i=r?"sessionStorage":"localStorage";if(e.config.win)try{e.config.win[i][t]=n}catch(s){}},getItem:function(t,n){var r=n?"sessionStorage":"localStorage",i;if(e.config.win)try{i=e.config.win[r][t]}catch(s){}return i},remove:function(t,n){var r=n?"sessionStorage":"localStorage";if(e.config.win)try{e.config.win[r].removeItem(t)}catch(i){}},hasEntries:function(t,n){var r=n?"sessionStorage":"localStorage",i=!1;if(e.config.win)try{i=typeof e.config.win[r][t]!="undefined"}catch(s){}return i},isLocalStorageAvailable:function(){var t="checkLSCompat",n=!1;try{e.config.win.localStorage[t]="checkLSCompatValue",e.config.win.localStorage.removeItem(t),n=!0}catch(r){n=!1}return n}},e.Storage={Instance:{_cache:{},_hasSessionStorage:!0,_clientIdKey:"",getClientIdKey:function(){return this._clientIdKey||(this._clientIdKey=e.config.win.appContext.clientId+"_"),this._clientIdKey},get:function(t){var n,r;try{t=t||"",n=this.getClientIdKey()+t,this._hasSessionStorage?r=e.config.win.sessionStorage.getItem(n):r=this._cache[n]}catch(i){this._hasSessionStorage=!1}return r},set:function(t,n){var r;try{t&&(r=this.getClientIdKey()+t,this._hasSessionStorage?e.config.win.sessionStorage.setItem(r,n):this._cache[r]=n)}catch(i){this._cache[r]=n,this._hasSessionStorage=!1}},has:function(t){var n=!1,r;try{r=this.getClientIdKey()+t,this._hasSessionStorage?n=!!e.config.win.sessionStorage.getItem(r):n=!!this._cache[r]}catch(i){this._hasSessionStorage=!1}return n},remove:function(t){var n;try{t=t||"",n=this.getClientIdKey()+t,this._hasSessionStorage?e.config.win.sessionStorage.removeItem(n):this._cache[n]=undefined}catch(r){this._hasSessionStorage=!1}},clear:function(){this.clearByKey(this.getClientIdKey())},clearByKey:function(t){var n,r,i,s=[];try{if(t)if(this._hasSessionStorage){for(n=0,i=e.config.win.sessionStorage.length;n<i;n++)r=e.config.win.sessionStorage.key(n),r&&r.indexOf(t)===0&&s.push(r);for(n=0,i=s.length;n<i;n++)e.config.win.sessionStorage.removeItem(s[n])}else{e.Object.each(this._cache,function(e,n){n.indexOf(t)===0&&s.push(n)});for(n=0,i=s.length;n<i;n++)this._cache[s[n]]=undefined}}catch(o){this._hasSessionStorage=!1}}}}},"@VERSION@",{requires:[]});
YUI.add("keyboard-manager",function(e){var t=e.KeyboardManager=function(){var t=this;this.keyEventScope=["*"],e.on("flickr:setKeyEventScope",function(e){t.setCurrentKeyEventScope(e)}),e.on("flickr:removeKeyEventScope",function(e){t.removeCurrentKeyEventScope(e)})},n;t.prototype={on:function(t,n,r){return typeof r=="undefined"&&(r=n,n=null),e.one("doc").on("key",this.handleKey.bind(this,r,n),t)},handleKey:function(e,t,r){if(r.metaKey||r.altKey||r.shiftKey||r.ctrlKey)return;if(this.inputHasFocus())return;var i=n.get(r,"keyEventScope");i||(i=this.getCurrentKeyEventScope(),n.add(r,{keyEventScope:i})),(t==="*"||t===i)&&e(r)},inputHasFocus:function(){var t,n=/^text|search|tel|url|email|password|datetime|date|month|week|time|datetime-local|number|range|color$/i,r;try{t=e.one(document.activeElement)}catch(i){return!1}return t?(r=t.get("tagName").toUpperCase(),r==="INPUT"?n.test(t.get("type")):r==="TEXTAREA"||r==="SELECT"?!0:t.getAttribute("contenteditable")||!1):!1},setCurrentKeyEventScope:function(e){var t=this.keyEventScope.indexOf(e);t===-1?this.keyEventScope.push(e):this.keyEventScope=this.keyEventScope.slice(0,t+1)},getCurrentKeyEventScope:function(){return this.keyEventScope.slice(-1)[0]},getKeyEventScopeStack:function(){return this.keyEventScope},removeCurrentKeyEventScope:function(e){var t=this.keyEventScope.indexOf(e);t>-1&&(this.keyEventScope=this.keyEventScope.slice(0,t))},resetCurrentKeyEventScope:function(e){this.keyEventScope=["*"]}},n=function(){function r(e){var t;switch(e.type){case"key":t=e.which+e.pageX+e.pageY;break;default:t=e.type+e.pageX+e.pageY}return t}function i(e){delete t[e]}var t={},n=1;return{add:function(s,o){var u,a=r(s),f;e.Lang.isObject(s)&&e.Lang.isObject(s._event)&&e.Lang.isObject(o)&&(f=e.later(n,this,i,a),u=t[a]||{},e.mix(u,o,!0),u.timer&&u.timer.cancel(),u.timer=f,t[a]=u)},get:function(s,o){var u=r(s),a=t[u]||{};return a.timer&&a.timer.cancel(),a.timer=e.later(n,this,i,u),o?a[o]:a}}}()},"@VERSION@",{requires:["event-key"]});
YUI.add("overflow-helper",function(e){function t(t){var n=0,r;return YUI.Env.isServer||(r=e.Node.create("<div></div>"),r.setStyle("width",100).setStyle("height",100).setStyle("overflow","scroll").setStyle("position","absolute").setStyle("top",-9999),t.append(r),n=r._node.offsetWidth-r._node.clientWidth,r.remove(!0)),n}function n(t,n){var r,i,s;YUI.Env.isServer||(r=e.Node.create("<div>test event</div>"),r.setStyle("height: 1px").setStyle("width","1px").setStyle("opacity",0).setStyle("position","absolute").setStyle("top",-99999).setStyle("left",-99999).setStyle("overflow","auto"),t.append(r),i=setTimeout(function(){r._node.removeEventListener("overflow",s),r.remove(!0),n(!1)},10),s=function(e){clearTimeout(i),r._node.removeEventListener("overflow",s),r.remove(!0),n(!0)},r._node.addEventListener("overflow",s,!1))}function r(e,t,r,i){var s=t==="over",o,u,a,f;"OverflowEvent"in window?(f=function(e){if(e.type===t+"flow"||e.orient===0&&e.horizontalOverflow===s||e.orient===1&&e.verticalOverflow===s||e.orient===2&&e.horizontalOverflow===s&&e.verticalOverflow===s)return r.call(this,e)},a=e._node.addEventListener("overflowchanged",f,!1),i({detach:function(){e._node.removeEventListener("overflowchanged",f)}})):n(e,function(n){n?(f=function(e){if(e.type===t+"flow"||e.orient===0&&e.horizontalOverflow===s||e.orient===1&&e.verticalOverflow===s||e.orient===2&&e.horizontalOverflow===s&&e.verticalOverflow===s)return r.call(this,e)},a=e._node.addEventListener(t+"flow",f,!1),i({detach:function(){e._node.removeEventListener(t+"flow",f)}})):(u=function(){e._node.scrollHeight>e._node.clientHeight?t==="over"&&r.call(e._node,{}):t==="under"&&r.call(e._node,{})},"MutationObserver"in window?(o=new MutationObserver(function(e){e.some(function(e){return u(),!0})}),o.observe(e._node,{attributes:!1,subtree:!0,childList:!0}),i({detach:function(){o.disconnect()}})):"MutationEvent"in window&&(f=function(e){setTimeout(function(){u()},10)},a=e._node.addEventListener("DOMSubtreeModified",f,!1),i({detach:function(){e._node.removeEventListener("DOMSubtreeModified",f)}})))})}e.OverflowHelper={detectScrollbarSize:t,addFlowListener:r}},"@VERSION@",{requires:[]});
YUI.add("priority-queue",function(e,t){var n,r;e.PriorityQueue=n=function(e){this._comp=e||r,this._elts=[]},r=function(e,n){var r=typeof e,i=typeof n;if(r==="number"&&i==="number")return e-n;if(r!=="string"||i!=="string")throw new Error("["+t+"] can't sort items of type "+r+" and "+i);if(e===n)return 0;if(e>n)return 1;-1},n.prototype.size=function(){return this._elts.length},n.prototype.isEmpty=function(){return this._elts.length===0},n.prototype.push=function(){var e=Array.prototype.slice.call(arguments);e.length===1?this._elts.push(e[0]):this._elts=this._elts.concat(e),this.sort()},n.prototype.pop=function(){return this._elts.pop()},n.prototype.peek=function(){return this._elts[this._elts.length-1]},n.prototype.sort=function(e){e&&(this._comp=e),this._elts.sort(this._comp)},n.prototype.clear=function(e){this._elts=[]},n.prototype.map=function(e){return this._elts.map(e)}},"@VERSION@",{requires:[]});
YUI.add("defer-images",function(e,t){function p(){if(c)return;f=new Array(n),u=new e.PriorityQueue(function(e,t){return E(l,t)-E(l,e)}),h=!0,S(),g(),y(),e.globalEvents.subscribe("window:scroll",function(){S(),u.sort()}),c=!0}function d(){if(!c){p();return}u.clear(),g(),y()}function v(){h=!1}function m(){h=!0,y()}function g(){var t=[];a=e.all(o),a.each(function(e,n){var r=e.getXY();t.push({x:r[0],y:r[1],url:e.getAttribute(s),node:e,errorCount:0})}),u.push.apply(u,t)}function y(){var e,t,r;if(!h)return;for(e=0;e<n;e++){t=f[e];if(t&&!t.complete)continue;r=u.pop(),r&&(f[e]=t={task:r,complete:!1},b(t))}}function b(e){var t=new Image,n=w.bind(this,e);t.onload=n,t.onerror=function(){var t;e.task.errorCount++,e.task.errorCount>r?(t=/[a-f0-9]+(_[a-z]{1,2})?\.[a-z]{3,4}$/.exec(e.task.url),e.task.url="https://s.yimg.com/pw/images/"+this.appContext.lang.toLowerCase()+"/photo_unavailable"+(t[1]?t[1]:"")+".png",n()):b(e)},t.src=e.task.url,t.complete&&n()}function w(e){var t=e.task.node;switch(t.get("tagName").toLowerCase()){case"img":t.setAttribute("src",e.task.url);break;case"video":t.setAttribute("poster",e.task.url);break;default:t.setStyle("backgroundImage","url("+e.task.url+")")}t.setAttribute(s,i),e.complete=!0,y()}function E(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function S(){l={x:e.config.win.pageXOffset+e.config.win.innerWidth/2,y:e.config.win.pageYOffset+e.config.win.innerHeight/2}}var n=4,r=3,i="loaded",s="data-defer-src",o="["+s+"]:not(["+s+'="'+i+'"])',u,a,f,l={x:0,y:0},c=!1,h=!1;e.DeferImages={init:p,update:d,pause:v,resume:m}},"@VERSION@",{requires:["priority-queue","app-context","global-events"]});
YUI.add("accessibility",function(e,t){function n(e){e.registerEventHandler(e.get("container").on("mouseup",r)),e.registerEventHandler(e.get("container").on("focus",i))}function r(){var t=e.one(document.activeElement);t&&t.addClass("no-outline")}function i(){var t=e.one(document.activeElement);t&&t.removeClass("no-outline")}e.Accessibility={manageFocusOutlines:n}},"@VERSION@",{requires:[]});
YUI.add("client-app",function(e,t){function a(t){var n=window.location,r=window.history,i,s,o=!1;if(n.search&&r.replaceState){i=e.QueryString.parse(n.search.replace("?","")),t.forEach(function(e){e in i&&(delete i[e],o=!0)});if(o){s=e.QueryString.stringify(i);try{r.replaceState({},"",n.pathname+(s?"?"+s:""))}catch(u){}}}}function f(e,t){return t.betterUse(e,t)}function l(){return new e.FlickrRouter(u,e.config.flickr.routes)}function c(t){return window.appContext=new e.AppContext(t),window.appContext}function h(t){var n,i,s=[],o,u,a=["flickr.photos.addView","flickr.groups.updateViewDate","flickr.photos.getPhotos","flickr.people.addView","flickr.photosets.addView"];r.getViewCounter().flushQueue();if(r.uploadIsInProgress())u=this.intlMessage({intlName:"client-app.UPLOAD_IN_PROGRESS"});else{for(n in r.writeAPICallsMadeOnThisPage)i=r.writeAPICallsMadeOnThisPage[n],i.completed||s.push(i);s.length&&(s.every(function(e){return a.indexOf(e.methodName)!==-1})||(e.config.flickr.requestConfig&&e.config.flickr.requestConfig.auth&&e.config.flickr.requestConfig.auth.isInsecureGod?(o=s.map(function(e){return e.methodName}).join(", "),u=this.intlMessage({intlName:"client-app.SAVING_LAST_ACTIONS"})+" In progress API Methods: "+o):u=this.intlMessage({intlName:"client-app.SAVING_LAST_ACTIONS"})))}return e.Storage.Instance.clear(),u&&((t||window.event).returnValue=u),u}function p(t){r.setClientSideRouted(!0),r.setPreviousLocation(),r.updateModelRefetchState(t.url,t.originEvent&&t.originEvent.currentTarget&&t.originEvent.currentTarget.hasClass("do-not-evict")),r.clearWriteAPICallCache(),r.setGPCredentials(null),e.loaderBar.start(),r.clientMetrics.clearPendingMeasurements(),r.clientMetrics.start(t.details[0].url),r.adManager.isEnabled()&&r.adManager.currentlyShowingAd&&r.adManager.adIsUnloading(),r.getKeyboardManager().resetCurrentKeyEventScope(),e.Object.each(r.modelRegistries,function(e,t){e.hasWeakSubscribers&&e.removeWeakSubscribers()}),i=!0}function d(){e.UA.chrome>0&&(window.scrollTo(window.scrollX,window.scrollY+1),window.scrollTo(window.scrollX,window.scrollY-1))}function v(t){e.Object.each(r.modelRegistries,function(e,t){e.hasWeakSubscribers&&e.removeWeakSubscribers()}),t.src==="popstate"&&d(),t.src==="popstate"&&!u.hasRoute(u.getPath())&&!e.Object.isEmpty(t.newVal)&&u.navigate(u.getPath()),r.getViewCounter().flushQueue({resetDuplicateTracking:!0}),i||r.updateModelRefetchState(),i=!1}function m(e){u.set("previousView",e.prevVal)}function g(t,n){var i={spaceId:n,pageId:t.replace(/-/g,"_"),hostname:e.config.flickr.host["instance hostname"]||e.config.flickr.host.hostname,uuid:e.config.flickr.request.idShort,paft:!0,clientMetrics:r.clientMetrics,signedIn:r.getViewer().signedIn,rapidOnly:o,beaconToRapid:s,rapid:e.rapidTracker};r.Lighthouse=new e.Lighthouse(i)}function y(){var t=r.getViewer().intl;t==="de"&&e.use("hermes-template-agof",function(){var t=u.get("activeView"),r,i;r=e.config.flickr.agof.spaceids[t.name]||e.config.flickr.agof.spaceids["default"],i=e.Template.get("hermes/agof")({spaceid:r}),e.one(".agof").set("innerHTML",i),n.log("AGOF",{spaceid:r})})}function b(t,n){n=n||u.get("activeView"),e.rapidTracker.getConf(n,r,t).then(function(t){e.rapidTracker.init(t)})}function w(t,n){e.rapidTracker&&e.rapidTracker.destroy&&e.rapidTracker.destroy(),b(t,n)}function E(){try{ga&&(ga("set","page",document.location.href),ga("send","pageview"))}catch(e){}}function S(){a(["campaignID","linkID"])}function x(t){var n=t.pathname||"",r=(n.match(/^\/photos\/([^\/]+)/)||[])[1]||null,i;return r&&r!=="friends"&&(i=e.murmurhash(r,r+"secret insecure salt"),n=n.replace(r,i)),e.config.flickr.url.host+n}function T(){var t={c1:2,c2:7241469,c3:"",c4:encodeURIComponent(x(document.location)),c5:u.get("activeView").get("spaceid"),c6:"",c15:""};e.comscore&&e.comscore.beacon&&e.comscore.beacon(t)}function N(t){var i=this.get("activeView");i.getViewDataFromHistory("referrer")===undefined&&i.setViewDataOnHistory("referrer",r.getPreviousURL()),r.clientMetrics.end(),w(),T(),E(),y(),e.DeferImages.update(),e.config.win.DARLA&&e.config.win.DARLA.event&&typeof e.config.win.DARLA.event=="function"&&e.soon(function(){try{e.config.win.DARLA.event("AGOF")}catch(t){n.error("error firing secureFrame event",{err:t})}}),r.adManager.setAdCouldBeShown(!1);if(e.config.win.onappclientnav)try{e.config.win.onappclientnav()}catch(t){}e.Accessibility.manageFocusOutlines(i),e.rapidTracker.beaconScroll(i)}function C(t){return new e.Promise(function(i,s){var o=setTimeout(function(){s(new Error("Initial View Timeout"))},1e4);t.params.appContext=r,u.showContent(e.one("#content > .view"),{view:{name:t.name,config:t.params}},function(u){e.one("body").removeClass("dark-loader"),u._params&&(u._params.keyEventScope=u.name+u._yuid),u.setViewDataOnHistory("referrer",document.referrer),g(t.name,t.spaceId),u.set("isRootView",!0),u.initialize().then(function(){b(),T(),y(),r.getKeyboardManager().setCurrentKeyEventScope(u.name+u._yuid),d(),e.DeferImages.init(),e.Accessibility.manageFocusOutlines(u),e.rapidTracker.beaconScroll(u),S(),clearTimeout(o),i()}).then(null,function(e){throw n.error("There was a problem initializing or activating the view.",{err:e}),s(),e})}),u.before("navigate",p),u.before("activeViewChange",m),e.on("history:change",v),u.after("activeViewChange",N)})}function k(t,n,i,a){var f={},h;return e.Views&&e.Views[t]&&(f[t]={type:e.Views[t],preserve:!1}),u=new e.App({serverRouting:!0,viewContainer:"#content",container:"#content",linkSelector:":not(.server-only-link)",scrollToTop:!1,views:f}),s=a.flipper["enable-lighthouse-and-rapid-performance-beaconing"],o=a.flipper["enable-rapid-only-performance-beaconing"],o||e.FlickrClientMetrics.gatherColdStartData(),h=l(),a.auth=n,a.flapp=u,r=c(a),r.clientMetrics=new e.FlickrClientMetrics(r),o||(r.apiMetrics=new e.FlickrAPIMetrics(r)),r.routeTiming=a.routeTiming,r.routeConfig=a.routeConfig,r.getHealthBeaconer(),e.mix(e.Node.DOM_EVENTS,{transitionend:!0,webkitTransitionEnd:!0}),e.ClientTransport.authorize(r),window.addEventListener
("unload",function(t){e.ClientTransport.unloading=!0}),window.addEventListener("load",function(t){e.ClientTransport.unloading=!1}),r.modelImportExport.importAll(i)}function L(t){if(typeof t=="undefined")return e.Promise.reject({message:"Invalid config object supplied, was undefined."});var n=t.initialView,r=t.modelExport,i,s,o=t.auth,u=this;return o&&t.auth.signedIn?i=t.auth.csrf:i=null,e.config.flickr.csrf.token=i,e.config.flickr.requestConfig={auth:o},t.params.routeTiming=t.routeTiming,t.params.routeConfig=t.routeConfig,a(["rb","welcome","rd","cr"]),window.location.search&&window.location.search.match(/yc=/)&&(s=e.QueryString.parse(window.location.search.replace("?","")),e.config.flickr.ycParam=s.yc),e.transportFactory=function(n,r){return new e.ClientTransport(r)},f(n.name,e).then(function(){return k(n.name,o,r,t.params)}).then(function(){return C(n)}).then(function(){e.config.win.addEventListener("beforeunload",h.bind(u))}).then(e.config.win.onappinit)}var n=require("lib/flog")(t),r,i=!1,s,o,u;e.ClientApp={init:L,beforeUnload:h,beforeNavigate:p,_loadInitialView:f,langBundles:["client-app"],updateRapidTracker:w},e.mix(e.ClientApp,e.Localizable)},"@VERSION@",{requires:["app-base","app-content","router","app-context","client-transport","flickr-router","flickr-client-metrics","flickr-api-metrics","handlebars-helpers","lighthouse","comscore","loader-bar","murmurhash","node","rapid","site-key","csrf-updater","better-use","flickr-promise","global-events","querystring-parse-simple","querystring-stringify-simple","storage-helper","keyboard-manager","dom","overflow-helper","defer-images","accessibility"],affinity:"client",langBundles:["client-app"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("intl",function(e,t){var n={},r="yuiRootLang",i="yuiActiveLang",s=[];e.mix(e.namespace("Intl"),{_mod:function(e){return n[e]||(n[e]={}),n[e]},setLang:function(e,t){var n=this._mod(e),s=n[i],o=!!n[t];return o&&t!==s&&(n[i]=t,this.fire("intl:langChange",{module:e,prevVal:s,newVal:t===r?"":t})),o},getLang:function(e){var t=this._mod(e)[i];return t===r?"":t},add:function(e,t,n){t=t||r,this._mod(e)[t]=n,this.setLang(e,t)},get:function(t,n,r){var s=this._mod(t),o;return r=r||s[i],o=s[r]||{},n?o[n]:e.merge(o)},getAvailableLangs:function(t){var n=e.Env._loader,r=n&&n.moduleInfo[t],i=r&&r.lang;return i?i.concat():s}}),e.augment(e.Intl,e.EventTarget),e.Intl.publish("intl:langChange",{emitFacade:!0})},"3.16.0",{requires:["intl-base","event-custom"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("base-pluginhost",function(e,t){var n=e.Base,r=e.Plugin.Host;e.mix(n,r,!1,null,1),n.plug=r.plug,n.unplug=r.unplug},"3.16.0",{requires:["base-base","pluginhost"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("template-base",function(e,t){function n(t,n){this.defaults=n,this.engine=t||e.Template.Micro,this.engine||e.error("No template engine loaded.")}n._registry={},n.register=function(e,t){return n._registry[e]=t,t},n.get=function(e){return n._registry[e]},n.render=function(t,r,i){var s=n._registry[t],o="";return s?o=s(r,i):e.error('Unregistered template: "'+t+'"'),o},n.prototype={compile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.compile(t,n)},precompile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.precompile(t,n)},render:function(t,n,r){return r=r?e.merge(this.defaults,r):this.defaults,this.engine.render?this.engine.render(t,n,r):this.engine.compile(t,r)(n,r)},revive:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.revive?this.engine.revive(t,n):t}},e.Template=e.Template?e.mix(n,e.Template):n},"3.16.0",{requires:["yui-base"]});
YUI.add("flickr-view",function(e,t){function r(t,r,i,s,o){e.namespace("Views"),e.Views[t]&&n.warn("A view with this name already exists. Did you mean to redefine it?",{view:t}),s.destroy&&s.destroy!==e.FlickrView.prototype.destroy&&n.warn("`destroy` method was overridden. Did you mean `destructor`?",{view:t}),s.initialize&&s.initialize!==e.FlickrView.prototype.initialize&&n.warn("`initialize` method was overridden. Did you mean `initializer`?",{view:t});try{e.Views[t]=e.Base.create(t,r,i,s,o)}catch(u){throw n.warn("`Base.create` method failed, maybe because of Chrome 51?",{view:t}),!YUI.Env.isServer&&e.config.win.beaconError&&e.config.win.beaconError("`Base.create` method failed, maybe because of Chrome 51?",e.config.win.location.href,u),u}if(r&&r!==e.FlickrView&&r.prototype&&r.prototype.langBundles){var a=[],f=(e.Views[t].prototype.langBundles||[]).concat(r.prototype.langBundles);a=e.Array.dedupe(f),e.Views[t].prototype.langBundles=a}return e.Views[t]}var n=require("lib/flog")(t);e.FlickrView=e.Base.create("flickrView",e.Base,[],{viewState:null,subviews:{},subviewConfig:null,_eventHandles:null,initializer:function(e){return this.appContext=e.appContext,delete e.appContext,this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this.set("headContainer",""),this.isBuilt=!1,this.isActivated=!1,this.isErrorBuilt=!1,this.subviewsWithLoadingError={},this._params=e||{},this.isMobile=e.isMobile,this.subviews={},this._eventHandles=[],this.appContext&&!this.appContext.viewTiming&&(this.appContext.viewTiming={}),this.appContext&&(this.appContext.viewTiming[this.name]={initialize:0,loadState:0,buildContainer:0,buildHeadContainer:0,activate:0}),this},initialize:function(t){var r=this;return this.initializeStartTime=Date.now(),this.isErrorBuilt=!1,this.serverRendered=t&&t.serverRendered?t.serverRendered:!1,r.beforeDestroy&&(r.beforeDestroyHandler=r.before("destroy",r.beforeDestroy)),YUI.Env.isServer||this.registerEventHandler(this.appContext.flapp.after("activeViewChange",function(e){r.normalizedActivate()})),this.on("parentViewEvent",this.handleParentViewEvent.bind(this,this.name)),this.setupSubviews().then(function(){var e,t;if(r.isErrorBuilt)throw r.error.is404?r.error:(t=new Error("Subview of "+r.name+" causing loadState error"),r.error&&(t.message+=": "+r.error.message,r.error.method&&(t.message+=", method="+r.error.method),t.message+=" | subview failure: "+r.error.fatal,r.error.wasDealbreaker&&(t.message+=" dealbreaker failed "),r.error.wasMultipleSubviews&&(t.message+=" multiple subviews failed "),t.fatal=r.error.fatal),t);r.loadStateTimingStart=Date.now(),e=r.loadState();if(!e)throw new Error("View "+r.name+" loadState function does not return a promise");return e}).then(function(){r.appContext&&r.appContext.viewTiming&&r.appContext.viewTiming[r.name]&&(r.appContext.viewTiming[r.name].loadState=Date.now()-r.loadStateTimingStart);if(YUI.Env.isServer||!r.get("container").hasClass("requiredToShowOnServer")||t&&t.wasDeferred){var e=Date.now();try{r.buildContainer()}catch(i){throw n.error("Error building",{topic:r.name,err:i}),r.fire("loadingError",{message:i.message,fatal:!0,wasDealbreaker:!0}),r.buildErrorContainer(),r.isErrorBuilt=!0,i}r.appContext&&r.appContext.viewTiming&&r.appContext.viewTiming[r.name]&&(r.appContext.viewTiming[r.name].buildContainer=Date.now()-e);if(r.get("isRootView")){r._buildFullRootViewAdditionalViewClasses();var s=r.get("rootViewAdditionalViewClasses");s&&s.length>0&&r.get("container").addClass(s.join(" "))}}r.isBuilt=!0,r.isErrorBuilt=!1,r.fire("loadingSuccess")},function(e){throw r.fire("loadingError",{message:e.message,fatal:e.fatal,is404:e.is404,wasMultipleSubviews:e.wasMultipleSubviews,wasDealbreaker:e.wasDealbreaker}),r.buildErrorContainer(),r.isErrorBuilt=!0,n.error("Error loading state",{topic:r.name,err:e}),e}).then(function(){var t,n;return!r.isErrorBuilt&&!r.get("isActiveViewAgnostic")&&(t=Date.now(),r._buildFullHeadMeta(),r.buildHeadContainer=Date.now()-t),YUI.Env.isServer||(r.shouldDeferSubviews&&r._setupDeferredSubviewsInitialization(),n=Date.now(),r.normalizedActivate(),r.appContext&&r.appContext.viewTiming&&r.appContext.viewTiming[r.name]&&(r.appContext.viewTiming[r.name].activate=Date.now()-n)),r.appContext&&r.appContext.viewTiming&&r.appContext.viewTiming[r.name]&&(r.appContext.viewTiming[r.name].initialize=Date.now()-r.initializeStartTime),!YUI.Env.isServer&&r._params.logViewTimings&&r.wasRequiredToShow&&e.fletrics.set(r.name.replace(/\-/g,".")+".viewtiming",r.appContext.viewTiming[r.name].initialize),r},function(e){throw YUI.Env.isServer||(r.shouldDeferSubviews&&r._setupDeferredSubviewsInitialization(),r.normalizedActivate()),e}).catch(e.PromiseCatcher(this.name))},render:function(){return this},buildHeadContainer:function(){return this.set("headContainer",""),this},_buildSubviewHeadContainers:function(){var e=[],t=this,n="<script";return Object.keys(this.subviews).forEach(function(n){e.indexOf(t.subviews[n].get("headContainer"))===-1&&e.push(t.subviews[n].get("headContainer"))}),e.sort(function(e,t){var r=e.toLowerCase().indexOf(n)>-1,i=t.toLowerCase().indexOf(n)>-1;return r&&!i?1:!r&&i?-1:0}).join("")},_buildFullHeadMeta:function(){var e,t="";return this.buildHeadContainer(),e=this.get("headContainer"),e=e.concat(this._buildSubviewHeadContainers()),this.set("headContainer",e.concat(t)),this},setRootViewAdditionalViewClasses:function(){return this.set("rootViewAdditionalViewClasses",[]),this},_buildFullRootViewAdditionalViewClasses:function(){var e=[];return e=e.concat(this._buildSubviewRootViewAdditionalViewClasses()),this.set("rootViewAdditionalViewClasses",e),this},_buildSubviewRootViewAdditionalViewClasses:function(){this.setRootViewAdditionalViewClasses();var e=this.get("rootViewAdditionalViewClasses")||[],t=this;return Object.keys(this.subviews).forEach(function(n){var r=t.subviews[n]._buildSubviewRootViewAdditionalViewClasses();e=e.concat(r)}),e},_setupDeferredSubviewsInitialization:function(){setTimeout(function(){var t=e.config
.win.document.body;t.scrollTop>0||t.clientHeight-50<=t.scrollHeight?this._loadDeferredSubviews():(this.deferredViewScrollListener=e.globalEvents.subscribe("window:scroll",this._loadDeferredSubviews.bind(this)),this.registerEventHandler(this.deferredViewScrollListener))}.bind(this),10)},_loadDeferredSubviews:function(){this.loadingDeferred||(this.loadingDeferred=!0,this._removeDeferredViewScrollListener(),this._recursivelyLoadDeferredSubview(0,!1))},_removeDeferredViewScrollListener:function(){this.deferredViewScrollListener&&(this.deferredViewScrollListener.detach(),this.deferredViewScrollListener=null)},_recursivelyLoadDeferredSubview:function(t,r){var i=Object.keys(this.subviewConfig||[]).filter(function(e){var t=this.subviewConfig[e];return t.disabled===!0?!1:typeof t.disabled=="function"&&t.disabled.call(this,this._params)?!1:this.subviewConfig[e].canDefer}.bind(this)),s=this;if(t<=i.length-1){var o=i[t],u=e.merge(this._params,this.subviewConfig[o]),a;u.container=null,u.wasDeferred=!0,n.log("Loading deferred view",{topic:s.name,view:o});try{a=this.appContext.getView(o,u)}catch(f){this._onDeferredViewLoadingError(t,r,f);return}a.then(function(e){if(!e){n.error("An error occured trying to load the deferred view.",{topic:s.name}),r?(t++,r=!1):r=!0,s._recursivelyLoadDeferredSubview(t,r);return}e.initialize(u).then(function(){e.on("subviewViewEvent",function(t){t&&t.details&&t.details.length&&s.onSubviewEvent.call(s,e.name,t.details)}),u&&u.additionalViewClasses&&u.additionalViewClasses.forEach(function(t){e.get("container").addClass(t)}),s._addDeferredViewToDOM(e),e.normalizedActivate(),t++,s._recursivelyLoadDeferredSubview(t,!1)}).catch(s._onDeferredViewLoadingError.bind(this,t,r))})}},_onDeferredViewLoadingError:function(e,t,r){n.error("An error occured trying to initialize the deferred view",{topic:this.name,err:r}),t?(e++,t=!1):t=!0,this._recursivelyLoadDeferredSubview(e,t)},_addDeferredViewToDOM:function(e){if(!e){n.error("Non-view passed to _addDeferredViewToDOM.",{topic:this.name});return}var t=this.get("container").one("."+e.name),r=e.get("container");t&&r?t.replace(r):n.error("Could not add view to DOM in _addDeferredViewToDOM",{topic:this.name,view:e.name})},attachKeyEvent:function(e,t,n){return this.registerEventHandler(this.appContext.getKeyboardManager().on(e,n||this._params.keyEventScope||"*",t.bind(this)))},setContainerHTML:function(e){var t=this;return this.get("container").setHTML(e),YUI.Env.isServer||(this.get("container").generateID(),Object.keys(this.subviews||{}).forEach(function(e,n,r){var i=t.subviews[e],s=i.get("container"),o=i.getId?i.getId():s._yuid,u=t.get("container").one("#"+o);u&&u.replace(s)})),this},setupSubviews:function(){var t=this,r,i=[],s=[],o=[],u=this.appContext.flipper.isFlipped("enable-non-blocking-on-non-required-views"),a,f={};if(!this.subviewConfig)return e.Promise.resolve();Object.keys(this.subviewConfig).forEach(function(e){if(t.subviewConfig[e].disabled===!0)return;if(typeof t.subviewConfig[e].disabled=="function"&&t.subviewConfig[e].disabled.call(t,t._params))return;f[e]=t.subviewConfig[e]}),r=Object.keys(f).map(function(r){YUI.Env.isServer?a=f[r].requiredToShowOnServer||f[r].requiredToShow||t.appContext.forceServerRender&&!f[r].neverShowOnServer:a=f[r].requiredToShowOnClient||f[r].requiredToShow;var l=e.merge(t._params,f[r]);!t.shouldDeferSubviews&&l.canDefer&&delete l.canDefer;if(t.shouldDeferSubviews&&l.canDefer){n.log("Deferring subview.",{topic:t.name,view:r});var c=u?o:i;c.push(t.instantiateSubview(r,l).then(function(e){return e.setContainerHTML(""),e.get("container").addClass("deferred-view"),e}))}else if(a){var h=u?s:i;h.push(t.instantiateSubview(r,l).then(function(e){return e.wasRequiredToShow=!0,t.setupSubview(r,l,e)}))}else{var p=u?o:i;p.push(t.instantiateSubview(r,l).then(function(n){n.wasRequiredToShow=!1,YUI.Env.isServer||e.soon(function(){t.setupSubview(r,l,n)})}))}}).filter(function(e){return!!e});if(u){var l=s.length?e.Promise.all(s):e.Promise.resolve();return l.then(function(){o.length&&!YUI.Env.isServer&&e.Promise.all(o).then(function(){t.buildContainer(),t.normalizedActivate()})})}return i.length?e.Promise.all(i):e.Promise.resolve()},registerSubview:function(e,t){t||(t=e.name),this.subviews[t]=e},instantiateSubview:function(t,r){var i=this;return r.container=this.getContainer({isSubview:!0,subviewName:t,subviewParams:r}),this.appContext.getView(t,r).then(null,function(){return n.log("getView failed to load view, retrying once more."),i.appContext.getView(t,r)}).then(function(e){return e.on("loadingError",i.handleSubviewLoadingError.bind(i)),e.on("loadingSuccess",i.handleSubviewLoadingSuccess.bind(i)),e.on("subviewViewEvent",i.handleSubviewEvent.bind(i,e.name)),i.registerSubview(e,t),e._params&&(e._params.keyEventScope=i._params.keyEventScope),e}).catch(e.PromiseCatcher(this.name))},onSubviewEvent:function(e,t){return!0},onParentViewEvent:function(e,t){return!0},handleSubviewEvent:function(e,t){var n=t?t.details||[]:[];this.onSubviewEvent(e,n)!==!1&&this.fire.apply(this,["subviewViewEvent"].concat(n))},handleParentViewEvent:function(e,t){var n=t?t.details||[]:[],r,i=this;if(this.onParentViewEvent(e,n)!==!1)for(r in this.subviews)i.subviews[r].fire.apply(i.subviews[r],["parentViewEvent"].concat(n))},handleSubviewLoadingSuccess:function(e){this.subviewsWithLoadingError[e.target.name]&&delete this.subviewsWithLoadingError[e.target.name]},handleSubviewLoadingError:function(e){var t;this.subviewConfig[e.target.name].dealbreaker&&(this.hasDealbreakerSubviewLoadingError=!0),this.subviewsWithLoadingError[e.target.name]=e.details[0];if(!this.isErrorBuilt){t=Object.keys(this.subviewsWithLoadingError);if(this.hasDealbreakerSubviewLoadingError||t.length>=2)this.error={message:"",fatal:!0},t.forEach(function(e,n){var r=this.subviewsWithLoadingError[e];n!==t.length-1?this.error.message+="["+e+"] "+r.message+" | ":this.error.message+="["+e+"] "+r.message,r.is404&&(this.error.is404=!0),r.method&&(this.error.method+=r.method),r.fatal||(this
.error.fatal=!1)}.bind(this)),this.fire("loadingError",{message:this.error.message,fatal:this.error.fatal,is404:this.error.is404,wasDealbreaker:this.hasDealbreakerSubviewLoadingError,wasMultipleSubviews:t&&t.length>=2}),this.buildErrorContainer(),this.isErrorBuilt=!0,n.error("subview forced the error loading state",{topic:this.name,view:e.target.name})}},setupSubview:function(t,r,i){var s=this;return r=e.merge(r||{}),r.alreadyRendered=s.alreadyRendered,i.set("isActiveViewAgnostic",s.get("isActiveViewAgnostic")),i.initialize(r).then(function(){return s.subviews[t]},function(e){n.error("Error getting/initializing view",{topic:s.name,err:e,view:t})}).catch(e.PromiseCatcher(this.name))},attachEvents:function(t){if(!t)return;var n={},r=this;Object.keys(t).forEach(function(i){var s,o;s={selector:(i.match(/([\w-_#\.\[\]~|$^*= ]+) /i)||[])[1]||"[data-action]",type:(i.match(/([\w]+):/i)||[])[1]||"click",action:(i.match(/:([\w]+)/i)||[])[1]||"_default_"},o=s.selector+"/"+s.type,n[o]||(n[o]={},r.registerEventHandler(r.get("container").delegate(s.type,function(t){var i,u,a,f;i=t.target.ancestor(s.selector,!0);if(s.type==="click"){u=t.target.ancestor(".server-only-link",!0);if(u){if(t.metaKey===!0||t.ctrlKey===!0)return;e.config.win.location=u.get("href");return}}if(!i)return;a=i.getData()||{},f=a.action||"_default_";if(!n[o].hasOwnProperty(f))return;if(!n[o][f])throw new Error('Handler for "'+f+'" UI event is undefined');n[o][f].call(r,t,a)},s.selector))),n[o][s.action]=t[i]})},registerEventHandler:function(t){if(e.Lang.isFunction(t.detach))return this._eventHandles.push(t),t},detachRegisteredEvent:function(t){var n=this._eventHandles.indexOf(t);n!==-1&&e.Lang.isFunction(t.detach)&&(t.detach(),this._eventHandles.splice(n,1))},detachRegisteredEvents:function(){this._eventHandles.length&&(this._eventHandles.forEach(function(e){e.detach()}),this._eventHandles=[])},generateSignature:function(t,n){var r={},i,s,o=function(e){var t=0;if(e.length===0)return t;for(var n=0;n<e.length;n++)s=e.charCodeAt(n),t=(t<<5)-t+s,t&=t;return t};return e.Object.each(n,function(e,t){t!=="container"&&t!=="appContext"&&t!=="context"&&t!=="parentView"&&t!=="keyEventScope"&&typeof e!="undefined"&&typeof e!="function"&&(r[t]=typeof e=="object"?1:e)}),i=t+"__"+Object.keys(r).sort().map(function(e){var t,n;try{t=encodeURIComponent(e)}catch(i){t=encodeURIComponent(o(e))}try{n=encodeURIComponent(r[e])}catch(i){t=encodeURIComponent(o(r[e]))}return t+"_"+n}).join("__"),i},getContainer:function(t){t=t||{},t.subviewParams=t.subviewParams||{};var n,r,i=["view",t.subviewName||t.viewName||this.name],s,o=t.subviewName?t.subviewParams.additionalViewClasses:this.additionalViewClasses,u,a=t.subviewParams.preferredViewTag||"div";return(!t.isSubview||t.subviewParams.requiredToShowOnServer||t.subviewParams.requiredToShow)&&YUI.Env.isServer&&i.push("requiredToShowOnServer"),this.theme&&i.push(this.theme),e.Lang.isArray(o)&&o.length?i=i.concat(o):e.Lang.isFunction(o)&&(u=o.call(this),e.Lang.isArray(u)&&u.length&&(i=i.concat(u))),t.subviewName||i.push(e.FlickrView.ROOT_VIEW_CLASS_NAME),i=' class="'+i.join(" ")+'"',t.subview?n=t.subview.getId():t.subviewName&&t.subviewParams&&(n=this.generateSignature(t.subviewName,t.subviewParams)),YUI.Env.isServer?r={html:"",setHTML:function(e){this.html=e},getHTML:function(e){return this.html},get:function(e){switch(e){case"innerHTML":return this.html;case"outerHTML":return"<"+a+" "+i+(s?' style="'+Object.keys(s).reduce(function(e,t,n,r){return e+t+": "+s[t]+(n<r.length-1?"; ":"")},"")+'"':"")+(n?' data-view-signature="'+n+'"':"")+">"+this.html+"</"+a+">"}return null},hasChildNodes:function(){return!1},addClass:function(e){e=e.trim();if(e==="")return;i=i.slice(0,-1)+" "+e+'"'},hasClass:function(e){var t=i.split('"')[1],n=t.split(" ");return n.indexOf(e)>-1},removeClass:function(e){var t=i.split('"')[1],n=t.split(" "),r=n.indexOf(e);r!==-1&&(n.splice(r,1),i=' class="'+n.join(" ")+'"')},setStyle:function(e,t){s||(s={}),s[e]=t},setStyles:function(e){s||(s={}),Object.keys(e).forEach(function(t){s[t]=e[t]})},appendChild:function(e){this.html+=e.html},all:function(){return{each:function(){}}},one:function(){return null}}:(n&&(r=this.get("container").one('[data-view-signature="'+n+'"]')),r?r.removeAttribute("data-view-signature"):r=e.Node.create("<"+a+" "+i+"></"+a+">")),r},renderSubviews:function(){var e={},t=this;return Object.keys(this.subviews).forEach(function(e,r,i){try{t.subviews[e].render()}catch(s){n.error("Error rendering view",{topic:t.name,err:s,view:e})}}),e},templates:function(t){var r=e.Template.get("hermes/"+t),i=this.getLangBundles(),s=this,o;i.locales=this.appContext.lang||this.defaultLang;if(typeof r!="function")throw n.error("Template not found",{topic:this.name,template:t}),new Error("Template not found: "+t);return this.appContext.flipper&&(o=this.appContext.flipper),function(e){return e=e||{},!e.flippers&&o&&(e.flippers=o.toJSON()),e.isMobile=s._params.isMobile,s.appContext.forceServerRender&&(e.isServerRendered=!0),Object.keys(s.subviewConfig||{}).forEach(function(t){e[t]||(e[t]=s.subviews[t]?s.subviews[t].get("container"):"")}),r(e,{data:{intl:i,flippers:e.flippers}})}},loadState:function(){return e.Promise.resolve()},updateHead:function(){this.get("headContainer")!==null&&(e.one("head").all('[data-dynamic="true"]').remove(!0),e.one("head").append(this.get("headContainer")))},canActivate:function(){var e=!1;return(this.isBuilt||this.isErrorBuilt)&&!this.isActivated&&!this.isErrorActivated&&this.isActiveAndInDOM()&&(e=!0),e},isActiveAndInDOM:function(){var e=this.get("container");return e&&(this.get("isActiveViewAgnostic")||this.appContext.flapp.get("activeView").get("container").contains(e))&&e.inDoc()},activate:function(){return this},activateSubviews:function(){var e,t,r=this;for(e in this.subviews){t=r.subviews[e];try{t.normalizedActivate(),t.recursivelyActivateSubviews()}catch(i){n.error("Error activating view",{topic:this.name,err:i,view:e})}}return this},recursivelyActivateSubviews:function(
e){var t,r,i=e||this.subviews,s=this;for(t in i){r=i[t];if(r.canActivate()){r.normalizedActivate();try{r.normalizedActivate(),s.recursivelyActivateSubviews(r.subviews)}catch(o){n.error("Error activating view",{topic:this.name,err:o,view:r})}}}return this},normalizedActivate:function(){this.canActivate()&&(this.isErrorBuilt?(this.isErrorActivated=!0,this.activateErrorContainer()):(e.rapidTracker.refreshTracker(),this.activate(),this.isActivated=!0,this.activateSubviews()))},buildErrorContainer:function(){this.setContainerHTML("")},activateErrorContainer:function(){var e=this,t=this.get("container").one(".retry");t&&t.on("click",function(t){t.preventDefault(),e.isErrorActivated=!1,e.initialize()})},setViewDataOnHistory:function(t,n){return e.HistoryHelper.setData(this.name,t,n)},getViewDataFromHistory:function(t){return e.HistoryHelper.getData(this.name,t)},getTrackingSegments:function(){return{}},reload:function(t,n){var r=this,i=[];if(!t.length)return e.Promise.resolve();for(var s=0;s<t.length;s++)i.push(this.appContext.getModelRegistry(t[s]));return e.Promise.all(i).then(function(e){for(var t=0;t<e.length;t++)Array.isArray(n)?e[t].remove(n[t]):e[t].remove(n);YUI.Env.isServer||r.appContext.flapp.navigate(r.appContext.getLocation().href)}).catch(e.PromiseCatcher(this.name))},destroy:function(t){this.set("destroyed",!0);var n=this.get("container"),r;this.detachRegisteredEvents();if(!YUI.Env.isServer&&this.isActiveAndInDOM()){this.setRootViewAdditionalViewClasses();var i=this.get("rootViewAdditionalViewClasses")||[],s=e.one("."+e.FlickrView.ROOT_VIEW_CLASS_NAME);i&&s&&i.forEach(function(e){s.removeClass(e)})}return this._removeDeferredViewScrollListener(),e.Node&&n&&(n.detach&&n.detach(),t&&(t.remove||t["delete"])&&n.remove&&n.remove(!0),this.set("container",null)),this.destroySubviews(),r=e.FlickrView.superclass.destroy.call(this),this.beforeDestroyHandler&&this.beforeDestroyHandler.detach(),r},destroySubviews:function(){var e=this;Object.keys(this.subviews||{}).forEach(function(t,n,r){e.subviews[t].destroy()})},bringIntoFocus:function(){var e=this.get("container"),t=e.getAttribute("tabindex")||null;e.setAttribute("tabindex","-1"),e.focus(),e.blur(),t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")},setContainerWithTemplate:function(e,t){this.setContainerHTML(this.templates(e)(t))},godMessage:e.godMessage},{ATTRS:{container:{value:"",setter:function(e){return e||this.getContainer()}},spaceid:{value:792600503,validator:function(t){return e.Lang.isNumber(t)||e.Lang.isString(t)},setter:function(e){return parseInt(e,10)}},trackedElementIDs:{value:[],validator:function(t){return e.Lang.isArray(t)}},rapidConf:{value:{},validator:function(t){return e.Lang.isObject(t)}},isActiveViewAgnostic:{value:!1},isRootView:{value:!1},rootViewAdditionalViewClasses:{value:[],validator:function(t){return e.Lang.isArray(t)}}},create:r,ROOT_VIEW_CLASS_NAME:"flickr-view-root-view"}),e.mix(e.FlickrView.prototype,e.Localizable)},"@VERSION@",{requires:["base","template-base","flickr-promise","handlebars-base","handlebars-helpers","localizable","history-helper","god-message","fletrics"]});
YUI.add("hermes-template-feed-card-attribution",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return'		href="/account/upgrade/pro"\n'},3:function(e,t,n,r,i){var s;return'		href="'+((s=n["if"].call(t!=null?t:{},t!=null?t.isGroup:t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))!=null?s:"")+'"\n'},4:function(e,t,n,r,i){var s;return"/groups/"+e.escapeExpression((s=(s=n.groupId||(t!=null?t.groupId:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"groupId",hash:{},data:i}):s))},6:function(e,t,n,r,i){var s;return e.escapeExpression(e.lambda((s=t!=null?t.owner:t)!=null?s.url:s,t))+" "},8:function(e,t,n,r,i){return" is-ad no-menu "},10:function(e,t,n,r,i){return" group "},12:function(e,t,n,r,i){return" person no-refresh"},14:function(e,t,n,r,i){return"group"},16:function(e,t,n,r,i){return"person"},18:function(e,t,n,r,i){var s;return e.escapeExpression((s=(s=n.groupId||(t!=null?t.groupId:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"groupId",hash:{},data:i}):s))},20:function(e,t,n,r,i){var s;return e.escapeExpression(e.lambda((s=t!=null?t.owner:t)!=null?s.nsid:s,t))},22:function(e,t,n,r,i){var s;return" style=\"background-image: url('"+((s=n["if"].call(t!=null?t:{},t!=null?t.isGroup:t,{name:"if",hash:{},fn:e.program(23,i,0),inverse:e.program(25,i,0),data:i}))!=null?s:"")+"')\""},23:function(e,t,n,r,i){var s;return" "+e.escapeExpression((s=(s=n.iconUrl||(t!=null?t.iconUrl:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"iconUrl",hash:{},data:i}):s))+" "},25:function(e,t,n,r,i){var s;return" "+e.escapeExpression(e.lambda((s=(s=t!=null?t.owner:t)!=null?s.buddyicon:s)!=null?s["default"]:s,t))},27:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"common.AD_ICON"},data:i}))},29:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.isGroup:t,{name:"if",hash:{},fn:e.program(30,i,0),inverse:e.program(32,i,0),data:i}))!=null?s:""},30:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"common.GROUP_ICON"},data:i}))},32:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"common.USER_ICON"},data:i}))},34:function(e,t,n,r,i){return"is-ad"},36:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.isGroup:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(37,i,0),data:i}))!=null?s:""},37:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},(s=t!=null?t.owner:t)!=null?s.isPro:s,{name:"if",hash:{},fn:e.program(38,i,0),inverse:e.noop,data:i}))!=null?s:""},38:function(e,t,n,r,i){return"with-pro-badge"},40:function(e,t,n,r,i){return'				<a href="/account/upgrade/pro">Flickr Pro</a>\n'},42:function(e,t,n,r,i){var s,o=t!=null?t:{};return'				<a class="username" href="'+((s=n["if"].call(o,t!=null?t.isGroup:t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i}))!=null?s:"")+'">\n					'+((s=n["if"].call(o,t!=null?t.isGroup:t,{name:"if",hash:{},fn:e.program(43,i,0),inverse:e.program(45,i,0),data:i}))!=null?s:"")+"\n				</a>\n				"+((s=n["if"].call(o,t!=null?t.isGroup:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(47,i,0),data:i}))!=null?s:"")+"\n"},43:function(e,t,n,r,i){var s;return e.escapeExpression((s=(s=n.groupName||(t!=null?t.groupName:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"groupName",hash:{},data:i}):s))},45:function(e,t,n,r,i){var s;return e.escapeExpression(e.lambda((s=t!=null?t.owner:t)!=null?s.displayname:s,t))},47:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},(s=t!=null?t.owner:t)!=null?s.isPro:s,{name:"if",hash:{},fn:e.program(48,i,0),inverse:e.noop,data:i}))!=null?s:""},48:function(e,t,n,r,i){return'<a href="/account/upgrade/pro" class="pro-badge-inline">PRO</a>'},50:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.curated:t,{name:"if",hash:{},fn:e.program(51,i,0),inverse:e.program(53,i,0),data:i}))!=null?s:""},51:function(e,t,n,r,i){return"					"+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"feed.FEATURED"},data:i}))+"\n"},53:function(e,t,n,r,i){return"					"+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"feed.RECOMMENDED"},data:i}))+"</span>\n"},55:function(e,t,n,r,i){var s,o=t!=null?t:{};return((s=n["if"].call(o,t!=null?t.groupContextOnly:t,{name:"if",hash:{},fn:e.program(56,i,0),inverse:e.program(58,i,0),data:i}))!=null?s:"")+((s=n["if"].call(o,t!=null?t.time:t,{name:"if",hash:{},fn:e.program(61,i,0),inverse:e.noop,data:i}))!=null?s:"")},56:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a="function",f=e.escapeExpression;return'					<a href="/groups/'+f((s=(s=n.groupId||(t!=null?t.groupId:t))!=null?s:u,typeof s===a?s.call(o,{name:"groupId",hash:{},data:i}):s))+'" class="group-context">'+f((s=(s=n.groupName||(t!=null?t.groupName:t))!=null?s:u,typeof s===a?s.call(o,{name:"groupName",hash:{},data:i}):s))+"</a> &mdash;\n"},58:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.isGroup:t,{name:"if",hash:{},fn:e.program(59,i,0),inverse:e.noop,data:i}))!=null?s:""},59:function(e,t,n,r,i){return"						"+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"feed.GROUPS_ACTIVITY_LABEL"},data:i}))+" &mdash;\n"},61:function(e,t,n,r,i){var s;return'					<span class="activity-item-date">'+((s=(n.friendlySinceDate||t&&t.friendlySinceDate||n.helperMissing).call(t!=null?t:{},t!=null?t.time:t,true,true,{name:"friendlySinceDate",hash:{},fn:e.program(62,i,0),inverse:e.noop,data:i}))!=null?s:"")+"</span>\n"},62:function(
e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{time:t!=null?t.time:t,intlName:t!=null?t.intlName:t},data:i}))},64:function(e,t,n,r,i){var s;return"		"+((s=n["if"].call(t!=null?t:{},t!=null?t.hideContextMenu:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(65,i,0),data:i}))!=null?s:"")+"\n"},65:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.isAd:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(66,i,0),data:i}))!=null?s:""},66:function(e,t,n,r,i){var s;return'\n		<span class="feed-ctx-menu-caret" data-menu-type="'+e.escapeExpression((s=(s=n.menuType||(t!=null?t.menuType:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"menuType",hash:{},data:i}):s))+'"></span>\n		'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:{};return'<div class="activity-card-attribution" aria-hidden="true">\n	<a\n'+((s=n["if"].call(o,t!=null?t.isAd:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i}))!=null?s:"")+'	 class="avatar '+((s=n["if"].call(o,t!=null?t.isAd:t,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))!=null?s:"")+" "+((s=n["if"].call(o,t!=null?t.isGroup:t,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.program(12,i,0),data:i}))!=null?s:"")+' tiny"  data-'+((s=n["if"].call(o,t!=null?t.isGroup:t,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.program(16,i,0),data:i}))!=null?s:"")+'-nsid="'+((s=n["if"].call(o,t!=null?t.isGroup:t,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.program(20,i,0),data:i}))!=null?s:"")+'" '+((s=n["if"].call(o,t!=null?t.isAd:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(22,i,0),data:i}))!=null?s:"")+'\n	 aria-label="'+((s=n["if"].call(o,t!=null?t.isAd:t,{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.program(29,i,0),data:i}))!=null?s:"")+'">\n	</a>\n	<div class="attribution-content '+((s=n["if"].call(o,t!=null?t.isAd:t,{name:"if",hash:{},fn:e.program(34,i,0),inverse:e.program(36,i,0),data:i}))!=null?s:"")+'">\n		<div class="display-name">\n'+((s=n["if"].call(o,t!=null?t.isAd:t,{name:"if",hash:{},fn:e.program(40,i,0),inverse:e.program(42,i,0),data:i}))!=null?s:"")+'		</div>\n		<div class="badge">\n'+((s=n["if"].call(o,t!=null?t.recommended:t,{name:"if",hash:{},fn:e.program(50,i,0),inverse:e.program(55,i,0),data:i}))!=null?s:"")+"		</div>\n	</div>\n"+((s=(n.isFlipped||t&&t.isFlipped||n.helperMissing).call(o,"enable-feed-card-caret",{name:"isFlipped",hash:{},fn:e.program(64,i,0),inverse:e.noop,data:i}))!=null?s:"")+"</div>\n"},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/feed-card-attribution",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-adult-content-overlay",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a="function",f=e.escapeExpression;return'<div class="inappropriate-cover"\n	style="width: '+f((s=(s=n.width||(t!=null?t.width:t))!=null?s:u,typeof s===a?s.call(o,{name:"width",hash:{},data:i}):s))+f((s=(s=n.w_unit||(t!=null?t.w_unit:t))!=null?s:u,typeof s===a?s.call(o,{name:"w_unit",hash:{},data:i}):s))+"; height: "+f((s=(s=n.height||(t!=null?t.height:t))!=null?s:u,typeof s===a?s.call(o,{name:"height",hash:{},data:i}):s))+f((s=(s=n.h_unit||(t!=null?t.h_unit:t))!=null?s:u,typeof s===a?s.call(o,{name:"h_unit",hash:{},data:i}):s))+';">\n	<div class="inappropriate-cover-content">\n		<h2 role="note">'+f((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"adult-content-overlay.ADULT_CONTENT"},data:i}))+"</h2>\n		<p>\n			"+f((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"adult-content-overlay.MATURE_AUDIENCES"},data:i}))+"\n		</p>\n	</div>\n</div>\n"},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/adult-content-overlay",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-feed-card-engagement-actions",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing,f="function",l=e.escapeExpression;return'	<div class="activity-card-counts" data-fave-count="'+l((o=(o=n.favesCount||(t!=null?t.favesCount:t))!=null?o:a,typeof o===f?o.call(u,{name:"favesCount",hash:{},data:i}):o))+'" data-view-count="'+l((o=(o=n.viewsCount||(t!=null?t.viewsCount:t))!=null?o:a,typeof o===f?o.call(u,{name:"viewsCount",hash:{},data:i}):o))+'" data-comment-count="'+l((o=(o=n.commentsCount||(t!=null?t.commentsCount:t))!=null?o:a,typeof o===f?o.call(u,{name:"commentsCount",hash:{},data:i}):o))+'">\n'+((s=n["if"].call(u,t!=null?t.favesCount:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(u,t!=null?t.commentsCount:t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(u,t!=null?t.viewsCount:t,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))!=null?s:"")+"	</div>\n"},2:function(e,t,n,r,i){var s;return'			<span class="fave-count" tabindex="0">'+((s=n["if"].call(t!=null?t:{},t!=null?t.moreThan99Faves:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.program(5,i,0),data:i}))!=null?s:"")+"</span>\n"},3:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"feed.FAVES_99"},data:i}))},5:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{favesCount:t!=null?t.favesCount:t,intlName:"feed.FAVES_COUNT"},data:i}))},7:function(e,t,n,r,i){var s,o,u=t!=null?t:{};return'			<a class="comment-count" data-activity-id="'+e.escapeExpression((o=(o=n.id||(t!=null?t.id:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(u,{name:"id",hash:{},data:i}):o))+'" tabindex="0" role="link">'+((s=n["if"].call(u,t!=null?t.moreThan99Comments:t,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(10,i,0),data:i}))!=null?s:"")+"</a>\n"},8:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"feed.COMMENTS_99"},data:i}))},10:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{commentsCount:t!=null?t.commentsCount:t,intlName:"feed.COMMENTS_COUNT"},data:i}))},12:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'			<span class="view-count" data-activity-id="'+a((s=(s=n.id||(t!=null?t.id:t))!=null?s:u,typeof s=="function"?s.call(o,{name:"id",hash:{},data:i}):s))+'" tabindex="0" role="link">\n				'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{viewsCount:t!=null?t.viewsCount:t,intlName:"feed.VIEWS_COUNT"},data:i}))+"\n			</span>\n"},14:function(e,t,n,r,i){return"faved"},16:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"fave-view.UNFAVE_PHOTO"},data:i}))},18:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"fave-view.FAVE_PHOTO"},data:i}))},20:function(e,t,n,r,i){return"disabled"},22:function(e,t,n,r,i){return"commenting-disabled"},24:function(e,t,n,r,i){var s;return(s=(n.ifCond||t&&t.ifCond||n.helperMissing).call(t!=null?t:{},(s=(s=t!=null?t.photo:t)!=null?s.engagement:s)!=null?s.commentCount:s,"===",0,{name:"ifCond",hash:{},fn:e.program(25,i,0),inverse:e.program(27,i,0),data:i}))!=null?s:""},25:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"comments.ADD_A_COMMENT"},data:i}))},27:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"comments.VIEW_COMMENTS"},data:i}))},29:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"comments.COMMENTING_DISABLED"},data:i}))},31:function(e,t,n,r,i){return"sharing-disabled"},33:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"share-modal.SHARING_DISABLED"},data:i}))},35:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"share-modal.SHARE_PHOTO"},data:i}))},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing,f="function",l=e.escapeExpression;return((s=n["if"].call(u,t!=null?t.suppressCounts:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(1,i,0),data:i}))!=null?s:"")+'\n<div class="activity-card-actions-labels">\n	<a class="activity-card-action activity-card-fave '+((s=n["if"].call(u,(s=(s=t!=null?t.photo:t)!=null?s.engagement:s)!=null?s.isFaved:s,{name:"if",hash:{},fn:e.program(14,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" data-activity-id="'+l((o=(o=n.id||(t!=null?t.id:t))!=null?o:a,typeof o===f?o.call(u,{name:"id",hash:{},data:i}):o))+'" title="'+((s=n["if"].call(u,(s=(s=t!=null?t.photo:t)!=null?s.engagement:s)!=null?s.isFaved:s,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.program(18,i,0),data:i}))!=null?s:"")+'" tabindex="0" role="button">\n		<svg class="icon icon-fave '+((s=n["if"].call(u,(s=(s=t!=null?t.photo:t)!=null?s.engagement:s)!=null?s.canFave:s,{name:"if",hash:{},fn:e.noop,inverse:e.program(20,i,0),data:i}))!=null?s:"")+'"><use xlink:href="#icon-fave"></use></svg>\n		<svg class="icon icon-fave_hollow '+((s=n["if"].call(u,(s=(s=t!=null?t.photo:t)!=null?s.engagement:s)!=null?s.canFave:s,{name:"if",hash:{},fn:e.noop,inverse:e.program
(20,i,0),data:i}))!=null?s:"")+'"><use xlink:href="#icon-fave_hollow"></use></svg>\n	</a>\n	<a class="activity-card-action activity-card-comment '+((s=n["if"].call(u,(s=t!=null?t.photo:t)!=null?s.canComment:s,{name:"if",hash:{},fn:e.noop,inverse:e.program(22,i,0),data:i}))!=null?s:"")+'" data-activity-id="'+l((o=(o=n.id||(t!=null?t.id:t))!=null?o:a,typeof o===f?o.call(u,{name:"id",hash:{},data:i}):o))+'" title="'+((s=n["if"].call(u,(s=t!=null?t.photo:t)!=null?s.canComment:s,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.program(29,i,0),data:i}))!=null?s:"")+'" tabindex="0" role="button" aria-haspopup="true" aria-expanded="false">\n		<svg class="icon icon-comment_hollow"><use xlink:href="#icon-comment_hollow"></use></svg>\n	</a>\n	<a class="activity-card-action activity-card-share '+((s=n["if"].call(u,(n.eq||t&&t.eq||a).call(u,(s=t!=null?t.photo:t)!=null?s.safetyLevel:s,2,{name:"eq",hash:{},data:i}),{name:"if",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" data-activity-id="'+l((o=(o=n.id||(t!=null?t.id:t))!=null?o:a,typeof o===f?o.call(u,{name:"id",hash:{},data:i}):o))+'" title="'+((s=n["if"].call(u,(n.eq||t&&t.eq||a).call(u,(s=t!=null?t.photo:t)!=null?s.safetyLevel:s,2,{name:"eq",hash:{},data:i}),{name:"if",hash:{},fn:e.program(33,i,0),inverse:e.program(35,i,0),data:i}))!=null?s:"")+'" tabindex="0" role="button">\n		<svg class="icon icon-share_hollow"><use xlink:href="#icon-share_hollow"></use></svg>\n	</a>\n</div>\n'},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/feed-card-engagement-actions",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-photo-loading-performance",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a="function",f=e.escapeExpression;return'<script id="'+f((s=(s=n.prefix||(t!=null?t.prefix:t))!=null?s:u,typeof s===a?s.call(o,{name:"prefix",hash:{},data:i}):s))+"-"+f((s=(s=n.id||(t!=null?t.id:t))!=null?s:u,typeof s===a?s.call(o,{name:"id",hash:{},data:i}):s))+"\">\n	var img = new Image();\n	img.addEventListener('load', function onImageLoad (event) {\n		this.removeEventListener('load', onImageLoad);\n		window.paftTiming['"+f((s=(s=n.view||(t!=null?t.view:t))!=null?s:u,typeof s===a?s.call(o,{name:"view",hash:{},data:i}):s))+"']['"+f((s=(s=n.id||(t!=null?t.id:t))!=null?s:u,typeof s===a?s.call(o,{name:"id",hash:{},data:i}):s))+"'] = new Date().getTime();\n\n		var thisScript = document.getElementById('"+f((s=(s=n.prefix||(t!=null?t.prefix:t))!=null?s:u,typeof s===a?s.call(o,{name:"prefix",hash:{},data:i}):s))+"-"+f((s=(s=n.id||(t!=null?t.id:t))!=null?s:u,typeof s===a?s.call(o,{name:"id",hash:{},data:i}):s))+"'),\n		feed = document.querySelector('.feed');\n		if (thisScript) {\n			feed.removeChild(thisScript);\n		}\n	});\n	img.src = '"+f((s=(s=n.photoUrl||(t!=null?t.photoUrl:t))!=null?s:u,typeof s===a?s.call(o,{name:"photoUrl",hash:{},data:i}):s))+"';\n</script>\n"},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photo-loading-performance",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-feed-single-photo-card",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return"is-portrait"},3:function(e,t,n,r,i){return"loading"},5:function(e,t,n,r,i){return"placeholder"},7:function(e,t,n,r,i){return"is-recommended"},9:function(e,t,n,r,i){return"is-curated"},11:function(e,t,n,r,i){return"disabled"},13:function(e,t,n,r,i){return"disable-click"},15:function(e,t,n,r,i){var s;return"ad-card "+((s=n["if"].call(t!=null?t:{},t!=null?t.proUpsellOnly:t,{name:"if",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i}))!=null?s:"")},16:function(e,t,n,r,i){return"pro-upsell-card"},18:function(e,t,n,r,i){var s,o,u=e.escapeExpression;return' style="float: left; left: '+u(e.lambda((s=t!=null?t.manualPosition:t)!=null?s.left:s,t))+"px; position: relative;max-width: "+u((o=(o=n.initialCardWidth||(t!=null?t.initialCardWidth:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"initialCardWidth",hash:{},data:i}):o))+'px;" '},20:function(e,t,n,r,i){var s,o=t!=null?t:{};return"\n			"+((s=n["if"].call(o,t!=null?t.proUpsellOnly:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(21,i,0),data:i}))!=null?s:"")+"\n			"+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(o,{name:"intlMessage",hash:{count:1,ownername:"Flickr Pro",intlName:"feed.ACCESSIBLE_CARD_SUMMARY"},data:i}))+"\n"},21:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"feed.SPONSORED"},data:i}))+"."},23:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing;return"			"+e.escapeExpression((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{count:1,ownername:(s=(s=t!=null?t.photo:t)!=null?s.owner:s)!=null?s.displayname:s,intlName:"feed.ACCESSIBLE_CARD_SUMMARY"},data:i}))+"\n			"+((s=(n.friendlySinceDate||t&&t.friendlySinceDate||u).call(o,t!=null?t.time:t,false,true,{name:"friendlySinceDate",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n		"},24:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{time:t!=null?t.time:t,intlName:t!=null?t.intlName:t},data:i}))},26:function(e,t,n,r,i){var s;return(s=e.invokePartial(r["feed-card-attribution"],t,{name:"feed-card-attribution",hash:{menuType:t!=null?t.menuType:t,nonCuratedRec:t!=null?t.nonCuratedRec:t,recommended:t!=null?t.recommended:t,time:t!=null?t.time:t,isAd:t!=null?t.isAd:t,owner:(s=t!=null?t.photo:t)!=null?s.owner:s},data:i,indent:"			",helpers:n,partials:r,decorators:e.decorators}))!=null?s:""},28:function(e,t,n,r,i){var s;return(s=e.invokePartial(r["feed-card-attribution"],t,{name:"feed-card-attribution",hash:{hideContextMenu:true,menuType:t!=null?t.menuType:t,nonCuratedRec:t!=null?t.nonCuratedRec:t,recommended:t!=null?t.recommended:t,time:t!=null?t.time:t,isAd:t!=null?t.isAd:t,owner:(s=t!=null?t.photo:t)!=null?s.owner:s},data:i,indent:"			",helpers:n,partials:r,decorators:e.decorators}))!=null?s:""},30:function(e,t,n,r,i){var s;return'id="'+e.escapeExpression((s=(s=n.guid||(t!=null?t.guid:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"guid",hash:{},data:i}):s))+'"'},32:function(e,t,n,r,i){return"is-ad"},34:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'		<a href="/account/upgrade/pro" class="pro-upsell '+((s=n["if"].call(o,t!=null?t.proUpsellOnly:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(35,i,0),data:i}))!=null?s:"")+'" '+((s=n["if"].call(o,t!=null?t.proUpsellOnly:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(37,i,0),data:i}))!=null?s:"")+'>\n			<p class="pro-upsell-title">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"feed.PRO_UPSELL_TITLE"},data:i}))+'</p>\n			<p class="pro-upsell-benefits">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"feed.PRO_UPSELL_BENEFITS"},data:i}))+"</p>\n		</a>\n"+((s=n["if"].call(o,t!=null?t.proUpsellOnly:t,{name:"if",hash:{},fn:e.noop,inverse:e.program(39,i,0),data:i}))!=null?s:"")},35:function(e,t,n,r,i){return"hide-upsell"},37:function(e,t,n,r,i){return'data-track="feedProUpsell"'},39:function(e,t,n,r,i){var s;return'			<iframe class="feed-ad ad-iframe" scrolling=no src="'+e.escapeExpression((s=(s=n.adSrc||(t!=null?t.adSrc:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"adSrc",hash:{},data:i}):s))+'" /></iframe>\n'},41:function(e,t,n,r,i){var s,o,u=e.lambda,a=e.escapeExpression,f=t!=null?t:{},l=n.helperMissing;return'		<a target="_blank"\n			href="'+a(u((s=t!=null?t.photo:t)!=null?s.url:s,t))+'/in/feed"\n			'+((s=n["if"].call(f,(s=t!=null?t.photo:t)!=null?s.isInappropriate:s,{name:"if",hash:{},fn:e.noop,inverse:e.program(42,i,0),data:i}))!=null?s:"")+"\n			"+((s=n["if"].call(f,(s=t!=null?t.photo:t)!=null?s.isVideo:s,{name:"if",hash:{},fn:e.noop,inverse:e.program(44,i,0),data:i}))!=null?s:"")+'\n			class="activity-card-photo '+((s=n["if"].call(f,t!=null?t.isMobile:t,{name:"if",hash:{},fn:e.program(46,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"\n			data-activity-id="'+a((o=(o=n.id||(t!=null?t.id:t))!=null?o:l,typeof o=="function"?o.call(f,{name:"id",hash:{},data:i}):o))+'"\n			data-photo-id="'+a(u((s=t!=null?t.photo:t)!=null?s.id:s,t))+'"\n'+((s=n["if"].call(f,t!=null?t.isSmallerThanCard:t,{name:"if",hash:{},fn:e.program(48,i,0),inverse:e.program(50,i,0),data:i}))!=null?s:"")+"		>\n"+((s=n["if"].call(f,(s=t!=null?t.photo:t)!=null?s.isInappropriate:s,{name:"if",hash:{},fn:e.program(52,i,0),inverse:e.program(54,i,0),data:i}))!=null?s:"")+"		</a>\n\n"+((s=n["if"].call(f,t!=null?t.nonCuratedRec:t,{name:"if",hash:{},fn:e.program(59,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(f,(n.and||t&&t.and||l).call(f,(s=t!=null?t.photo:t)!=null?s.isVideo:s,(n.not||t&&t.not||l).call(f,(s=t!=null?t.photo:t)!=null?s.isInappropriate:s,{name:"not",hash:{},data:i}),{name:"and"
,hash:{},data:i}),{name:"if",hash:{},fn:e.program(61,i,0),inverse:e.noop,data:i}))!=null?s:"")},42:function(e,t,n,r,i){var s;return'data-url="'+e.escapeExpression(e.lambda((s=t!=null?t.photo:t)!=null?s.url:s,t))+'"'},44:function(e,t,n,r,i){var s;return'title="'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{title:(s=t!=null?t.photo:t)!=null?s.title:s,username:(s=(s=t!=null?t.photo:t)!=null?s.owner:s)!=null?s.displayname:s,intlName:"feed.TITLE_PHOTO_BY"},data:i}))+'"'},46:function(e,t,n,r,i){return"server-only-link"},48:function(e,t,n,r,i){var s,o,u=e.lambda,a=e.escapeExpression;return'				style="width: '+a(u((s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.width:s,t))+"px; height: "+a((o=(o=n.cardHeight||(t!=null?t.cardHeight:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"cardHeight",hash:{},data:i}):o))+"px; margin-left: calc(50% - "+a(u((s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.width:s,t))+'px /2 );"\n'},50:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a="function",f=e.escapeExpression;return'				style="top: '+f((s=(s=n.top||(t!=null?t.top:t))!=null?s:u,typeof s===a?s.call(o,{name:"top",hash:{},data:i}):s))+"px; left: "+f((s=(s=n.left||(t!=null?t.left:t))!=null?s:u,typeof s===a?s.call(o,{name:"left",hash:{},data:i}):s))+"px; width: "+f((s=(s=n.cardWidth||(t!=null?t.cardWidth:t))!=null?s:u,typeof s===a?s.call(o,{name:"cardWidth",hash:{},data:i}):s))+"px; height: "+f((s=(s=n.cardHeight||(t!=null?t.cardHeight:t))!=null?s:u,typeof s===a?s.call(o,{name:"cardHeight",hash:{},data:i}):s))+'px;"\n'},52:function(e,t,n,r,i){var s;return(s=e.invokePartial(r["adult-content-overlay"],t,{name:"adult-content-overlay",data:i,indent:"				",helpers:n,partials:r,decorators:e.decorators}))!=null?s:""},54:function(e,t,n,r,i){var s,o=t!=null?t:{};return'				<span class="facade-of-protection-neue"></span>\n\n'+((s=n["if"].call(o,(n.and||t&&t.and||n.helperMissing).call(o,(s=t!=null?t.photo:t)!=null?s.isVideo:s,t!=null?t.videoOnHover:t,{name:"and",hash:{},data:i}),{name:"if",hash:{},fn:e.program(55,i,0),inverse:e.program(57,i,0),data:i}))!=null?s:"")},55:function(e,t,n,r,i){var s,o,u=e.lambda,a=e.escapeExpression;return'					<video muted="true" loop="true" id="video_'+a(u((s=t!=null?t.photo:t)!=null?s.id:s,t))+'" data-defer-src="'+a(u((s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.displayUrl:s,t))+'" poster="'+a((o=(o=n.spaceball||(t!=null?t.spaceball:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"spaceball",hash:{},data:i}):o))+'" class="video-js vjs-big-play-centered inherit-size vjs-controls-disabled"></video>\n'},57:function(e,t,n,r,i){var s,o,u=e.escapeExpression;return'					<img data-defer-src="'+u(e.lambda((s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.displayUrl:s,t))+'" src="'+u((o=(o=n.spaceball||(t!=null?t.spaceball:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"spaceball",hash:{},data:i}):o))+'" />\n'},59:function(e,t,n,r,i){var s;return'			<span class="dismiss-rec" data-activity-id="'+e.escapeExpression((s=(s=n.id||(t!=null?t.id:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"id",hash:{},data:i}):s))+'" tabindex="0">X</span>\n'},61:function(e,t,n,r,i){var s;return'			<div class="video-button '+((s=n["if"].call(t!=null?t:{},t!=null?t.videoOnHover:t,{name:"if",hash:{},fn:e.program(62,i,0),inverse:e.noop,data:i}))!=null?s:"")+'">\n				<div class="icon icon-play icon-video-indicator"></div>\n			</div>\n'},62:function(e,t,n,r,i){return"show"},64:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.isAd:t,{name:"if",hash:{},fn:e.program(65,i,0),inverse:e.program(67,i,0),data:i}))!=null?s:""},65:function(e,t,n,r,i){return'			<div class="activity-card-title">\n				<p>\n\n					<a class="pro-upsell-learn-more" href="/account/upgrade/pro">'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"feed.LEARN_MORE"},data:i}))+"</a>\n\n				</p>\n			</div>\n"},67:function(e,t,n,r,i){var s;return((s=n["if"].call(t!=null?t:{},(s=t!=null?t.photo:t)!=null?s.title:s,{name:"if",hash:{},fn:e.program(68,i,0),inverse:e.noop,data:i}))!=null?s:"")+'			<div class="feed-card-actions">\n'+((s=e.invokePartial(r["feed-card-engagement-actions"],t,{name:"feed-card-engagement-actions",data:i,indent:"				",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"			</div>\n"},68:function(e,t,n,r,i){var s;return'				<div class="activity-card-title">\n					<p>\n'+((s=n["if"].call(t!=null?t:{},(s=t!=null?t.photo:t)!=null?s.displayTitle:s,{name:"if",hash:{},fn:e.program(69,i,0),inverse:e.program(71,i,0),data:i}))!=null?s:"")+"					</p>\n				</div>\n"},69:function(e,t,n,r,i){var s;return"							"+e.escapeExpression(e.lambda((s=t!=null?t.photo:t)!=null?s.displayTitle:s,t))+"\n"},71:function(e,t,n,r,i){var s;return"							"+e.escapeExpression(e.lambda((s=t!=null?t.photo:t)!=null?s.title:s,t))+"\n"},73:function(e,t,n,r,i){var s;return(s=e.invokePartial(r["photo-loading-performance"],t,{name:"photo-loading-performance",hash:{photoUrl:(s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.displayUrl:s,id:(s=t!=null?t.photo:t)!=null?s.id:s,view:"feed-page-view",prefix:"feed-aft"},data:i,indent:"	",helpers:n,partials:r,decorators:e.decorators}))!=null?s:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing,f="function",l=e.escapeExpression;return'<div class="activity-card single-photo-card\n	'+((s=n["if"].call(u,t!=null?t.isPortrait:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(u,t!=null?t.loading:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(u,t!=null?t.placeholder:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(u,t!=null?t.recommended:t,{name
:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(u,t!=null?t.curated:t,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(u,t!=null?t.isDisabled:t,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(u,t!=null?t.manualPosition:t,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(u,t!=null?t.isAd:t,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"\n	'+((s=n["if"].call(u,t!=null?t.manualPosition:t,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))!=null?s:"")+'\n	data-activity-id="'+l((o=(o=n.id||(t!=null?t.id:t))!=null?o:a,typeof o===f?o.call(u,{name:"id",hash:{},data:i}):o))+'"\n	data-photo-id="'+l(e.lambda((s=t!=null?t.photo:t)!=null?s.id:s,t))+'"\n	data-rec-id="'+l((o=(o=n.recId||(t!=null?t.recId:t))!=null?o:a,typeof o===f?o.call(u,{name:"recId",hash:{},data:i}):o))+'"\n>\n	<div class="activity-card-content" role="heading" aria-level="3" tabindex="0"\n		aria-label="'+((s=n["if"].call(u,t!=null?t.isAd:t,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.program(23,i,0),data:i}))!=null?s:"")+'">\n'+((s=n["if"].call(u,t!=null?t.nonCuratedRec:t,{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.program(28,i,0),data:i}))!=null?s:"")+"	</div>\n	<div "+((s=n["if"].call(u,t!=null?t.isAd:t,{name:"if",hash:{},fn:e.program(30,i,0),inverse:e.noop,data:i}))!=null?s:"")+' class="activity-card-photos '+((s=n["if"].call(u,t!=null?t.isAd:t,{name:"if",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" style="height: '+l((o=(o=n.cardHeight||(t!=null?t.cardHeight:t))!=null?o:a,typeof o===f?o.call(u,{name:"cardHeight",hash:{},data:i}):o))+'px">\n'+((s=n["if"].call(u,t!=null?t.isAd:t,{name:"if",hash:{},fn:e.program(34,i,0),inverse:e.program(41,i,0),data:i}))!=null?s:"")+'	</div>\n\n	<div class="activity-card-content">\n'+((s=n["if"].call(u,(s=t!=null?t.photo:t)!=null?s.isInappropriate:s,{name:"if",hash:{},fn:e.noop,inverse:e.program(64,i,0),data:i}))!=null?s:"")+"	</div>\n</div>\n\n"+((s=n["if"].call(u,(n.and||t&&t.and||a).call(u,t!=null?t.manualPosition:t,(n.not||t&&t.not||a).call(u,t!=null?t.isAd:t,{name:"not",hash:{},data:i}),{name:"and",hash:{},data:i}),{name:"if",hash:{},fn:e.program(73,i,0),inverse:e.noop,data:i}))!=null?s:"")},usePartial:!0,useData:!0}),r={};e.Array.each(["feed-card-attribution","feed-card-attribution","adult-content-overlay","feed-card-engagement-actions","photo-loading-performance"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/feed-single-photo-card",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-feed-card-attribution","hermes-template-feed-card-attribution","hermes-template-adult-content-overlay","hermes-template-feed-card-engagement-actions","hermes-template-photo-loading-performance"]});
YUI.add("hermes-template-feed-batch-photos-card",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return"loading"},3:function(e,t,n,r,i){return"placeholder"},5:function(e,t,n,r,i){return"disabled"},7:function(e,t,n,r,i){return"disable-click"},9:function(e,t,n,r,i){var s,o,u=e.escapeExpression;return'style="float: left; left: '+u(e.lambda((s=t!=null?t.manualPosition:t)!=null?s.left:s,t))+"px; position: relative;max-width: "+u((o=(o=n.initialCardWidth||(t!=null?t.initialCardWidth:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"initialCardWidth",hash:{},data:i}):o))+'px;"'},11:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{time:t!=null?t.time:t,intlName:t!=null?t.intlName:t},data:i}))},13:function(e,t,n,r,i,s,o){var u,a,f=e.lambda,l=e.escapeExpression,c=t!=null?t:{},h=n.helperMissing,p="function";return'			<a target="_blank"\n				href="'+l(f((u=t!=null?t.photo:t)!=null?u.url:u,t))+'/in/feed"\n				'+((u=n["if"].call(c,(u=t!=null?t.photo:t)!=null?u.isInappropriate:u,{name:"if",hash:{},fn:e.noop,inverse:e.program(14,i,0,s,o),data:i}))!=null?u:"")+"\n				"+((u=n["if"].call(c,(u=t!=null?t.photo:t)!=null?u.isVideo:u,{name:"if",hash:{},fn:e.noop,inverse:e.program(16,i,0,s,o),data:i}))!=null?u:"")+'\n				class="activity-card-photo '+((u=n["if"].call(c,t!=null?t.hasViewMoreLink:t,{name:"if",hash:{},fn:e.program(18,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+" "+((u=n["if"].call(c,o[1]!=null?o[1].isMobile:o[1],{name:"if",hash:{},fn:e.program(20,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+'"\n				data-photo-id="'+l(f((u=t!=null?t.photo:t)!=null?u.id:u,t))+'"\n				data-activity-id="'+l(f(o[1]!=null?o[1].id:o[1],t))+'"\n				style="top: '+l((a=(a=n.top||(t!=null?t.top:t))!=null?a:h,typeof a===p?a.call(c,{name:"top",hash:{},data:i}):a))+"px; left: "+l((a=(a=n.left||(t!=null?t.left:t))!=null?a:h,typeof a===p?a.call(c,{name:"left",hash:{},data:i}):a))+"px; width: "+l((a=(a=n.width||(t!=null?t.width:t))!=null?a:h,typeof a===p?a.call(c,{name:"width",hash:{},data:i}):a))+"px; height: "+l((a=(a=n.height||(t!=null?t.height:t))!=null?a:h,typeof a===p?a.call(c,{name:"height",hash:{},data:i}):a))+"px; "+((u=n["if"].call(c,t!=null?t.hasViewMoreLink:t,{name:"if",hash:{},fn:e.program(22,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+';"\n			>\n'+((u=n["if"].call(c,(u=t!=null?t.photo:t)!=null?u.isInappropriate:u,{name:"if",hash:{},fn:e.program(24,i,0,s,o),inverse:e.program(26,i,0,s,o),data:i}))!=null?u:"")+"\n"+((u=n["if"].call(c,t!=null?t.hasViewMoreLink:t,{name:"if",hash:{},fn:e.program(31,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"			</a>\n\n"+((u=n["if"].call(c,(n.and||t&&t.and||h).call(c,(u=t!=null?t.photo:t)!=null?u.isVideo:u,(n.not||t&&t.not||h).call(c,(u=t!=null?t.photo:t)!=null?u.isInappropriate:u,{name:"not",hash:{},data:i}),(n.not||t&&t.not||h).call(c,t!=null?t.hasViewMoreLink:t,{name:"not",hash:{},data:i}),{name:"and",hash:{},data:i}),{name:"if",hash:{},fn:e.program(33,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")},14:function(e,t,n,r,i){var s;return'data-url="'+e.escapeExpression(e.lambda((s=t!=null?t.photo:t)!=null?s.url:s,t))+'"'},16:function(e,t,n,r,i){var s;return'title="'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{title:(s=t!=null?t.photo:t)!=null?s.title:s,username:(s=(s=t!=null?t.photo:t)!=null?s.owner:s)!=null?s.displayname:s,intlName:"feed.TITLE_PHOTO_BY"},data:i}))+'"'},18:function(e,t,n,r,i){return"view-more-link"},20:function(e,t,n,r,i){return"server-only-link"},22:function(e,t,n,r,i){var s;return"line-height:"+e.escapeExpression((s=(s=n.height||(t!=null?t.height:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"height",hash:{},data:i}):s))+"px"},24:function(e,t,n,r,i){var s;return(s=e.invokePartial(r["adult-content-overlay"],t,{name:"adult-content-overlay",data:i,indent:"					",helpers:n,partials:r,decorators:e.decorators}))!=null?s:""},26:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing;return'					<span class="facade-of-protection-neue"></span>\n'+((s=n["if"].call(o,(n.and||t&&t.and||u).call(o,(s=t!=null?t.photo:t)!=null?s.isVideo:s,(s=i&&i.root)&&s.videoOnHover,(n.not||t&&t.not||u).call(o,t!=null?t.hasViewMoreLink:t,{name:"not",hash:{},data:i}),{name:"and",hash:{},data:i}),{name:"if",hash:{},fn:e.program(27,i,0),inverse:e.program(29,i,0),data:i}))!=null?s:"")},27:function(e,t,n,r,i){var s,o,u=e.lambda,a=e.escapeExpression;return'						<video muted="true" loop="true" id="video_'+a(u((s=t!=null?t.photo:t)!=null?s.id:s,t))+'" data-defer-src="'+a(u((s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.displayUrl:s,t))+'" poster="'+a((o=(o=n.spaceball||(t!=null?t.spaceball:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"spaceball",hash:{},data:i}):o))+'" class="video-js vjs-big-play-centered inherit-size vjs-controls-disabled"></video>\n'},29:function(e,t,n,r,i){var s,o,u=e.escapeExpression;return'						<img data-defer-src="'+u(e.lambda((s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.displayUrl:s,t))+'" src="'+u((o=(o=n.spaceball||(t!=null?t.spaceball:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"spaceball",hash:{},data:i}):o))+'" />\n'},31:function(e,t,n,r,i,s,o){return"					<span>"+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{count:o[1]!=null?o[1].howManyMore:o[1],intlName:"feed.X_MANY_MORE"},data:i}))+"</span>\n"},33:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing,f="function",l=e.escapeExpression;return'				<div class="video-button '+((s=n["if"].call(u,(s=i&&i.root)&&s.videoOnHover,{name:"if",hash:{},fn:e.program(34,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" style="top:calc(('+l((o=(o=n.height||(t!=null?t.height:t))!=null?o:a,typeof o===f?o.call(u,{name:"height",hash:{},data:i}):o))+"px / 2) + "+
l((o=(o=n.top||(t!=null?t.top:t))!=null?o:a,typeof o===f?o.call(u,{name:"top",hash:{},data:i}):o))+"px); left:calc(("+l((o=(o=n.width||(t!=null?t.width:t))!=null?o:a,typeof o===f?o.call(u,{name:"width",hash:{},data:i}):o))+"px / 2) + "+l((o=(o=n.left||(t!=null?t.left:t))!=null?o:a,typeof o===f?o.call(u,{name:"left",hash:{},data:i}):o))+'px);">\n					<div class="icon icon-play icon-video-indicator"></div>\n				</div>\n'},34:function(e,t,n,r,i){return"show"},36:function(e,t,n,r,i){var s;return(s=n.each.call(t!=null?t:{},(s=t!=null?t.layout:t)!=null?s.boxes:s,{name:"each",hash:{},fn:e.program(37,i,0),inverse:e.noop,data:i}))!=null?s:""},37:function(e,t,n,r,i){var s;return(s=e.invokePartial(r["photo-loading-performance"],t,{name:"photo-loading-performance",hash:{photoUrl:(s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.displayUrl:s,id:(s=t!=null?t.photo:t)!=null?s.id:s,view:"feed-page-view",prefix:"feed-aft"},data:i,indent:"	",helpers:n,partials:r,decorators:e.decorators}))!=null?s:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i,s,o){var u,a,f=t!=null?t:{},l=n.helperMissing,c="function",h=e.escapeExpression;return'<div class="activity-card batch-photo-card\n	'+((u=n["if"].call(f,t!=null?t.loading:t,{name:"if",hash:{},fn:e.program(1,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"\n	"+((u=n["if"].call(f,t!=null?t.placeholder:t,{name:"if",hash:{},fn:e.program(3,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"\n	"+((u=n["if"].call(f,t!=null?t.isDisabled:t,{name:"if",hash:{},fn:e.program(5,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"\n	"+((u=n["if"].call(f,t!=null?t.manualPosition:t,{name:"if",hash:{},fn:e.program(7,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+'"\n	'+((u=n["if"].call(f,t!=null?t.manualPosition:t,{name:"if",hash:{},fn:e.program(9,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+'\n	data-total-batch-count="'+h((a=(a=n.count||(t!=null?t.count:t))!=null?a:l,typeof a===c?a.call(f,{name:"count",hash:{},data:i}):a))+'"\n	data-activity-id="'+h((a=(a=n.id||(t!=null?t.id:t))!=null?a:l,typeof a===c?a.call(f,{name:"id",hash:{},data:i}):a))+'"\n	data-card-count="'+h(e.lambda((u=(u=t!=null?t.layout:t)!=null?u.boxes:u)!=null?u.length:u,t))+'"\n>\n	<div class="activity-card-content" role="heading" aria-level="3" tabindex="0"\n		aria-label="'+h((n.intlMessage||t&&t.intlMessage||l).call(f,{name:"intlMessage",hash:{count:(u=(u=t!=null?t.layout:t)!=null?u.boxes:u)!=null?u.length:u,ownername:(u=(u=(u=t!=null?t.photos:t)!=null?u["0"]:u)!=null?u.owner:u)!=null?u.displayname:u,intlName:"feed.ACCESSIBLE_CARD_SUMMARY"},data:i}))+" "+((u=(n.friendlySinceDate||t&&t.friendlySinceDate||l).call(f,t!=null?t.time:t,false,true,{name:"friendlySinceDate",hash:{},fn:e.program(11,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+'">\n'+((u=e.invokePartial(r["feed-card-attribution"],t,{name:"feed-card-attribution",hash:{hideContextMenu:true,batchCount:t!=null?t.count:t,time:t!=null?t.time:t,owner:(u=(u=t!=null?t.photos:t)!=null?u["0"]:u)!=null?u.owner:u},data:i,indent:"		",helpers:n,partials:r,decorators:e.decorators}))!=null?u:"")+'	</div>\n	<div class="activity-card-photos" style="height: '+h((a=(a=n.cardHeight||(t!=null?t.cardHeight:t))!=null?a:l,typeof a===c?a.call(f,{name:"cardHeight",hash:{},data:i}):a))+'px">\n'+((u=n.each.call(f,(u=t!=null?t.layout:t)!=null?u.boxes:u,{name:"each",hash:{},fn:e.program(13,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"	</div>\n</div>\n\n"+((u=n["if"].call(f,t!=null?t.manualPosition:t,{name:"if",hash:{},fn:e.program(36,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")},usePartial:!0,useData:!0,useDepths:!0}),r={};e.Array.each(["feed-card-attribution","adult-content-overlay","photo-loading-performance"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/feed-batch-photos-card",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-feed-card-attribution","hermes-template-adult-content-overlay","hermes-template-photo-loading-performance"]});
YUI.add("hermes-template-feed-group-activity-batch-card",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return"loading"},3:function(e,t,n,r,i){return"placeholder"},5:function(e,t,n,r,i){return"disabled"},7:function(e,t,n,r,i){return"disable-click"},9:function(e,t,n,r,i){var s,o,u=e.escapeExpression;return'style="float: left; left: '+u(e.lambda((s=t!=null?t.manualPosition:t)!=null?s.left:s,t))+"px; position: relative;max-width: "+u((o=(o=n.initialCardWidth||(t!=null?t.initialCardWidth:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"initialCardWidth",hash:{},data:i}):o))+'px;"'},11:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{time:t!=null?t.time:t,intlName:t!=null?t.intlName:t},data:i}))},13:function(e,t,n,r,i,s,o){var u,a,f=e.lambda,l=e.escapeExpression,c=t!=null?t:{},h=n.helperMissing,p="function";return'			<a\n				target="_blank"\n				href="'+l(f((u=t!=null?t.photo:t)!=null?u.url:u,t))+"/in/pool-"+l(f((u=i&&i.root)&&u.groupId,t))+'"\n				'+((u=n["if"].call(c,(u=t!=null?t.photo:t)!=null?u.isInappropriate:u,{name:"if",hash:{},fn:e.noop,inverse:e.program(14,i,0,s,o),data:i}))!=null?u:"")+'\n				class="activity-card-photo '+((u=n["if"].call(c,t!=null?t.hasViewMoreLink:t,{name:"if",hash:{},fn:e.program(17,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+" "+((u=n["if"].call(c,o[1]!=null?o[1].isMobile:o[1],{name:"if",hash:{},fn:e.program(19,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+'"\n				data-url="'+l(f((u=t!=null?t.photo:t)!=null?u.url:u,t))+'"\n				data-photo-id="'+l(f((u=t!=null?t.photo:t)!=null?u.id:u,t))+'"\n				data-activity-id="'+l(f(o[1]!=null?o[1].id:o[1],t))+'"\n				style="top: '+l((a=(a=n.top||(t!=null?t.top:t))!=null?a:h,typeof a===p?a.call(c,{name:"top",hash:{},data:i}):a))+"px; left: "+l((a=(a=n.left||(t!=null?t.left:t))!=null?a:h,typeof a===p?a.call(c,{name:"left",hash:{},data:i}):a))+"px; width: "+l((a=(a=n.width||(t!=null?t.width:t))!=null?a:h,typeof a===p?a.call(c,{name:"width",hash:{},data:i}):a))+"px; height: "+l((a=(a=n.height||(t!=null?t.height:t))!=null?a:h,typeof a===p?a.call(c,{name:"height",hash:{},data:i}):a))+"px; "+((u=n["if"].call(c,t!=null?t.hasViewMoreLink:t,{name:"if",hash:{},fn:e.program(21,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+';"\n			>\n'+((u=n["if"].call(c,(u=t!=null?t.photo:t)!=null?u.isInappropriate:u,{name:"if",hash:{},fn:e.program(23,i,0,s,o),inverse:e.program(25,i,0,s,o),data:i}))!=null?u:"")+"\n"+((u=n["if"].call(c,t!=null?t.hasViewMoreLink:t,{name:"if",hash:{},fn:e.program(30,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"			</a>\n\n"+((u=n["if"].call(c,(n.and||t&&t.and||h).call(c,(u=t!=null?t.photo:t)!=null?u.isVideo:u,(n.not||t&&t.not||h).call(c,t!=null?t.hasViewMoreLink:t,{name:"not",hash:{},data:i}),{name:"and",hash:{},data:i}),{name:"if",hash:{},fn:e.program(32,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")},14:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},(s=t!=null?t.photo:t)!=null?s.isVideo:s,{name:"if",hash:{},fn:e.noop,inverse:e.program(15,i,0),data:i}))!=null?s:""},15:function(e,t,n,r,i){var s;return'title="'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{title:(s=t!=null?t.photo:t)!=null?s.title:s,username:(s=(s=t!=null?t.photo:t)!=null?s.owner:s)!=null?s.displayname:s,intlName:"feed.TITLE_PHOTO_BY"},data:i}))+'"'},17:function(e,t,n,r,i){return"view-more-link"},19:function(e,t,n,r,i){return"server-only-link"},21:function(e,t,n,r,i){var s;return"line-height:"+e.escapeExpression((s=(s=n.height||(t!=null?t.height:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"height",hash:{},data:i}):s))+"px"},23:function(e,t,n,r,i){var s;return(s=e.invokePartial(r["adult-content-overlay"],t,{name:"adult-content-overlay",data:i,indent:"					",helpers:n,partials:r,decorators:e.decorators}))!=null?s:""},25:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing;return'					<span class="facade-of-protection-neue"></span>\n\n'+((s=n["if"].call(o,(n.and||t&&t.and||u).call(o,(s=t!=null?t.photo:t)!=null?s.isVideo:s,(s=i&&i.root)&&s.videoOnHover,(n.not||t&&t.not||u).call(o,t!=null?t.hasViewMoreLink:t,{name:"not",hash:{},data:i}),{name:"and",hash:{},data:i}),{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.program(28,i,0),data:i}))!=null?s:"")},26:function(e,t,n,r,i){var s,o,u=e.lambda,a=e.escapeExpression;return'						<video muted="true" loop="true" id="video_'+a(u((s=t!=null?t.photo:t)!=null?s.id:s,t))+'" data-defer-src="'+a(u((s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.displayUrl:s,t))+'" poster="'+a((o=(o=n.spaceball||(t!=null?t.spaceball:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"spaceball",hash:{},data:i}):o))+'" class="video-js vjs-big-play-centered inherit-size vjs-controls-disabled"></video>\n'},28:function(e,t,n,r,i){var s,o,u=e.escapeExpression;return'						<img data-defer-src="'+u(e.lambda((s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.displayUrl:s,t))+'" src="'+u((o=(o=n.spaceball||(t!=null?t.spaceball:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"spaceball",hash:{},data:i}):o))+'" />\n'},30:function(e,t,n,r,i,s,o){return"					<span>"+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{count:o[1]!=null?o[1].howManyMore:o[1],intlName:"feed.X_MANY_MORE"},data:i}))+"</span>\n"},32:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing,f="function",l=e.escapeExpression;return'				<div class="video-button '+((s=n["if"].call(u,(s=i&&i.root)&&s.videoOnHover,{name:"if",hash:{},fn:e.program(33,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" style="top:calc(('+l((o=(o=n.height||(t!=null?t.height:t))!=null?o:a,typeof o===f?o.call(u,{name:"height",hash:{},data:i}):o))+"px / 2) + "+l((o=(o=n.top||(t!=null?t.top:t))!=null?o:a,typeof o===f?o.call(u,{name:"top"
,hash:{},data:i}):o))+"px); left:calc(("+l((o=(o=n.width||(t!=null?t.width:t))!=null?o:a,typeof o===f?o.call(u,{name:"width",hash:{},data:i}):o))+"px / 2) + "+l((o=(o=n.left||(t!=null?t.left:t))!=null?o:a,typeof o===f?o.call(u,{name:"left",hash:{},data:i}):o))+'px);">\n					<div class="icon icon-play icon-video-indicator"></div>\n				</div>\n'},33:function(e,t,n,r,i){return"show"},35:function(e,t,n,r,i){var s;return(s=n.each.call(t!=null?t:{},(s=t!=null?t.layout:t)!=null?s.boxes:s,{name:"each",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))!=null?s:""},36:function(e,t,n,r,i){var s;return(s=e.invokePartial(r["photo-loading-performance"],t,{name:"photo-loading-performance",hash:{photoUrl:(s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.displayUrl:s,id:(s=t!=null?t.photo:t)!=null?s.id:s,view:"feed-page-view",prefix:"feed-aft"},data:i,indent:"	",helpers:n,partials:r,decorators:e.decorators}))!=null?s:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i,s,o){var u,a,f=t!=null?t:{},l=n.helperMissing,c="function",h=e.escapeExpression;return'<div class="activity-card group-activity-card group-batch-activity-card\n	'+((u=n["if"].call(f,t!=null?t.loading:t,{name:"if",hash:{},fn:e.program(1,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"\n	"+((u=n["if"].call(f,t!=null?t.placeholder:t,{name:"if",hash:{},fn:e.program(3,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"\n	"+((u=n["if"].call(f,t!=null?t.isDisabled:t,{name:"if",hash:{},fn:e.program(5,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"\n	"+((u=n["if"].call(f,t!=null?t.manualPosition:t,{name:"if",hash:{},fn:e.program(7,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+'"\n	'+((u=n["if"].call(f,t!=null?t.manualPosition:t,{name:"if",hash:{},fn:e.program(9,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+'\n	data-total-batch-count="'+h((a=(a=n.count||(t!=null?t.count:t))!=null?a:l,typeof a===c?a.call(f,{name:"count",hash:{},data:i}):a))+'"\n	data-activity-id="'+h((a=(a=n.id||(t!=null?t.id:t))!=null?a:l,typeof a===c?a.call(f,{name:"id",hash:{},data:i}):a))+'"\n	data-card-count="'+h(e.lambda((u=(u=t!=null?t.layout:t)!=null?u.boxes:u)!=null?u.length:u,t))+'"\n	data-group-id="'+h((a=(a=n.groupId||(t!=null?t.groupId:t))!=null?a:l,typeof a===c?a.call(f,{name:"groupId",hash:{},data:i}):a))+'"\n>\n	<div class="activity-card-content" role="heading" aria-level="3" tabindex="0"\n	aria-label="'+h((n.intlMessage||t&&t.intlMessage||l).call(f,{name:"intlMessage",hash:{intlName:"feed.GROUPS_ACTIVITY_LABEL"},data:i}))+" "+h((n.intlMessage||t&&t.intlMessage||l).call(f,{name:"intlMessage",hash:{count:(u=(u=t!=null?t.layout:t)!=null?u.boxes:u)!=null?u.length:u,ownername:t!=null?t.groupName:t,intlName:"feed.ACCESSIBLE_CARD_SUMMARY"},data:i}))+" "+((u=(n.friendlySinceDate||t&&t.friendlySinceDate||l).call(f,t!=null?t.time:t,false,true,{name:"friendlySinceDate",hash:{},fn:e.program(11,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+'">\n'+((u=e.invokePartial(r["feed-card-attribution"],t,{name:"feed-card-attribution",hash:{batchCount:t!=null?t.count:t,isGroup:true,time:t!=null?t.time:t,groupName:t!=null?t.groupName:t},data:i,indent:"		",helpers:n,partials:r,decorators:e.decorators}))!=null?u:"")+'	</div>\n	<div class="activity-card-photos" style="height: '+h((a=(a=n.cardHeight||(t!=null?t.cardHeight:t))!=null?a:l,typeof a===c?a.call(f,{name:"cardHeight",hash:{},data:i}):a))+'px">\n'+((u=n.each.call(f,(u=t!=null?t.layout:t)!=null?u.boxes:u,{name:"each",hash:{},fn:e.program(13,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")+"	</div>\n</div>\n"+((u=n["if"].call(f,t!=null?t.manualPosition:t,{name:"if",hash:{},fn:e.program(35,i,0,s,o),inverse:e.noop,data:i}))!=null?u:"")},usePartial:!0,useData:!0,useDepths:!0}),r={};e.Array.each(["feed-card-attribution","adult-content-overlay","photo-loading-performance"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/feed-group-activity-batch-card",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-feed-card-attribution","hermes-template-adult-content-overlay","hermes-template-photo-loading-performance"]});
YUI.add("hermes-template-feed-group-activity-single-card",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return"is-portrait"},3:function(e,t,n,r,i){return"loading"},5:function(e,t,n,r,i){return"disabled"},7:function(e,t,n,r,i){return"placeholder"},9:function(e,t,n,r,i){return"disable-click"},11:function(e,t,n,r,i){var s,o,u=e.escapeExpression;return' style="float: left; left: '+u(e.lambda((s=t!=null?t.manualPosition:t)!=null?s.left:s,t))+"px; position: relative;max-width: "+u((o=(o=n.initialCardWidth||(t!=null?t.initialCardWidth:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"initialCardWidth",hash:{},data:i}):o))+'px;" '},13:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{time:t!=null?t.time:t,intlName:t!=null?t.intlName:t},data:i}))},15:function(e,t,n,r,i){var s,o,u=e.escapeExpression;return'data-url="'+u(e.lambda((s=t!=null?t.photo:t)!=null?s.url:s,t))+"/in/pool-"+u((o=(o=n.groupId||(t!=null?t.groupId:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"groupId",hash:{},data:i}):o))+'"'},17:function(e,t,n,r,i){var s;return'title="'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{title:(s=t!=null?t.photo:t)!=null?s.title:s,username:(s=(s=t!=null?t.photo:t)!=null?s.owner:s)!=null?s.displayname:s,intlName:"feed.TITLE_PHOTO_BY"},data:i}))+'"'},19:function(e,t,n,r,i){return"server-only-link"},21:function(e,t,n,r,i){var s,o,u=e.lambda,a=e.escapeExpression;return'				style="width: '+a(u((s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.width:s,t))+"px; height: "+a((o=(o=n.cardHeight||(t!=null?t.cardHeight:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"cardHeight",hash:{},data:i}):o))+"px; margin-left: calc(50% - "+a(u((s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.width:s,t))+'px /2 );"\n'},23:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a="function",f=e.escapeExpression;return'				style="top: '+f((s=(s=n.top||(t!=null?t.top:t))!=null?s:u,typeof s===a?s.call(o,{name:"top",hash:{},data:i}):s))+"px; left: "+f((s=(s=n.left||(t!=null?t.left:t))!=null?s:u,typeof s===a?s.call(o,{name:"left",hash:{},data:i}):s))+"px; width: "+f((s=(s=n.cardWidth||(t!=null?t.cardWidth:t))!=null?s:u,typeof s===a?s.call(o,{name:"cardWidth",hash:{},data:i}):s))+"px; height: "+f((s=(s=n.cardHeight||(t!=null?t.cardHeight:t))!=null?s:u,typeof s===a?s.call(o,{name:"cardHeight",hash:{},data:i}):s))+'px;"\n'},25:function(e,t,n,r,i){var s;return(s=e.invokePartial(r["adult-content-overlay"],t,{name:"adult-content-overlay",data:i,indent:"				",helpers:n,partials:r,decorators:e.decorators}))!=null?s:""},27:function(e,t,n,r,i){var s,o=t!=null?t:{};return'				<span class="facade-of-protection-neue"></span>\n\n'+((s=n["if"].call(o,(n.and||t&&t.and||n.helperMissing).call(o,(s=t!=null?t.photo:t)!=null?s.isVideo:s,t!=null?t.videoOnHover:t,{name:"and",hash:{},data:i}),{name:"if",hash:{},fn:e.program(28,i,0),inverse:e.program(30,i,0),data:i}))!=null?s:"")},28:function(e,t,n,r,i){var s,o,u=e.lambda,a=e.escapeExpression;return'					<video muted="true" loop="true" id="video_'+a(u((s=t!=null?t.photo:t)!=null?s.id:s,t))+'" data-defer-src="'+a(u((s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.displayUrl:s,t))+'" poster="'+a((o=(o=n.spaceball||(t!=null?t.spaceball:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"spaceball",hash:{},data:i}):o))+'" class="video-js vjs-big-play-centered inherit-size vjs-controls-disabled"></video>\n'},30:function(e,t,n,r,i){var s,o,u=e.escapeExpression;return'					<img data-defer-src="'+u(e.lambda((s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.displayUrl:s,t))+'" src="'+u((o=(o=n.spaceball||(t!=null?t.spaceball:t))!=null?o:n.helperMissing,typeof o=="function"?o.call(t!=null?t:{},{name:"spaceball",hash:{},data:i}):o))+'" />\n'},32:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing,f="function",l=e.escapeExpression;return'			<div class="video-button '+((s=n["if"].call(u,t!=null?t.videoOnHover:t,{name:"if",hash:{},fn:e.program(33,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" style="top:calc(('+l((o=(o=n.height||(t!=null?t.height:t))!=null?o:a,typeof o===f?o.call(u,{name:"height",hash:{},data:i}):o))+"px / 2) + "+l((o=(o=n.top||(t!=null?t.top:t))!=null?o:a,typeof o===f?o.call(u,{name:"top",hash:{},data:i}):o))+"px); left:calc(("+l((o=(o=n.width||(t!=null?t.width:t))!=null?o:a,typeof o===f?o.call(u,{name:"width",hash:{},data:i}):o))+"px / 2) + "+l((o=(o=n.left||(t!=null?t.left:t))!=null?o:a,typeof o===f?o.call(u,{name:"left",hash:{},data:i}):o))+'px);">\n				<div class="icon icon-play icon-video-indicator"></div>\n			</div>\n'},33:function(e,t,n,r,i){return"show"},35:function(e,t,n,r,i){var s;return((s=n["if"].call(t!=null?t:{},(s=t!=null?t.photo:t)!=null?s.title:s,{name:"if",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i}))!=null?s:"")+'		<div class="feed-card-actions">\n'+((s=e.invokePartial(r["feed-card-engagement-actions"],t,{name:"feed-card-engagement-actions",data:i,indent:"			",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"		</div>\n"},36:function(e,t,n,r,i){var s;return'			<div class="activity-card-title">\n				<p>\n'+((s=n["if"].call(t!=null?t:{},(s=t!=null?t.photo:t)!=null?s.displayTitle:s,{name:"if",hash:{},fn:e.program(37,i,0),inverse:e.program(39,i,0),data:i}))!=null?s:"")+"				</p>\n			</div>\n"},37:function(e,t,n,r,i){var s;return"						"+e.escapeExpression(e.lambda((s=t!=null?t.photo:t)!=null?s.displayTitle:s,t))+"\n"},39:function(e,t,n,r,i){var s;return"						"+e.escapeExpression(e.lambda((s=t!=null?t.photo:t)!=null?s.title:s,t))+"\n"},41:function(e,t,n,r,i){var s;return(s=e.invokePartial(r["photo-loading-performance"],t,{name:"photo-loading-performance",hash:{photoUrl:(s=(s=t!=null?t.photo:t)!=null?s.bestSize:s)!=null?s.displayUrl:s,id:(s=t!=null?t.photo:
t)!=null?s.id:s,view:"feed-page-view",prefix:"feed-aft"},data:i,indent:"	",helpers:n,partials:r,decorators:e.decorators}))!=null?s:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing,f="function",l=e.escapeExpression,c=e.lambda;return'<div class="activity-card group-activity-card group-single-activity-card\n	'+((s=n["if"].call(u,t!=null?t.isPortrait:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(u,t!=null?t.loading:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(u,t!=null?t.isDisabled:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(u,t!=null?t.placeholder:t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(u,t!=null?t.manualPosition:t,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"\n	'+((s=n["if"].call(u,t!=null?t.manualPosition:t,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))!=null?s:"")+'\n	data-activity-id="'+l((o=(o=n.id||(t!=null?t.id:t))!=null?o:a,typeof o===f?o.call(u,{name:"id",hash:{},data:i}):o))+'"\n	data-photo-id="'+l(c((s=t!=null?t.photo:t)!=null?s.id:s,t))+'"\n	data-group-id="'+l((o=(o=n.groupId||(t!=null?t.groupId:t))!=null?o:a,typeof o===f?o.call(u,{name:"groupId",hash:{},data:i}):o))+'"\n>\n	<div class="activity-card-content" role="heading" aria-level="3" tabindex="0"\n	aria-label="'+l((n.intlMessage||t&&t.intlMessage||a).call(u,{name:"intlMessage",hash:{intlName:"feed.GROUPS_ACTIVITY_LABEL"},data:i}))+" "+l((n.intlMessage||t&&t.intlMessage||a).call(u,{name:"intlMessage",hash:{count:1,ownername:t!=null?t.groupName:t,intlName:"feed.ACCESSIBLE_CARD_SUMMARY"},data:i}))+" "+((s=(n.friendlySinceDate||t&&t.friendlySinceDate||a).call(u,t!=null?t.time:t,false,true,{name:"friendlySinceDate",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))!=null?s:"")+'">\n'+((s=e.invokePartial(r["feed-card-attribution"],t,{name:"feed-card-attribution",hash:{batchCount:t!=null?t.count:t,isGroup:true,time:t!=null?t.time:t,groupName:t!=null?t.groupName:t},data:i,indent:"		",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+'	</div>\n	<div class="activity-card-photos" style="height: '+l((o=(o=n.cardHeight||(t!=null?t.cardHeight:t))!=null?o:a,typeof o===f?o.call(u,{name:"cardHeight",hash:{},data:i}):o))+'px">\n		<a target="_blank"\n			href="'+l(c((s=t!=null?t.photo:t)!=null?s.url:s,t))+"/in/pool-"+l((o=(o=n.groupId||(t!=null?t.groupId:t))!=null?o:a,typeof o===f?o.call(u,{name:"groupId",hash:{},data:i}):o))+'"\n			'+((s=n["if"].call(u,(s=t!=null?t.photo:t)!=null?s.isInappropriate:s,{name:"if",hash:{},fn:e.noop,inverse:e.program(15,i,0),data:i}))!=null?s:"")+"\n			"+((s=n["if"].call(u,(s=t!=null?t.photo:t)!=null?s.isVideo:s,{name:"if",hash:{},fn:e.noop,inverse:e.program(17,i,0),data:i}))!=null?s:"")+'\n			class="activity-card-photo '+((s=n["if"].call(u,t!=null?t.isMobile:t,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"\n			data-photo-id="'+l(c((s=t!=null?t.photo:t)!=null?s.id:s,t))+'"\n			data-activity-id="'+l((o=(o=n.id||(t!=null?t.id:t))!=null?o:a,typeof o===f?o.call(u,{name:"id",hash:{},data:i}):o))+'"\n'+((s=n["if"].call(u,t!=null?t.isSmallerThanCard:t,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.program(23,i,0),data:i}))!=null?s:"")+"		>\n"+((s=n["if"].call(u,(s=t!=null?t.photo:t)!=null?s.isInappropriate:s,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.program(27,i,0),data:i}))!=null?s:"")+"		</a>\n\n"+((s=n["if"].call(u,(s=t!=null?t.photo:t)!=null?s.isVideo:s,{name:"if",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))!=null?s:"")+'	</div>\n	<div class="activity-card-content">\n'+((s=n["if"].call(u,(s=t!=null?t.photo:t)!=null?s.isInappropriate:s,{name:"if",hash:{},fn:e.noop,inverse:e.program(35,i,0),data:i}))!=null?s:"")+"	</div>\n</div>\n\n"+((s=n["if"].call(u,t!=null?t.manualPosition:t,{name:"if",hash:{},fn:e.program(41,i,0),inverse:e.noop,data:i}))!=null?s:"")},usePartial:!0,useData:!0}),r={};e.Array.each(["feed-card-attribution","adult-content-overlay","feed-card-engagement-actions","photo-loading-performance"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/feed-group-activity-single-card",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-feed-card-attribution","hermes-template-adult-content-overlay","hermes-template-feed-card-engagement-actions","hermes-template-photo-loading-performance"]});
YUI.add("hermes-template-flickr-balls",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return'<div class="balls">\n	<div class="blue ball"></div><div class="pink ball"></div>\n</div>'},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/flickr-balls",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-feed-page",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return"grid-four"},3:function(e,t,n,r,i){var s;return'style="width: '+e.escapeExpression((s=(s=n.singleColumnWidth||(t!=null?t.singleColumnWidth:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"singleColumnWidth",hash:{},data:i}):s))+'px"'},5:function(e,t,n,r,i){var s;return(s=e.invokePartial(r["flickr-balls"],t,{name:"flickr-balls",data:i,indent:"		",helpers:n,partials:r,decorators:e.decorators}))!=null?s:""},7:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.failedLoading:t,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(10,i,0),data:i}))!=null?s:""},8:function(e,t,n,r,i){return"			<h2>"+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"feed.FEED_SLOW"},data:i}))+"</h2>\n"},10:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.nothingToShow:t,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(16,i,0),data:i}))!=null?s:""},11:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.noMoreGroupActivity:t,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.program(14,i,0),data:i}))!=null?s:""},12:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return"					<h3>"+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"feed.JOIN_GROUPS_FEED_ACTIVITY"},data:i}))+'</h3>\n					<div class="refresh-btn-container">\n						<button type="button" name="button" disabled class="refresh-btn butt">'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"feed.REFRESH_WHEN_YOURE_DONE"},data:i}))+"</button>\n					</div>\n					"+u((n.outlet||t&&t.outlet||o).call(s,t!=null?t["groups-recommended-list-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"},14:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return"					<h3>"+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"feed.NOTHING_TO_SHOW_NOONE_WITH_PHOTOS"},data:i}))+'</h3>\n					<h4 class="go-explore">'+((s=(n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"feed.NOTHING_TO_SHOW_FRIENDS_EXPLORE"},data:i}))!=null?s:"")+'</h3>\n\n					<div class="refresh-btn-container">\n						<button type="button" name="button" class="back-all-activity butt">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"feed.CHECK_OUT_OUR_PHOTOGRAPHERS"},data:i}))+"</button>\n					</div>\n"},16:function(e,t,n,r,i){var s,o=t!=null?t:{};return'				<div class="feed '+((s=n["if"].call(o,t!=null?t.isSingleColumn:t,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" '+((s=n["if"].call(o,t!=null?t.isSingleColumn:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+">\n"+((s=n["if"].call(o,t!=null?t.preRenderedCards:t,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))!=null?s:"")+"				</div>\n\n"+((s=e.invokePartial(r["flickr-balls"],t,{name:"flickr-balls",data:i,indent:"				",helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+'\n				<div class="load-more">\n					<button type="button" name="button" role="heading" aria-level="3">'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(o,{name:"intlMessage",hash:{intlName:"feed.LOAD_MORE"},data:i}))+"</button>\n				</div>\n"},17:function(e,t,n,r,i){return"single-column"},19:function(e,t,n,r,i){return"						"+e.escapeExpression((n.renderTrustedMarkup||t&&t.renderTrustedMarkup||n.helperMissing).call(t!=null?t:{},t!=null?t.preRenderedCards:t,{name:"renderTrustedMarkup",hash:{},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return a((n.outlet||t&&t.outlet||u).call(o,t!=null?t["global-nav-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"+a((n.outlet||t&&t.outlet||u).call(o,t!=null?t["fluid-feed-subnav-view"]:t,{name:"outlet",hash:{},data:i}))+"\n\n<script>\nwindow.paftTiming['feed-page-view'] = {};\n</script>\n\n<div class=\"feed-container "+((s=(n.isFlipped||t&&t.isFlipped||u).call(o,"enable-feed-correct-layout",{name:"isFlipped",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" role="main" '+((s=n["if"].call(o,t!=null?t.isSingleColumn:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+">\n"+((s=n["if"].call(o,t!=null?t.isLoading:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i}))!=null?s:"")+"\n	"+a((n.outlet||t&&t.outlet||u).call(o,t!=null?t["footer-full-view"]:t,{name:"outlet",hash:{},data:i}))+"\n</div>\n"},usePartial:!0,useData:!0}),r={};e.Array.each(["flickr-balls","flickr-balls"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/feed-page",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-flickr-balls","hermes-template-flickr-balls"]});
