YUI.add("group-context-menu-view",function(e,t){var n=require("lib/flog")(t);e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.nsid=e.nsid,this.groupModel=e.groupModel,this.showInFeed=!0,this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this},loadState:function(){return this},buildContainer:function(){return this.setContainerWithTemplate("group-joined-dropdown",{isMutedInFeed:this.groupModel.isMutedInFeed}),this},activate:function(){var e=this,t=this.get("container"),n;return this.checkbox=t.one(".group-muted-checkbox"),this.checkboxNode=this.checkbox.getDOMNode(),this.checkboxNode.disabled=!0,this.registerEventHandler(t.delegate("click",e.handleLeaveClick.bind(this),".leave-group-item button.leave")),this.registerEventHandler(this.checkbox.on("change",e.handleMuteChange.bind(this))),this.appContext.getModel("person-preferences-models",this.appContext.getViewer().nsid).then(function(t){var r={object_id:e.groupModel.getValue("id"),object_type:1,pref_type:"GroupBatch"};t.remoteReadUserPrefs(r,this.appContext).then(function(t){n=t.userFeedPref.length>0?t.userFeedPref[0]:null,n?e.showInFeed=n.prefValue==="1":e.showInFeed=!0,e.checkboxNode.checked=e.showInFeed,e.checkboxNode.disabled=!1},function(e){})},function(e){}),this},handleLeaveClick:function(e){var t=this;e.preventDefault(),t.fire("leaveGroupClick",e),t.fire("actionClick",e)},handleMuteChange:function(e){var t=e.target.getDOMNode(),n=t.checked;t.disabled=!0,this.fire("muteGroupToggle",{changeEvent:e})}})},"@VERSION@",{requires:["promise","hermes-template-group-joined-dropdown","person-preferences-models"],langBundles:["common","groups","feed"]});
YUI.add("hermes-lang-groups",function(e,t){e.Intl.add("hermes/groups","en-US",{POST_THRESHOLD_EVER:["Members can post ",{type:"plural",valueName:"count",options:{one:"<b>${#}</b> thing",other:"<b>${#}</b> things"}}," to the pool."],POST_THRESHOLD_DAY:["Members can post ",{type:"plural",valueName:"count",options:{one:"<b>${#}</b> thing",other:"<b>${#}</b> things"}}," to the pool each day."],POST_THRESHOLD_MONTH:["Members can post ",{type:"plural",valueName:"count",options:{one:"<b>${#}</b> thing",other:"<b>${#}</b> things"}}," to the pool each month."],POST_THRESHOLD_WEEK:["Members can post ",{type:"plural",valueName:"count",options:{one:"<b>${#}</b> thing",other:"<b>${#}</b> things"}}," to the pool each week."],ACCEPTED_CONTENT_TYPES:["Accepted content types:"],ACCEPTED_SAFETY_LEVELS:["Accepted safety levels:"],PHOTOS:["Photos"],VIDEOS:["Videos"],IMAGES:["Images"],SCREENSHOTS:["Screenshots"],ART:["Art"],SAFE:["Safe"],MODERATE:["Moderate"],RESTRICTED:["Restricted"],SEE_ALL_DISCUSSIONS:["See all discussions"],DISCUSSION_TITLE:["Title"],DISCUSSION_AUTHOR:["Author"],DISCUSSION_REPLIES:["Replies"],DISCUSSION_LAST_POST:["Latest Post"],DISCUSSION_LAST_REPLIER:["Last Replier"],NO_DISCUSSIONS:["Be the first to start a group discussion!"],BE_THE_FIRST:["Be the first to add a photo to the group!"],BE_THE_FIRST_JOIN:["Help get this group started: click the join button above!"],BE_THE_FIRST_SIGN_IN:["Help get this group started: sign in and contribute photos!"],NO_PHOTOS_BY_YOU:["You haven't added any photos yet. What are you waiting for?"],WHO_IS_ME:['Who is this "me" of which you speak?'],INVALID_PERSON:["Never heard of them! Sorry!"],ADD_SOME_PHOTOS:["Add some photos"],NO_PHOTOS:["No photos in this group"],POOL_PREVIEW_HEADER:["Photo pool"],POOL_HEADER:["Group pool"],ADD_PHOTO:["Add photo"],VIEW_X_PHOTOS:[{type:"plural",valueName:"count",options:{one:"View ${#} photos",other:"View ${#} photos"}}],DISCUSSIONS:["Discussions"],ADD_TOPIC:["Add topic"],SEARCH_DISCUSSIONS:["Search discussions"],SEARCH_POOL:["Search pool"],ADD_A_TOPIC:["Add a topic"],TOP_CONTRIBUTORS:["Top Contributors"],CONTRIBUTORS:["Contributors"],CONTRIBUTORS_RANK:["Rank"],CONTRIBUTORS_LATEST_PHOTO:["Latest Photo"],CONTRIBUTORS_PHOTOS:["Photos"],CONTRIBUTORS_DISCUSSIONS:["Discussions"],CONTRIBUTORS_JOINED_GROUP:["Joined Group"],SEE_ALL_MEMBERS:["View all members"],TOTAL_DISCUSSIONS:[{type:"plural",valueName:"count",options:{one:"${#} discussion in",other:"${#} discussions in"}}," ","${groupname}"],DISCUSSION_STICKY:["Sticky"],RANKING:["#","${count}"],BLAST_INVITED_MEMBER:["MEMBER"],BLAST_PENDING_MEMBER:["MEMBER"],BLAST_GROUP_MEMBER:["MEMBER"],BLAST_MODERATOR:["MODERATOR"],BLAST_ADMIN:["ADMIN"],SHARE:["Share"],EIGHTTEEN_PLUS_SIGNEDIN:["This group is 18+, do you want to enter?"],EIGHTEEN_PLUS_SIGNEDOUT:["This group is 18+. Sign in to view the group."],NO:["No"],YES:["Yes"],GROUP_POOL_LOADING_ERROR:["Error loading the group's pool photos"],GROUP_DISCUSSION_LOADING_ERROR:["Error loading the group's discussion list"],GROUP_TOP_CONTRIBUTORS_LOADING_ERROR:["Error loading the group's top contributors"],GROUP_DELETION_ERROR:["Something went wrong deleting the photo...please try again."],RETRY:["Retry"],ADDED_NOTIFICATION:['Success! Would you like to <a href="',"${url}",'">add something else</a>?'],NOT_ADDED_NOTIFICATION:['That\u2019s already in the group pool. <a href="',"${url}",'">Try something else?</a>'],PENDING_NOTIFICATION:['Your photo/video has been submitted the group. If approved by the group administrator, it will show up in the group pool. Would you like to <a href="',"${url}",'">add another</a>?'],DONE_PENDING_NOTIFICATION:["All done! There's nothing else to moderate."],GROUP_ADD_PENDING:["Pending approval by administrator"],DELETED_NOTIFICATION:["That item has been removed from the pool."],POOL_MEMBERS_ONLY:["This group pool is for members only."],DISCUSSION_MEMBERS_ONLY:["This group discussion is for members only."],DISCUSSION_MEMBERS_ONLY_INTERSTITIAL:["This group discussion is for members only. Join the conversation with the Join group button above, or click Overview to learn more about the group."],REMOVE_PHOTO:["Remove this photo from the group pool?"],PENDING_COUNT_NOTIFICATION:['You have <a href="',"${url}",'">',{type:"plural",valueName:"pendingCount",options:{zero:"0 photos",one:"${#} photo",other:"${#} photos"}}," pending</a>"],X_GROUPS:[{type:"plural",valueName:"count",options:{one:"${#} Group",other:"${#} Groups"}}],HAS_NONE:["Looks like you don't belong to any group, so there is a list of ones you might like below."],SIGNED_OUT:["Groups are a fabulous way to share content and conversation, either privately or with the world. Believe us when we say there's probably a group for everyone, but if you can't find one you like, feel free to start your own."],LAST_REPLY_TIME_AGO:['<a href="',"${replyurl}",'" data-track="groupDiscussionTopicLastReplyClick">',"${time}"," ago</a>"],MEMBERS_ONLY_POOL_JOIN:["Only members can see this group pool. Click Overview above to learn more about the group, or the Join group button above to, uh...join!"],MEMBERS_ONLY_POOL_SIGN_IN:["Only members can see this group pool. Sign in to join the group."],PRIVATE_GROUP:["You've reached a private group."],RETURN_HOME:["Return home"],DISCUSSIONS_DISABLED:["Discussions are disabled for this group."],GO_TO_GROUP_HOME:["Go to group home"],GROUP_JOIN_RULES_DIALOG_TITLE:["Group Rules"],GROUP_JOIN_RULES_DIALOG_MESSAGE:["If you agree to these rules, you can join the group."],GROUP_JOIN_RULES_DIALOG_ACCEPT:["I agree"],GROUP_JOIN_RULES_DIALOG_DECLINE:["No, thanks"],GROUP_JOIN_ERROR:["Something went wrong with joining the group."],GROUP_LEAVE_ERROR:["Something went wrong with leaving the group."],GROUPS:["Groups"],GROUPS_LIST_LOADING_ERROR:['There was an issue loading the groups.<br>Click <a class="retry">Reload</a> to try again.'],GROUPS_LIST_ERROR_HEADER:["Error loading groups"],CONTRIBUTORS_DISCUSSION_TOPICS:["Topics"],GROUPS_LIST_GROUPS:["Groups"],GROUPS_LIST_MEMBERS
:["Members"],GROUPS_LIST_PHOTOS:["Photos"],GROUPS_LIST_TOPICS:["Topics"],GROUPS_LIST_LATEST:["Latest"],GROUPS_LIST_LATEST_DISCUSSION:["Latest Post"],GROUPS_LIST_LATEST_PHOTO:["Latest Photo"],GROUPS_LEAVE_WARNING_TITLE:["Leave ","${title}","?"],GROUPS_LEAVE_WARNING:['Do you really want to leave the group "',"${title}",'?"'],GROUPS_LEAVE_WARNING_LAST_MEMBER:['Do you really want to leave the group "',"${title}",'"? Because you are the last person in this group, the group will be deleted if you leave.'],GROUPS_LEAVE_WARNING_ADMIN:['Do you really want to leave the group "',"${title}",'"? If you are the last administrator in this group, the longest serving member will be promoted to administrator after you leave.'],GROUPS_LEAVE_WARNING_REMOVE_PHOTOS:["<div class='checkbox-prompt'><label><input type=\"checkbox\">Also remove all the photos & videos you have added to the group pool?</input></label></div>"],GROUPS_LEAVE_WARNING_LEAVE_BUTTON:["Leave this group"],GROUPS_LEAVE_WARNING_CANCEL_BUTTON:["Cancel"],EMPTY_BLAST:["There's no admin blast."],ADD_BLAST:["Why don't you add one?"],REMOVING_BLAST:["Removing Blast..."],CREATE_BLAST:["Add Group Admin Blast"],BACK_TO_OVERVIEW:["Back to group overview"],GROUP_POOL:["Group pool"],NO_VISIBLE_PHOTOS:["${screenname}"," doesn't have any photos visible to you in the ","${groupTitle}"," pool."],UPDATE_BLAST_ERROR:["Could not update the group blast at this time"],DELETE_BLAST_ERROR:["Could not delete the group blast at this time"],LONG_BLAST_ERROR:[{type:"plural",valueName:"count",options:{one:"Group blast is ${#} character, it must be less than 496 characters.",other:"Group blast is ${#} characters, it must be less than 496 characters."}}],GROUPS_LIST_BELONG_HEADER:["Groups you are a member of"],GROUPS_LIST_BELONG_MORE:["View all groups you are a member of"],PENDING:[{type:"plural",valueName:"count",options:{one:"${#} pending",other:"${#} pending"}}],GROUPS_ADMIN:["Groups you administer"],GROUPS_MODERATED:["Groups you moderate"],GROUPS_BELONG:["Groups you are a member of"],GROUPS_FAVED:["Groups you faved"],VIEW_ALL_GROUPS_ADMIN:["View all groups you administer"],VIEW_ALL_GROUPS_MODERATED:["View all groups you moderate"],GROUP_DESCRIPTION:["Group Description"],GROUP_RULES:["Group Rules"],GROUP_ADDITIONAL_INFO:["Additional Info"],PENDING_MEMBER_COUNT_NOTIFICATION:['You have <a href="',"${url}",'">',{type:"plural",valueName:"pendingCount",options:{zero:"0 pending members",one:"${#} pending member",other:"${#} pending members"}},"</a>"],BLAST_DATE_ADDED:[{type:"date",valueName:"blastDateAdded",format:"long"}],GROUP_DISCUSSION_START:["Start a discussion"],GROUP_DISCUSSION_DELETE_REPLY:["Delete reply"],GROUP_DISCUSSION_CONFIRM_DELETE:["Are you sure you want to delete this reply?"],GROUP_DISCUSSION_DELETE:["Delete"],GROUP_DISCUSSION_DELETE_FAILED:["Failed to delete reply, please try again."],GROUP_DISCUSSION_PUBLISH_FAILED:["Failed to post reply, please try again."],GROUP_DISCUSSION_PUBLISH_REPLY:["Post reply"],GROUP_DISCUSSION_RECENT_DISCUSSIONS:["Discussions"],GROUP_DISCUSSION_POST_REPLY:["Post reply"],GROUP_DISCUSSION_PUBLISH:["Post Reply"],GROUP_DISCUSSION_PREVIEW:["Preview"],GROUP_DISCUSSION_EDIT_FAILED:["Failed to edit reply, please try again."],GROUP_DISCUSSION_EDIT_REPLY:["Edit reply"],GROUP_DISCUSSION_PREVIEW_EDIT_FAILED:["Failed to preview edit, please try again."],GROUP_DISCUSSION_PREVIEW_EDIT:["Preview edit"],GROUP_DISCUSSION_PREVIEW_REPLY_FAILED:["Failed to preview reply, please try again."],GROUP_DISCUSSION_PREVIEW_REPLY:["Preview reply"],GROUP_DISCUSSION_POST_LOCKED_WITH_LINK:["Group discussion in ","${groupname}",' has been locked. (<a href="',"${unlockUrl}",'">unlock?</a>)'],GROUP_DISCUSSION_POST_LOCKED:["This topic has been locked."],GROUP_DISCUSSION_REPLY_EDITED:["Posted ","${createdAgo}",". Edited ","${editedAgo}"],GROUP_DISCUSSION_REPLY_EDITED_WITH_ROLE:["Posted ","${createdAgo}",". Edited by ","${editAuthor}"," (","${editRole}",") ","${editedAgo}"],GROUP_DISCUSSION_REPLY_EDITED_BY_STAFF:["Posted ","${createdAgo}",". Edited by ","${editAuthor}"," (Staff) ","${editedAgo}"],GROUP_DISCUSSION_DELETE_TOPIC:["Delete topic"],GROUP_DISCUSSION_CONFIRM_DELETE_TOPIC:["Are you sure you want to delete this topic?"],GROUP_DISCUSSION_STICKY_FAILED:["Failed to mark/unmark this topic as sticky.  Please try again"],GROUP_DISCUSSION_STICKY:["Sticky"],GROUP_DISCUSSION_LOCK_FAILED:["Failed to lock/unlock this topic.  Please try again"],GROUP_DISCUSSION_LOCK:["Lock Topic"],DISCUSSION_REPLY_REPLY_PROMPT:["Click to reply to the reply"],DISCUSSION_REPLY_PERMALINK_PROMPT:["Permalink"],DISCUSSION_REPLY_DELETE_PROMPT:["Click to delete this reply"],DISCUSSION_REPLY_EDIT_PROMPT:["Click to edit this reply"],GROUP_DISCUSSION_LOCK_CONFIRMATION_TITLE:["Lock topic"],GROUP_DISCUSSION_LOCK_CONFIRMATION:["Are you sure you want to lock this topic?"],GROUP_DISCUSSION_LOCK_BUTTON:["Lock"],GROUP_DISCUSSION_UNLOCK_CONFIRMATION_TITLE:["Unlock topic"],GROUP_DISCUSSION_UNLOCK_CONFIRMATION:["Are you sure you want to unlock this topic?"],GROUP_DISCUSSION_UNLOCK_BUTTON:["Unlock"],DISCUSSION_MORE_LINK:["More..."],DISCUSSION_SEARCH_LINK:["Search this group's discussions"],DISCUSSION_FORMAT_REPLY:["Want to format your reply?"],GROUP_DISCUSSION_FORMATTING_TITLE:["Discussion Formatting"],GROUP_DISCUSSION_FORMATTING_CLOSE:["Close"],SIGN_IN_TO_REPLY:["Sign in to reply"],DISCUSSION_SIGN_IN_TO_REPLY:["Sign in to reply!"],GROUP_DISCUSSION_PUBLISH_FAILED_LOCKED:["Failed to post reply. This topic has now been locked."],GROUP_DISCUSSION_PUBLISH_FAILED_LOCKED_OR_NONMEMBER:["Failed to post reply. This topic is locked or you are not a member of the group."],GROUP_DISCUSSION_PUBLISH_FAILED_DELETED:["Failed to post reply.  This topic has been deleted."],GROUP_DISCUSSION_GROUP_LOCKED:["All discussions are locked for this group"],GROUP_DISCUSSION_GROUP_LOCKED_WITH_LINK:['All discussions are locked for this group (<a title="unlock group discussions?" href="',"${unlockUrl}",'">unlock?</a>)'],CREATED_YEAR:["Since ","${createdYear}"
],UPDATED_TIME_AGO:["Updated ","${updatedAgo}"],GROUP_JOIN:["Join Group"],GROUP_JOIN_SHORT:["Join"],GROUP_JOINED:["Joined"],GROUP_JOIN_REQUESTED:["Join Requested"],GROUP_JOIN_REQUESTED_SHORT:["Pending"],GROUP_LEAVE_GROUP:["Leave Group"],GROUP_LEAVE_GROUP_SHORT:["Leave"],PHOTOS_LINK_LABEL:["Photos"],DISCUSSIONS_LINK_LABEL:["Discussions"],ADMIN_LINK_LABEL:["Administration"],ERROR_LOADING:["There was an error loading this group. Please try again later."],VISIBLE_REPLIES:["(","${from}"," to ","${to}"," of ","${total}"," replies)"],JOIN_GROUP_TO_START_DISCUSSION:["Join the group to start a discussion!"],POOL_PREVIEW:[{type:"plural",valueName:"count",options:{one:"Showing ${#} row",other:"Showing ${#} rows"}}],GROUP_BAN_MEMBER:["Ban Member"],GROUP_BAN_MEMBER_FAILED:["Failed to ban the member at this time.  Please try again."],GROUP_BAN_MEMBER_CONFIRM:["Are you sure you want to ban this member from the group?"],GROUPS_BAN_MEMBER_BUTTON:["Ban Member"],GROUPS_BAN_MEMBER_CANCEL_BUTTON:["Cancel"],GROUP_BAN_MEMBER_SUCCESS:["Member successfuly banned from the group"],GROUP_BAN_MEMBER_FAILED_ALREADY:["Failed to ban the member at this time.  They may have already been banned from the group."],GROUP_MEMBERS_SIGNIN:["Sign in to see the group's members."],GROUP_MEMBERS_ERROR_LOADING:["There was an error loading this group's members. Please try again later."],GROUP_MEMBERS_LOADMORE:["Load more members"],GROUP_LANDING_HEADLINE:["Flickr groups are a great way to share photos, post comments, and hold discussions around a common theme."],GROUP_RECOMMENDED_GET_STARTED:["Get started with these Flickr Groups"],GROUP_RECOMMENDED_JOIN_A_GROUP:["Join a group!"],SIGN_IN_BEFORE_JOIN_TITLE:["You found a group to join!"],SIGN_IN_BEFORE_JOIN_MESSAGE:["That's fantastic. Just sign in to join ","${name}","."],SIGN_UP_AND_JOIN_MESSAGE:["Join Flickr to become a member of ","${name}","."],SIGN_IN_AND_JOIN:["Sign in and join"],SIGN_UP_BEFORE_CREATE_TITLE:["Create a new Flickr Group!"],SIGN_UP_AND_CREATE_MESSAGE:["Join Flickr to create a new group."],GROUPS_SUBNAV_MEMBERS:[{type:"plural",valueName:"count",options:{one:"member",other:"members"}}],GROUPS_SUBNAV_DISCUSSIONS:[{type:"plural",valueName:"count",options:{one:"discussion",other:"discussions"}}],GROUPS_SUBNAV_PHOTOS:[{type:"plural",valueName:"count",options:{one:"photo",other:"photos"}}],GROUPS_COVER_ATTRIBUTION:["Photo by ","${username}"],GROUPS_BACK_TO_MINE:["Back to my groups"],GROUPS_BACK_TO_OTHERS:["Back to ","${username}"," groups"],GROUPS_FOUNDED:["Founded on ",{type:"date",valueName:"intlDate",format:"long"}],NO_PUBLIC_GROUPS:["This user has not joined any public groups."],RECOMMENDED_GROUPS:["Recommended groups:"],GROUP_POOL_CONTAINS_NO_PUBLIC_PHOTOS:["No public photos in the group pool"],GROUP_INVITE_ONLY_HEADER:["Membership in ","${groupName}"," is by invitation only."],GROUP_INVITE_ONLY_DESC:["All you need to do is contact the administrator responsible for invitations to let them know you're interested in signing up!"],GROUP_INVITE_ONLY_CONTACT_ADMIN:["Contact the group administrator"],GROUP_INVITE_ONLY_SEND:["Send"],GROUP_INVITE_EMPTY_MESSAGE:["Message is empty."],GROUP_INVITE_PENDING:["Your request to join ","${groupName}"," is still awaiting moderator attention - hang in there!"],GROUP_SLOW:["We're having some trouble displaying this group at the moment. Please try again."],RESET_FILTER:["Reset Filter"]})},"@VERSION@",{requires:["intl"]});
YUI.add("hermes-lang-feed",function(e,t){e.Intl.add("hermes/feed","en-US",{TITLE_PHOTO_BY:["${title}"," by ","${username}"],X_PHOTOS:[{type:"plural",valueName:"count",options:{one:"${#} photo",other:"${#} photos"}}],X_MANY_MORE:["+ ","${count}"," more"],READ_MORE:["Read more"],RECOMMENDED:["Recommended"],FEATURED:["Featured"],LOAD_MORE:["Load more"],VISIT_GROUP:["View group"],FEED_SLOW:["We're having some trouble displaying your feed at the moment. Please try again."],FEED_NOTHING_TO_SHOW:["There are no activity to display right now."],VIEW_ALL:["View All"],FAVES_COUNT:[{type:"plural",valueName:"favesCount",options:{one:"${#} Fave",other:"${#} Faves"}}],FAVES_99:["99+ Faves"],COMMENTS_COUNT:[{type:"plural",valueName:"commentsCount",options:{one:"${#} Comment",other:"${#} Comments"}}],COMMENTS_99:["99+ Comments"],VIEWS_COUNT:[{type:"plural",valueName:"viewsCount",options:{one:"${#} view",other:"${#} views"}}],TITLE_QUOTES:["\u201c","${title}","\u201d"],GROUPS_ACTIVITY_LABEL:["Group Activity"],CARD_COUNT_PHOTOS_ONLY:["Posted ",{type:"plural",valueName:"photosCount",options:{one:"${#} photo",other:"${#} photos"}}],CARD_COUNT_VIDEOS_ONLY:["Posted ",{type:"plural",valueName:"videosCount",options:{one:"${#} video",other:"${#} videos"}}],CARD_COUNT_PHOTOS_VIDEOS:["Posted ",{type:"plural",valueName:"photosCount",options:{one:"${#} photo",other:"${#} photos"}}," ",{type:"plural",valueName:"videosCount",options:{one:"and ${#} video",other:"and ${#} videos"}}],LEARN_MORE:["Learn more"],SPONSORED:["Sponsored"],PRO_UPSELL_TITLE:["Jump for joy :)"],PRO_UPSELL_BENEFITS:["Ad-free Browsing, Advanced Stats & Savings on Shipping"],CARD_EXPLANATION_WHY:["Why am I seeing this?"],CARD_EXPLANATION_REC:["This is a recommendation based on your faves and people you follow."],CARD_EXPLANATION_FEATURED:["This is a hand picked recommendation from our editors."],CARD_EXPLANATION_GROUP:["We'll give you recent activity round ups of your favorite groups in your feed."],FEED_GROUP_ONBOARDING_TITLE:["NEW \u2014 Group Activity"],FEED_GROUP_ONBOARDING_DESCRIPTION:['This is the recent activity of a group you\u2019re in. You\'ll see more of your fave groups. To adjust what you see, <a href="/groups">go to your Groups</a>. Tap the star to see recent activity from that group.'],FEED_ONBOARDING_FEEDBACK_TITLE:["Do you like your new Flickr feed?"],FEED_ONBOARDING_FEEDBACK_DESCRIPTION:["We spent our time making improvements to your viewing experience. We also optimized our algorithms to show you more of what you love."],FEED_ONBOARDING_FEEDBACK_LIKE:["I like it"],FEED_ONBOARDING_FEEDBACK_NEEDS_IMPROVEMENT:["It needs improvements"],ACCESSIBLE_CARD_SUMMARY:[{type:"plural",valueName:"count",options:{one:["${ownername}"," posted ","${count}"," photo."],other:["${ownername}"," posted ","${count}"," photos."]}}],NAV_GROUPS_ONLY:["Groups"],NAV_PEOPLE_ONLY:["People"],NAV_ALL_ACTIVITY:["All Activity"],NOTHING_TO_SHOW:["No more activity at the moment."],REFRESH_TO_SEE_NEW_ACTIVITY:["Refresh to see new activity."],REFRESH_WHEN_YOURE_DONE:["Refresh when you're done"],JOIN_GROUPS_FEED_ACTIVITY:["Join some groups to see their recent activity"],NOTHING_TO_SHOW_NOONE_WITH_PHOTOS:["It doesn\u2019t look like you follow anyone with photos."],NOTHING_TO_SHOW_FRIENDS_EXPLORE:['<a href="/import/people/" data-track="feedFindFriends">Find your friends from Facebook, Yahoo Mail and Gmail</a>.'],CHECK_OUT_OUR_PHOTOGRAPHERS:["Discover photos from our Featured Photographers"],RECOVERY_ADD_EMAIL_TITLE:["Add a recovery email to your account"],RECOVERY_IF_FORGET_PASSWORD:["If you forget your password or cannot access your account, we will use this information to help you get back in."],LOGIN_EMAIL:["Login email:"],RECOVERY_EMAIL:["Recovery email:"],RECOVERY_ENTER_EMAIL:["Enter email address"],ADD_RECOVERY_EMAIL:["Add recovery email"],RECOVERY_NAH:["Nah, I don't care about security"],RECOVERY_NOT_NOW:["Not right now"],RECOVERY_CONFIRM_TITLE:["Confirm your recovery email address"],RECOVERY_CHECK_EMAIL_VERIFY:["Check your email at <span>","${email}","</span>."],RECOVERY_YOU_MAY_RECEIVE_EMAILS:["You will receive emails from both Flickr and Yahoo. Click the link in each email to complete the confirmation."],RECOVERY_GOT_IT:["Got it"],RECOVERY_INVALID_EMAIL:["This email address is invalid."],RECOVERY_EMAIL_IN_USE:["This email address is already in use."],RECOVERY_EMAIL_ALREADY_YOURS:["You are already using this email address."],RECOVERY_EMAIL_SOMETHING_WENT_WRONG:["Something went wrong. Try again later."]})},"@VERSION@",{requires:["intl"]});
YUI.add("hermes-template-join-group-invite-form",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return'<div class="send-invitation">\n	<p>'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"groups.GROUP_INVITE_ONLY_DESC"},data:i}))+'</p>\n	<textarea class="group-invite-form"></textarea>\n</div>\n'},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/join-group-invite-form",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("signin-helper",function(e){function t(t,n){e.FlickrStorage.store(t,n)}function n(e,n){var r="fave";t(r,e),m(r,n)}function r(e,t){var n="comment";m(n,t)}function i(e,n){var r="share";t(r,e),m(r,n)}function s(e,n){var r="joingroup";t(r,e),m(r,n)}function o(e,n){var r="follow";t(r,e),m(r,n)}function u(e,n){var r="download";t(r,e),m(r,n)}function a(e,n){var r="fave";t(r,e),y(r,n)}function f(e,t){var n="comment";y(n,t)}function l(e,n){var r="joingroup";t(r,e),y(r,n)}function c(e,n){var r="follow";t(r,e),y(r,n)}function h(e,n){var r="download";t(r,e),y(r,n)}function p(t){var n,r,i=[];if(!t)return;if(e.FlickrStorage.hasEntries()){n=e.FlickrStorage.retrieve();for(r in n)d(t,n[r])||i.push(n[r])}return e.FlickrStorage.remove(),i}function d(e,t){var n=t.key,r=t.value;switch(n){case"fave":return v(e,r),!0;case"share":return!1}}function v(e,t){var n=t.id,r=e.getModelRegistry("photo-engagement-models");r.then(function(e){var t=e.proxy(n);t.registry.addAsFave(n)&&t.remoteUpdate()})}function m(t,n){var r,i;n&&n.withPopup?(r=e.config.win.open(g(n),"_blank","height=650,resizable=1,scrollbars=1,location=yes"),i=setInterval(function(){r.closed&&(clearInterval(i),window.location.reload())},1e3)):e.config.win.location=g(n)}function g(t){t=t||{},t.closeWhenDone&&(t.postLoginUrl=e.url("/photo_grease_postlogin.gne",{protocol:!1}));var n=t.postLoginUrl||e.config.win.location.href,r=t.url||e.url("/signin/yahoo/",{protocol:!1});return r+"?redir="+encodeURIComponent(n)}function y(t,n){n=n||{};var r=n.postLoginUrl||e.config.win.location.href,i=n.url||e.url("/signup/",{protocol:!1});e.config.win.location=i+"?redir="+encodeURIComponent(r)}e.FlickrStorage={_storageKey:"flickrStorage",store:function(t,n){try{var r=[];e.StorageHelper.hasEntries(this._storageKey)&&(r=this.retrieve()),r.push({key:t,value:n}),e.StorageHelper.setItem(this._storageKey,JSON.stringify(r))}catch(i){}},retrieve:function(){var t={};try{t=JSON.parse(e.StorageHelper.getItem(this._storageKey))}catch(n){}return t},remove:function(){try{e.StorageHelper.remove(this._storageKey)}catch(t){}},hasEntries:function(){return e.StorageHelper.hasEntries(this._storageKey)}},e.SigninHelper={savePreLoginAction:t,addPendingFave:n,addPendingComment:r,addPendingShare:i,addPendingFollow:o,addPendingJoinGroup:s,addPendingDownload:u,checkPendingQueue:p,_redirectToSignin:m,_redirectToSignUp:y,_getSigninUrl:g,signUpPendingFave:a,signUpPendingComment:f,signUpPendingFollow:c,signUpPendingJoinGroup:l,signUpPendingDownload:h}},"@VERSION@",{requires:["url","storage-helper"]});
YUI.add("join-group-view",function(e){e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.groupId=e.groupId||e.nsid,this.shortLabels=e.shortLabels||!1,this.theme=e.theme||"dark",this.useSearchModel=e.useSearchModel,this.groupAttrs={},this.groupRemoteMethods={},this.groupModel,this.disableHoverLabelSwitch=!1,this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this.appContext.flipper.isFlipped("enable-signed-out-cta-test")&&(this.signedOutTest=!0),this.doRefreshOnStatusChange=e.doRefreshOnStatusChange||!1,this.hasMenu=e.hasMenu||!1,this},loadState:function(){var e=this;return this.useSearchModel?this.appContext.getModel("search-group-models",this.groupId).then(function(t){e.groupModel=t,e.updateGroupAttrs(t),e.groupRemoteMethods={join:t.registry.remote.join,leave:t.registry.remote.leave}}):this.appContext.getModel("group-info-models",this.groupId).then(function(t){e.groupModel=t,e.updateGroupAttrs(t),e.groupRemoteMethods={join:t.registry.remote.join,leave:t.registry.remote.leave}})},buildContainer:function(){var e={joinStatus:this.getJoinStatus(),shortLabels:this.shortLabels,disableHoverLabelSwitch:this.disableHoverLabelSwitch,lightTheme:this.theme==="light",hasMenu:this.hasMenu};return this.setContainerWithTemplate("join-group",e),this},getJoinStatus:function(){var e=!1,t=!1,n=!1,r=!1,i=this.appContext&&this.appContext.getViewer(),s=i&&i.signedIn;return e=this.groupAttrs.isMember,n=this.groupAttrs.hasPendingInvite,t=this.groupAttrs.privacy===2,r=this.groupAttrs.isAdmin,{signedIn:s,canJoin:!e&&!n,hasJoined:e,hasRequested:n,requiresRequest:t,isAdmin:r}},activate:function(){var t=this;return this.registerEventHandler(this.groupModel.on("valuesChanged",function(e){t.buildContainer()})),this.registerEventHandler(this.get("container").delegate("click",e.bind(function(e){this.handleJoin(e)},this),"button.join")),this},updateGroupAttrs:function(e){var t=this.useSearchModel?e:e.getValue("group");this.groupAttrs={title:t.getValue("title"),id:t.getValue("id"),memberCount:t.getValue("memberCount"),isMember:t.getValue("isMember"),isModerator:t.getValue("isModerator"),isAdmin:t.getValue("isAdmin"),privacy:t.getValue("privacy"),hasPendingInvite:e.getValue("hasPendingInvite"),secureRules:e.getValue("secureRules")}},promptForGroupRulesAccept:function(){return new e.Promise(e.bind(function(t,n){var r=this.groupAttrs.secureRules,i=null;r?(i=new e.Views.FluidModal({appContext:this.appContext,title:this.intlMessage({intlName:"groups.GROUP_JOIN_RULES_DIALOG_TITLE"}),htmlMessage:this.intlMessage({intlName:"groups.GROUP_JOIN_RULES_DIALOG_MESSAGE"})+"<br /><pre>"+r+"</pre>",showBodyLines:!1,actionButtonLabel:this.intlMessage({intlName:"groups.GROUP_JOIN_RULES_DIALOG_ACCEPT"}),cancelButtonLabel:this.intlMessage({intlName:"groups.GROUP_JOIN_RULES_DIALOG_DECLINE"})}),i.on("actionClick",t),i.on("cancelClick",n),i.show()):t()},this))},joinGroup:function(t){var n=this;this.promptForGroupRulesAccept().then(e.bind(function(){this.groupRemoteMethods.join({groupModel:this.groupModel,acceptRules:!0},this.appContext).then(function(t){n.updateGroupAttrs(n.groupModel),n.disableHoverLabelSwitch=!0,n.buildContainer(),setTimeout(function(){n.disableHoverLabelSwitch=!1,n.buildContainer()},2500),n.doRefreshOnStatusChange&&e.config.win.location.reload(),t.getValue("group").getValue("isMember")&&n.fire("subviewViewEvent","group:joined",t.toJSON())},function(t){var r=new e.Views.FluidModal({appContext:n.appContext,title:n.intlMessage({intlName:"common.OOPS"}),message:n.intlMessage({intlName:"groups.GROUP_JOIN_ERROR"}),actionButtonLabel:n.intlMessage({intlName:"common.OK"}),showCancelButton:!1});r.show()})},this),e.bind(function(){},this))},requestJoinGroup:function(t){e.config.win.location="/groups_join.gne?id="+t},leaveGroup:function(t,n){var r=this;this.groupRemoteMethods.leave({groupModel:this.groupModel,deletePhotos:!!n},this.appContext).then(function(t){setTimeout(function(){r.updateGroupAttrs(r.groupModel),r.buildContainer(),r.doRefreshOnStatusChange&&e.config.win.location.reload()},n?500:1)},function(t){var n=new e.Views.FluidModal({appContext:r.appContext,title:r.intlMessage({intlName:"common.OOPS"}),message:r.intlMessage({intlName:"groups.GROUP_LEAVE_ERROR"}),actionButtonLabel:r.intlMessage({intlName:"common.OK"}),showCancelButton:!1});n.show()})},handleJoin:function(t){var n=this.getJoinStatus(),r=this.groupAttrs.title,i=this.groupAttrs.id,s=null,o="";n.hasJoined?e.rapidTracker.beacon(this.name,"unjoinButtonClick"):e.rapidTracker.beacon(this.name,"joinButtonClick");if(n.canJoin&&!n.signedIn)this.signInAndRedirectToGroup(i);else if(n.canJoin&&!n.requiresRequest)this.joinGroup(i);else if(!n.hasJoined&&n.hasRequested&&n.requiresRequest){var u=new e.Views.FluidModal({appContext:this.appContext,title:this.intlMessage({intlName:"groups.GROUP_INVITE_ONLY_HEADER",groupName:r}),message:this.intlMessage({intlName:"groups.GROUP_INVITE_PENDING",groupName:r}),actionButtonLabel:this.intlMessage({intlName:"common.OK"}),showCancelButton:!1});u.show()}else if(!n.hasJoined&&!n.hasRequested&&n.requiresRequest)this.promptForGroupRulesAccept().then(e.bind(function(){this.appContext.flipper.isFlipped("enable-reboot-group-invite-modal")?this.sendInviteToAdmin.call(this,i):this.requestJoinGroup(i)},this),e.bind(function(){},this));else if(n.hasJoined){var a=this,f,l=a.get("container").one(".join.has-joined"),c;if(!this.hasMenu){a.handleLeaveGroupClick();return}c=new e.Views["group-context-menu-view"]({nsid:a.nsid,pathAlias:a.pathAlias,disableRefreshOnRelationshipChange:a.disableRefreshOnRelationshipChange,groupModel:a.groupModel}),l.addClass("is-open"),f=new e.Views.FluidDroparound({appContext:a.appContext,dismissOnOverlayClick:!0,showDropArrow:!0,observePageResize:!0,anchorElement:l.one(".drop-icon"),subview:c,autoSizeToContent:!0}),f.on("closeDroparound",function(){l.removeClass("is-open"),a.fire("subviewViewEvent","isClosed")}),f.show(),a.fire("subviewViewEvent"
,"isOpen"),f.get("subview").on("leaveGroupClick",function(){a.handleLeaveGroupClick()}),f.get("subview").on("muteGroupToggle",function(e){a.handleMuteGroupToggle(e.changeEvent)}),f.get("subview").on("droparoundClosed",function(){f.get("container").remove()})}},showSignUpModal:function(t){var n=e.url("/groups/")+t,r=this.intlMessage({intlName:"groups.SIGN_IN_BEFORE_JOIN_TITLE"}),i=this.intlMessage({intlName:"groups.SIGN_UP_AND_JOIN_MESSAGE",name:this.groupAttrs.title}),s;s=new e.Views.SignUpModal({appContext:this.appContext,signUpHeaderClass:"avatar group big",signUpHeaderImage:typeof this.groupModel.getValue("group")!="undefined"?this.groupModel.getValue("group").getValue("bestIconURL"):this.groupModel.getValue("bestIconURL"),signUpTitle:r,signUpMessage:i,beaconPrefix:"join"}),s.on("signUpClick",function(r){e.SigninHelper.signUpPendingJoinGroup({id:t},{postLoginUrl:n})}),s.on("signInClick",function(r){e.SigninHelper.addPendingJoinGroup({id:t},{postLoginUrl:n})}),s.show()},sendInviteToAdmin:function(t){var n=this,r=this.intlMessage({intlName:"groups.GROUP_INVITE_ONLY_SEND"}),i=this.intlMessage({intlName:"common.CANCEL"}),s;s=new e.Views.FluidModal({appContext:this.appContext,title:this.intlMessage({intlName:"groups.GROUP_INVITE_ONLY_HEADER",groupName:e.Escape.html(this.groupAttrs.title)}),htmlMessage:this.templates("join-group-invite-form")({groupName:this.groupAttrs.title}),actionButtonLabel:r,cancelButtonLabel:i}),s.on("actionClick",function(){var r=s.get("container").one(".group-invite-form");if(r){var i=r.get("value");if(i.length>0){var o={group_id:t,message:i,accept_rules:!0};this.appContext.callAPI("flickr.groups.joinRequest",o).then(function(t){e.config.win.location.reload()},function(t){var r="";t&&t.code===7?r=n.intlMessage({intlName:"groups.GROUP_INVITE_PENDING",groupName:e.Escape.html(n.groupAttrs.title)}):r="message"in t?t.message:n.intlMessage({intlName:"common.ERROR"}),(new e.Views.FluidModal({appContext:n.appContext,title:n.intlMessage({intlName:"common.ERROR"}),message:r,actionButtonLabel:n.intlMessage({intlName:"common.OK"}),showCancelButton:!1})).show()})}else setTimeout(function(){(new e.Views.FluidModal({appContext:n.appContext,title:n.intlMessage({intlName:"common.ERROR"}),message:n.intlMessage({intlName:"groups.GROUP_INVITE_EMPTY_MESSAGE"}),actionButtonLabel:n.intlMessage({intlName:"common.OK"}),showCancelButton:!1})).show()},300)}}),s.on("activated",function(){var e=s.get("container"),t=e.one("textarea")||!1;e&&t&&t.focus()}),s.show()},signInAndRedirectToGroup:function(t){var n=this,r=e.url("/groups/")+t,i=this.intlMessage({intlName:"groups.SIGN_IN_BEFORE_JOIN_MESSAGE",name:this.groupAttrs.title}),s=this.intlMessage({intlName:"groups.SIGN_IN_AND_JOIN"}),o=this.intlMessage({intlName:"common.CANCEL"}),u;if(this.signedOutTest)return this.showSignUpModal(t);u=new e.Views.FluidModal({appContext:this.appContext,title:this.intlMessage({intlName:"groups.SIGN_IN_BEFORE_JOIN_TITLE"}),htmlMessage:i,actionButtonLabel:s,cancelButtonLabel:o}),u.on("actionClick",function(){e.rapidTracker.beacon(n.name,"joinModalSigninClick"),e.SigninHelper.addPendingJoinGroup({id:t},{postLoginUrl:r})}),u.on("cancelClick",function(t){e.rapidTracker.beacon(n.name,"joinModalCancelClick")}),u.show()},handleLeaveGroupClick:function(t,n){var r=this,i=this.groupAttrs.title,s=this.groupAttrs.id,o=null,u="";this.groupAttrs.memberCount===1?u=this.intlMessage({intlName:"groups.GROUPS_LEAVE_WARNING_LAST_MEMBER",title:i}):this.groupAttrs.isAdmin?(u=this.intlMessage({intlName:"groups.GROUPS_LEAVE_WARNING_ADMIN",title:i}),u+=this.intlHTMLMessage({intlName:"groups.GROUPS_LEAVE_WARNING_REMOVE_PHOTOS"})):(u=this.intlMessage({intlName:"groups.GROUPS_LEAVE_WARNING",title:i}),u+=this.intlHTMLMessage({intlName:"groups.GROUPS_LEAVE_WARNING_REMOVE_PHOTOS"})),o=new e.Views.FluidModal({appContext:this.appContext,title:this.intlMessage({intlName:"groups.GROUPS_LEAVE_WARNING_TITLE",title:i}),htmlMessage:u,actionButtonLabel:this.intlMessage({intlName:"groups.GROUPS_LEAVE_WARNING_LEAVE_BUTTON"}),cancelButtonLabel:this.intlMessage({intlName:"groups.GROUPS_LEAVE_WARNING_CANCEL_BUTTON"})}),o.on("actionClick",e.bind(function(){var e=o.get("container").one("input"),t=e&&e.getDOMNode().checked;this.leaveGroup(s,t)},this)),o.show()},handleMuteGroupToggle:function(e){var t=e.target.getDOMNode(),n=t.checked||!1,r=this.groupAttrs.id,i={object_id:r,object_type:1,pref_type:"GroupBatch",pref_val:n?1:0};this.appContext.callAPI("flickr.feed.preferences.insertUserPreferences",i).then(function(e){t.disabled=!1},function(e){})}})},"@VERSION@",{requires:["promise","hermes-template-join-group","fluid-modal-view","signup-modal-view","group-context-menu-view","hermes-template-join-group-invite-form","signin-helper"],langBundles:["common","groups"]});
YUI.add("groups-recommended-list-view",function(e,t){e.namespace("Views")[this.name]=e.Base.create("groups-recommended-list-view",e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.loading=!0,this.subtitles=[],this.currentPage=1,this.perPage=6,this.theirGroups=e.theirGroups,this.fromFeed=e.fromFeed,this.theirGroups?this.subtitles.push({subtitle:this.intlMessage({intlName:"groups.NO_PUBLIC_GROUPS"})}):this.fromFeed||(this.appContext.getViewer().signedIn?this.subtitles.push({subtitle:this.intlMessage({intlName:"groups.GROUP_LANDING_HEADLINE"})}):this.subtitles.push({subtitle:this.intlMessage({intlName:"groups.GROUP_RECOMMENDED_GET_STARTED"})})),this.setContainerWithTemplate("groups-recommended-list-page",{loading:this.loading,subtitles:this.subtitles}),this},loadState:function(){var n=this;return(new e.FlickrPromise({recommendedGroupsModel:this.appContext.getModel("group-recommended-list-models","none"),groupModel:this.appContext.getModelRegistry("group-models")})).then(function(r){var i=r.recommendedGroupsModel,s=r.groupModel;return!n.fromFeed&&n.theirGroups?n.subtitles.push({subtitle:n.intlMessage({intlName:"groups.RECOMMENDED_GROUPS"})}):!n.fromFeed&&s.getCount()===0&&n.appContext.getViewer().signedIn&&n.subtitles.push({subtitle:n.intlMessage({intlName:"groups.GROUP_RECOMMENDED_GET_STARTED"})}),n.set("recommendedGroupsModel",i),e.Promise.all([i.getValue("groups","none").getPage({page:n.currentPage,perPage:n.perPage})]).then(function(e){n.set("recommendedGroups",e[0]),n.loading=!1}).catch(e.PromiseCatcher(t))}).catch(e.PromiseCatcher(t))},buildContainer:function(){var e={subtitles:this.subtitles,loading:!0};return this.appContext.forceServerRender&&(e.recommendedGroups=this.parseGroups(this.get("recommendedGroups")),e.loading=!1),this.setContainerWithTemplate("groups-recommended-list-page",e),this},activate:function(){this.appContext.forceServerRender||this.get("container").one(".featured-groups").replace(this.templates("groups-recommended-list-page")({recommendedGroups:this.parseGroups(this.get("recommendedGroups")),subtitles:this.subtitles,loading:!1}));var t=this.get("container").one(".next-page");return t&&this.registerEventHandler(t.on("click",e.bind(this.loadMore,this))),this},parseGroups:function(t){var n=[],r=this,i=this.get("container");return e.each(t,function(t){var s=[],o=t.toJSON(),u={};o.memberCount&&s.push({url:o.urlMembersPage,text:'<i class="members-icon"></i>'+e.flutil.formatNumbers(o.memberCount)}),o.poolCount&&s.push({url:o.urlPoolPage,text:'<i class="photos-icon"></i>'+e.flutil.formatNumbers(o.poolCount)}),o.topicCount&&s.push({url:o.urlDiscussionPage,text:'<i class="discussions-icon"></i>'+e.flutil.formatNumbers(o.topicCount)}),u={link:o.url,avatar:{type:"group",title:o.title,url:o.iconurl,link:o.url,groupNsid:o.id,noMenu:"no-menu"},title:{text:o.title,url:o.url},photos:o.photos,links:s,cta:{joinPlaceholderId:"join"+o.id.replace("@","")}},r.instantiateSubview("join-group-view",{groupId:o.id,useSearchModel:!1,theme:"light",shortLabels:!0}).then(function(e){return e.initialize()}).then(function(e){i.one("#"+u.cta.joinPlaceholderId).replace(e.get("container")),e.normalizedActivate()}),n.push(u)}),n},loadMore:function(){var e=this;return this.toggleLoadMore(!0),this.currentPage++,this.get("recommendedGroupsModel").getValue("groups","none").getPage({page:this.currentPage,perPage:this.perPage}).then(function(t){t.length<e.perPage&&e.endOfPagination(),t.length?e.appendNewResults(t):(e.loading=!1,e.endOfPagination())})},appendNewResults:function(t){var n="",r=this,i=this.parseGroups(t);e.Array.each(i,function(e){n+=r.templates("groups-recommended-group")(e)}),this.get("container").one(".recommended-groups").append(n),this.toggleLoadMore(!1)},toggleLoadMore:function(e){var t=this.get("container").one(".pagination .loading"),n=this.get("container").one(".next-page");e?(n.hide(),t.show()):(n.show(),t.hide()),this.fire("subviewViewEvent","footerDisplayChanged")},endOfPagination:function(){var e=this.get("container").one(".pagination .loading"),t=this.get("container").one(".next-page");this.reachEndOfPagination=!0,e&&e.remove(),t&&t.remove()}},{ATTRS:{}})},"@VERSION@",{requires:["flickr-view","flickr-promise","group-recommended-list-models","hermes-template-result-card","hermes-template-groups-recommended-group","hermes-template-groups-recommended-list-page","hermes-template-flickr-balls","join-group-view"],langBundles:["groups","photo-page-scrappy","common"]});
YUI.add("hermes-lang-photo-page-scrappy",function(e,t){e.Intl.add("hermes/photo-page-scrappy","en-US",{PAGE_TITLE:["${title}"," | Flickr"],BACK_TO:["Back to ","${entryType}"],COULDNT_UPDATE_SETTINGS:["We couldn't update your settings"],ADULT_CONTENT:["Adult Content"],MATURE_AUDIENCES:["This content is for mature audiences only."],USER_DISCRETION:["User discretion is advised."],SHOW_ME_THIS_CONTENT_TYPE:["Show Me This Content Type From Now On"],CHANGE_SAFE_SEARCH_IN_SETTINGS:['You can always change <a href="/account/prefs/safesearch/?from=privacy"  data-track="photoWellSafeSearchClick">SafeSearch settings</a> in your account preferences.'],SIGNED_IN_FOR_CONTENT:["You must be signed in to see this content."],VIDEO_COMING_SOON:["Video support coming soon"],FIND_OUT_MORE_AD:["Find out more at ","${brand}"],SHARE_THIS_PHOTO:["Share this photo"],DOWNLOAD_THIS_VIDEO:["Download this video"],DOWNLOAD_THIS_PHOTO:["Download this photo"],VIEW_ALL_SIZES:["View all sizes"],DOWNLOAD_PHOTO:["Download photo"],SOME_RIGHTS_RESERVED:["Some rights reserved"],DOWNLOAD:["Download"],ERROR_LOADING_CONTEXT:["Error loading context"],ADD_TITLE:["Add title"],ADD_DESCRIPTION:["Add description"],TITLE_DESCRIPTION_FAILURE:["We couldn't change the Title and Description at this time."],VIEW_PREVIOUS_COMMENT:["View previous comment"],VIEW_MORE_PREVIOUS_COMMENTS:["View ","${count}"," previous comments"],EMPTY_COMMENT_ERROR:["An empty comment box? That won't work!"],COMMENT_RATE_LIMIT_ERROR:["Slow down, partner! To protect the Flickr community against spam and spammy behavior we place a few restrictions on commenting."],COMMENT_POST_ERROR:["We couldn't post your comment."],MORE_COMMENTS_ERROR:["We couldn't get more comments."],COMMENT_PERMALINK_ERROR:["We were unable to find the specified comment on the photo."],DELETE_COMMENT:["Delete Comment"],COMMENT_DELETE_CONFIRMATION:["Are you sure you want to delete this comment?"],COMMENT_DELETE_ERROR:["We couldn't delete your comment."],COMMENT_LOADING_ERROR:["Error loading comments"],COMMENT:["Comment"],SHOW_MORE_COMMENTS:["${count}"," more"],REPLY:["Reply"],PERMALINK:["Permalink"],SINGLE_FAVER:['<a class="faved-by-person-link" href="/photos/',"${pathAlias}",'/">',"${displayName}","</a> faved this"],DOUBLE_FAVER:['<a class="faved-by-person-link" href="/photos/',"${pathAliasOne}",'/">',"${displayNameOne}",'</a> and <a class="faved-by-person-link" href="/photos/',"${pathAliasTwo}",'/">',"${displayNameTwo}","</a> faved this"],TRIPLE_FAVER:['<a class="faved-by-person-link" href="/photos/',"${pathAliasOne}",'/">',"${displayNameOne}",'</a>, <a class="faved-by-person-link" href="/photos/',"${pathAliasTwo}",'/">',"${displayNameTwo}",'</a>, and <a class="faved-by-person-link" href="/photos/',"${pathAliasThree}",'/">',"${displayNameThree}","</a> faved this"],MULTI_FAVER:['<a class="faved-by-person-link" href="/photos/',"${pathAliasOne}",'/">',"${displayNameOne}",'</a>, <a class="faved-by-person-link" href="/photos/',"${pathAliasTwo}",'/">',"${displayNameTwo}",'</a> and <a class="remaining-faved-by" href="#">',"${count}"," more people</a> faved this"],RELATIONSHIP_FRIEND_ERROR:["There was a problem setting your friend relationship."],RELATIONSHIP_FAMILY_ERROR:["There was a problem setting your family relationship."],HIDE_EXIF:["Hide EXIF"],SHOW_EXIF:["Show EXIF"],EDIT_LOCATION:["Edit Location"],EDIT_LOCATION_ORGANIZR:["We\u2019re hard at work redesigning our brand new photo experience. For now, you can Edit Location in Organizr."],SAVE_LOCATION:["Save location"],APERTURE:["Aperture"],FOCAL_LENGTH:["Focal length"],EXPOSURE_TIME:["Exposure time"],FLASH_AUTO_FIRED:["Flash (auto, fired)"],FLASH_AUTO_NO_FIRE:["Flash (auto, did not fire)"],FLASH_ON_FIRED:["Flash (on, fired)"],FLASH_ON_NO_FIRE:["Flash (on, did not fire)"],FLASH_OFF:["Flash (off, did not fire)"],FLASH_SIMPLE_ON:["On"],FLASH_SIMPLE_OFF:["Off"],POWERED_BY:["POWERED BY"],FOURSQUARE:["FOURSQUARE"],ADD_PHOTO_TO_MAP:["Add this photo to your map"],SINGULAR_FAVE:["fave"],PLURAL_FAVE:["faves"],SINGULAR_VIEW:["view"],PLURAL_VIEW:["views"],SINGULAR_COMMENT:["comment"],PLURAL_COMMENT:["comments"],LICENSE_ERROR:["There was a problem changing your photo's license"],ALL_RIGHTS_RESERVED:["All rights reserved"],NO_RESTRICTIONS:["No known copyright restrictions"],PUBLIC_DOMAIN:["Public domain"],USA_GOV_WORK:["United States government work"],SAFETY_CHANGE_ERROR:["There was an error while changing your photo's safety level"],PRIVACY_CHANGE_ERROR:["There was a problem changing your photo's privacy"],COMMENT_PERM_CHANGE_ERROR:["There was an error while changing your photo's commenting permission"],FLAG_PHOTO:["Flag Photo"],MARK_FOR_REVIEW:["Mark for review"],ADDITIONAL_INFO:["Additional info"],VIEWING_THIS_PHOTO:["Viewing this photo"],PRIVACY_UPDATE_ERROR:["There was an error while updating the privacy. Please try again."],META_PERMS_UPDATE_ERROR:["There was an error while updating add meta permission. Please try again."],ADD_META_TO_THIS_PHOTO:["Add tags and people to this photo"],COMMENT_PERMS_UPDATE_ERROR:["There was an error while updating commenting permission. Please try again."],COMMENTING_ON_THIS_PHOTO:["Commenting on this photo"],SAFETY_UPDATE_ERROR:["There was an error while updating the safety level. Please try again."],SAFETY_LEVEL_OF_PHOTO:["Safety level of this photo"],FLAG_ERROR:["There was an error trying to flag this photo. Please try again."],PROVIDE_FEEDBACK:["Provide feedback on the new photo page"],ERROR_DELETING_AUTOTAG:["Error deleting Autotag"],AUTOTAGS:["Autotags"],CONTACT_LIST_ERROR:["An error occurred while trying to fetch your contact list. Please try again."],FAILED_TO_REMOVE_PERSON:["Failed to remove that person from the photo at this time."],PERSON_CANNOT_BE_TAGGED:["This person cannot be tagged."],PEOPLE_IN_PHOTO:["People in photo"],ADD_PEOPLE:["Add people"],ADD_PERSON:["Add a person"],ERROR_REMOVING_FROM_GROUP:["There was a problem removing this photo from the group"],ERROR_ACCEPTING_INVITATION:["There was a problem accepting the group invitation"
],SEARCH_GROUPS:["Search groups"],PHOTO_NOT_IN_GROUPS:["This photo is currently not in any groups"],ADD_TO_GROUP:["Add to group"],INVITE_TO_GROUP:["Invite to group"],ONE_GROUP_INVITATION:["You have 1 group invitation"],N_GROUP_INVITATIONS:["You have ","${count}"," group invitations"],VIEW_MORE_GROUPS:["View more groups"],ERROR_REMOVING_FROM_ALBUM:["There was a problem removing this photo from the album"],WARNING_REMOVE_LAST_PHOTO_FROM_ALBUM:["You're about to remove the last photo from an album, which will also delete the album."],REMOVE_PHOTO_AND_ALBUM:["Remove photo and delete album"],ADD_PHOTO_TO_ALBUM:["Add this photo to an album"],SEARCH_ALBUMS:["Search albums"],ADD_TO_ALBUM:["Add to album"],PHOTO_NOT_IN_ALBUMS:["This photo is currently not in any albums"],VIEW_MORE_ALBUMS:["View more albums"],PHOTO_IN_ONE_ALBUM:["This photo is in 1 album"],PHOTO_IN_N_ALBUMS:["This photo is in ","${count}"," albums"],INVITE_PENDING:["Invite pending"],CANCEL_INVITE:["Cancel invite"],ACCEPT_INVITE:["Accept invite"],ONE_ITEM:["1 item"],N_ITEMS:["${count}"," items"],ERROR_REMOVING_FROM_GALLERY:["There was a problem removing this photo from the gallery"],SEARCH_GALLERIES:["Search galleries"],ADD_TO_GALLERY:["Add to gallery"],PHOTO_NOT_IN_GALLERIES:["This photo is currently not in any galleries"],VIEW_MORE_GALLERIES:["View more galleries"],PHOTO_IN_ONE_GALLERY:["This photo is in 1 gallery"],PHOTO_IN_N_GALLERIES:["This photo is in ","${count}"," galleries"],DELETE_PHOTO:["Delete Photo"],PERMANTENTLY_DELETE:["Do you want to permanently delete this photo?"],EDIT_PHOTO:["Edit photo"],NO_VIDEOS_IN_AVIARY:["Videos cannot be edited in Aviary"],ENHANCE_WITH_AVIARY:["Enhance with Aviary"],NO_VIDEO_ROTATION:["Videos cannot be rotated"],ROTATE:["Rotate"],NO_VIDEO_REPLACE:["Videos cannot be replaced"],REPLACE:["Replace"],PHOTO_NAVIGATION:["Photo navigation"],THUMBNAIL_NAVIGATION:["Thumbnail navigation"],ZOOM:["Zoom"],VIEW_IN_LIGHTBOX:["View in light box"],BACK_TO_CONTEXT:["Back to context"],ADD_TAG:["Add tag"],GO_TO_ORGANIZER:["Go to Organizr"],ALBUM:["album"],ALBUMS:["albums"],ERROR_LOADING_ALBUMS:["There was a problem loading your albums"],ERROR_ADDING_PHOTO_TO_ALBUM:["There was a problem adding this photo to the album"],ERROR_REMOVING_PHOTO_FROM_ALBUM:["There was a problem removing this photo from the album"],ERROR_LOADING_GROUPS:["There was a problem loading the groups you can add photos to"],ERROR_ADDING_TO_GROUP:["There was a problem adding this photo to the group"],ERROR_ADDING_TO_GROUP_NOT_OWNER:["Sorry, the photo couldn't be added to the group because you don't own the photo."],ERROR_ADDING_TO_GROUP_NOT_MEMBER:["Sorry, the photo couldn't be added to the group. You are not a member of the group."],ERROR_ADDING_TO_GROUP_ALREADY_IN_POOL:["The photo is already in that group pool."],ERROR_ADDING_TO_GROUP_MAX_POOLS:["Sorry, the photo couldn't be added to the group because it is already in the maximum number of group pools."],ERROR_ADDING_TO_GROUP_MAX_PHOTOS_FROM_USER:["Sorry, the photo couldn't be added to the group. You have already added the maximum number of photos to the pool."],ERROR_ADDING_TO_GROUP_ADDED_TO_QUEUE:["Your photo has been added to the pending queue for the group."],ERROR_ADDING_TO_GROUP_ALREADY_IN_QUEUE:["Your photo is already in the pending queue for the group."],ERROR_ADDING_TO_GROUP_INVALID_CONTENT:["Sorry, the photo couldn't be added to the group. For more information, check the group requirements for media type, content type, safety level, and geo location."],ERROR_ADDING_TO_GROUP_MAX_IN_POOL:["Sorry, the photo couldn't be added to the group. The group has the maximum number of photos allowed in a pool."],ERROR_INVITING_TO_GROUP:["There was a problem inviting this photo to the group"],ERROR_CANCELING_GROUP_INVITIATON:["There was a problem canceling this photo's invitation to the group"],NO_MATCHES:["No matches"],CREATE_NEW:["Create new"],ERROR_LOADING_GROUP_INVITATIONS:["There was a problem loading this photo's group invitations"],NO_GROUP_INVITATIONS:["No pending group invitations"],PENDING_INVITATIONS_FOR_PHOTO:["Pending invitations for this photo"],LOADING_INVITATIONS:["Loading invitations"],ERROR_LOADING_GALLERIES:["There was a problem loading your galleries"],ERROR_ADDING_TO_GALLERY:["There was a problem adding this photo to the gallery"],ERROR_PHOTO_NOT_ALLOWED_IN_GALLERY:["The owner of this photo does not allow the photo to be added to your gallery"],ERROR_CREATING_GALLERY:["There was a problem creating your new gallery"],DATE_TAKEN_FORMAT:["The taken date must be in the MM/DD/YYYY hh:mm:ss format."],DATE_POSTED_FUTURE:["The posted date cannot be in the future."],DATE_UPLOADED_FUTURE:["The uploaded date cannot be in the future."],DATE_POSTED_FLICKR_JOIN:["Posted date must be after you joined Flickr."],DATE_UPLOADED_FLICKR_JOIN:["Uploaded date must be after you joined Flickr."],ERROR_SAVING_DATE:["Error saving dates"],DATE_INVALID:["One or more dates are invalid"],EDIT_DATES:["Edit Dates"],DATE_TAKEN_ON:["Date Taken On"],DATE_POSTED_ON:["Date Posted On"],DATE_UPLOADED_ON:["Date Uploaded On"],TAKEN_CIRCA:["Taken circa ","${intlDate}"],TAKEN_SOMETIME_IN:["Taken sometime in ","${intlDate}"],TAKEN_IN:["Taken in ","${intlDate}"],TAKEN_ON:["Taken on ",{type:"date",valueName:"intlDate",format:"long"}],UPLOADED_ON:["Uploaded on ","${intlDate}"],SOMETHING_WENT_WRONG:["Something went wrong."],REFRESH_BROWSER:["Please refresh your browser and try again."],TWITTER_NOT_FOUND:["Twitter account not found on posting"],TUMBLR_NOT_FOUND:["Tumblr account not found on posting"],LINK:["Link"],LINK_TO_VIDEO:["Link to this video:"],LINK_TO_PHOTO:["Link to this photo:"],NO_LINKS_FOR_RESTRICTED_VIDEO:["Links are not available for restricted videos"],PRIVATE_VIDEO_SHARE:["This is a private video, do you still want to share it?"],NO_LINKS_FOR_RESTRICTED_PHOTO:["Links are not available for restricted photos"],PRIVATE_PHOTO_SHARE:["This is a private photo, do you still want to share it?"],SHARING_RESTRICTED_VIDEO:["Sharing is restricted for this video"
],SHARING_RESTRICTED_PHOTO:["Sharing is restricted for this photo"],EMBED:["Embed"],PUBLIC_TO_SHARE:["Please share this photo publicly to view embed code"],SIZE:["Size:"],TITLE_AND_OWNER_AT_START:["Display title and owner at start"],SHARE_NOW:["Share now!"],SHARE_PHOTO:["Share Photo"],SHARE_ON_TWITTER:["Share on Twitter"],AUTHORIZE_FOR_TWITTER:["please authorize Flickr to post on Twitter"],SHARE_ON_TUMBLR:["Share on Tumblr"],PUBLISH_NOW:["Publish now"],ADD_TO_QUEUE:["Add to queue"],SAVE_AS_DRAFT:["Save as draft"],AUTHORIZE_FOR_TUMBLR:["please authorize Flickr to post on Tumblr"],SHARE_VIA_MAIL:["Share via mail"],SCREEN_NAME_OR_EMAIL:["Screen name or email"],SQUARE:["Square"],SMALL:["Small"],MEDIUM:["Medium"],LARGE:["Large"],ORIGINAL:["Original"],DUPLICATE_TAG:["Duplicate Tag"],INVALID_TAG:["Invalid Tag"],MAXIMUM_TAG_LIMIT:["Maximum tag limit (76) reached"],MAX_TAG_LIMIT:["Maximum tag limit (75) reached"],ERROR_ADDING_TAG:["Error adding tag"],ERROR_DELETING_TAG:["Error deleting tag"],TAGS:["Tags"],ADD_TAGS:["Add tags"],ADD_A_TAG:["Add a tag"],PHOTO_IN_ONE_GROUP:["This photo is in 1 group"],PHOTO_IN_MANY_GROUPS:["This photo is in ",{type:"number",valueName:"count"}," groups"],PHOTO_IN_NO_GROUPS:["This photo is not in any groups"],ADD_A_COMMENT:["Add a comment"],COMMENT_TUTORIAL:["press Enter to post and Shift+Enter for newline"],SIGNED_IN_TO_POST_A_COMMENT:["You must be signed in to post a comment"],SHARE:["Share"],CODE:["Code"],INCLUDE_A_MESSAGE:["Include a message"],FOR_MORE_INFORMATION_SAFESEARCH:['For more information please read <a href="//www.flickr.com/help/photos/?search=flag#145">this FAQ</a>.'],FLAG_CONFIRMATION_SAFE_WITHIN:['This photo is marked as <a href="//www.flickr.com/help/filters/#258">safe</a> and falls within your <a href="//www.flickr.com/account/prefs/safesearch/">SafeSearch settings</a>.'],FLAG_CONFIRMATION_SAFE_OUTSIDE:['This photo is marked as <a href="//www.flickr.com/help/filters/#258">safe</a> and falls outside your <a href="//www.flickr.com/account/prefs/safesearch/">SafeSearch settings</a>.'],FLAG_CONFIRMATION_MODERATE_WITHIN:['This photo is marked as <a href="//www.flickr.com/help/filters/#258">moderate</a> and falls within your <a href="//www.flickr.com/account/prefs/safesearch/">SafeSearch settings</a>.'],FLAG_CONFIRMATION_MODERATE_OUTSIDE:['This photo is marked as <a href="//www.flickr.com/help/filters/#258">moderate</a> and falls outside your <a href="//www.flickr.com/account/prefs/safesearch/">SafeSearch settings</a>.'],FLAG_CONFIRMATION_RESTRICTED_WITHIN:['This photo is marked as <a href="//www.flickr.com/help/filters/#258">restricted</a> and falls within your <a href="//www.flickr.com/account/prefs/safesearch/">SafeSearch settings</a>.'],FLAG_CONFIRMATION_RESTRICTED_OUTSIDE:['This photo is marked as <a href="//www.flickr.com/help/filters/#258">restricted</a> and falls outside your <a href="//www.flickr.com/account/prefs/safesearch/">SafeSearch settings</a>.'],PRIVATE_PHOTO:["Private photo"],PHOTO_UNFIT_FOR_YOUR_EYES:["Photo is unfit for your eyes. Have a kitten: (^._.^)\uff89"],NO_PHOTO_WITH_THAT_ID:["No photo found with id ","${photoId}"],NO_MEMBERS_FOUND:["No members found"],TAKEN_ON_INTL:["Taken on ",{type:"date",valueName:"intlDate",format:"long"}],UPLOADED_ON_INTL:["Uploaded on ",{type:"date",valueName:"intlDate",format:"long"}],TAKEN_IN_MONTH:["Taken in ",{type:"date",valueName:"intlDate",format:"monthYear"}],VIEW_IN_LIGHTBOX_SHORTCUT:["View in light box"],ZOOM_MAX_MESSAGE:["Whoa there, tiger! This photo is already at maximum size."],CLICK_TO_FAVE_PHOTO:["Click here to fave this photo"],CLICK_TO_FAVE_VIDEO:["Click here to fave this video"],BACK_TO_ACTIVITY_FEED:["Back to activity feed"],BACK_TO_PHOTOSTREAM:["Back to photostream"],BACK_TO_SHARED_PHOTOS:["Back to shared photos"],BACK_TO_ALBUM:["Back to album"],BACK_TO_CONTACTS_LIST:["Back to contacts list"],BACK_TO_FAVORITES:["Back to favorites"],BACK_TO_GALLERY:["Back to gallery"],BACK_TO_PROFILE:["Back to profile"],BACK_TO_EXPLORE:["Back to explore"],BACK_TO_COMMONS:["Back to commons"],BACK_TO_GROUP:["Back to group"],BACK_TO_GROUPS:["Back to groups"],BACK_TO_MAP:["Back to map"],BACK_TO_SEARCH:["Back to search"],BACK_TO_TAG:["Back to tag"],ERROR_ADDING_PHOTOS_TO_ALBUM:["There was a problem adding these photos to the album"],ERROR_REMOVING_PHOTOS_FROM_ALBUM:["There was a problem removing these photos from the album"],ERROR_CREATING_ALBUM:["There was a problem creating your new album"],STRICTER_PRIVACY_CHANGE_DIALOG_TITLE:["Changing to a stricter privacy level"],STRICTER_PRIVACY_CHANGE_DIALOG_MESSAGE:["Changing a photo to a stricter privacy level will remove any favorites that have accumulated. It will also change the URL of the photo."],TAGS_HELPER_TEXT:["Tags are keywords that make photos easier to find. Add as many as you like, and Flickr\u2019s friendly robots will try to help out by adding some for you."],TAGS_HELP_TEXT:["Tags are keywords that make photos easier to find in Flickr search. The ones you add will show up in dark gray. Flickr\u2019s friendly robots will try to help out by adding some for you; these will appear with just a gray outline."],PRIVATE_TAGS_OWNER_HELPER_TEXT:["This private tag is only visible to you and your friends and family who are allowed to see this photo."],PRIVATE_TAGS_FRIENDS_FAMILY_HELPER_TEXT:["This private tag is only visible to you because you are a friend or family of the photo\u2019s owner."],CREATE_WALLART_WITH_PHOTO:["Create wall art with this photo"],ERROR_ROTATING_PHOTO:["There was a problem rotating this photo, please close and retry."],ROTATE_PHOTO:["Rotate photo"],ERROR_REPLACING_PHOTO:["There was a problem replacing this photo, please close and retry."],REPLACE_PHOTO:["Replace photo"],PERMANENTLY_REPLACE:['Permanently replace this photo ("',"${photoTitle}",'" by ',"${username}",") with <em>","${fileName}","</em>?"],REPLACE_WARNING:["Replacing a photo can't be undone. Choose a file to replace this photo with."],REPLACE_UPLOADING:["Uploading <em>","${fileName}"
,"</em>..."],ERROR_DELETING_PHOTO:["There was a problem deleting this photo, please close and retry."],SHOW_MORE_STATS:["Show more stats"],SIGNUP_AND_DOWNLOAD_TITLE:["You found a photo to download!"],SIGNUP_AND_DOWNLOAD_VIDEO_TITLE:["You found a video to download!"],SIGNUP_AND_DOWNLOAD_MESSAGE:["Join Flickr to access billions of photos."],SIGNUP_AND_COMMENT_TITLE:["Comment on this photo!"],SIGNUP_AND_COMMENT_MESSAGE:["Join Flickr to leave a comment on this photo."],IMMERSIFY:["Immersify"],SIGNUP_FOOTER_MESSAGE:["Join Flickr to explore world class photos"],TIMEOUT_FAILURE:["We're having some trouble displaying this photo at the moment. Please try again."],BUY:["Buy"],ADD_A_NOTE:["Add a note"],CONFIRM_NOTE_DELETION:["Are you sure you want to permanently delete this note?"],VIEWING_PRIVACY:["Viewing privacy"],ALLOW_COMMENTING:["Allow commenting"],ALLOW_TAGS_NOTES_PEOPLE:["Allow tags, notes, and people tags"],SAFETY_LEVEL:["Safety level"],SET_SAFETY_LEVEL:["Set safety level"],KEYBOARD_SHORTCUTS:["Keyboard shortcuts"]})},"@VERSION@",{requires:["intl"]});
YUI.add("hermes-template-global-nav-restyle",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return" optimized-mobile-nav-hidden"},3:function(e,t,n,r,i){return" optimized-flickr-logo-push-left"},5:function(e,t,n,r,i){var s;return(s=n.unless.call(t!=null?t:{},(s=t!=null?t.elements:t)!=null?s.right_side_signup:s,{name:"unless",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))!=null?s:""},6:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return'				<li role="menuitem"\n					class="gn-signup"\n					aria-label="'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:i}))+'">\n					<a data-track="gnSignupClick"\n						class="gn-title butt"\n						href="/signup">'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:i}))+"</a>\n				</li>\n"},8:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression,f=e.lambda;return'				<li role="menuitem"\n					data-context="you"\n					aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.YOU"},data:i}))+'">\n					<a data-track="gnYouMainClick"\n						class="gn-title you"\n						href="'+a(f((s=t!=null?t.viewer:t)!=null?s.url:s,t))+'"\n						aria-haspopup="true"\n						aria-expanded="false">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.YOU"},data:i}))+'</a>\n					<ul class="gn-submenu" role="menu" aria-label="submenu">\n						<li class="menuitem"\n							role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:i}))+'">\n							<a data-track="gnYouCameraRollClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.cameraroll:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:i}))+'</a>\n						</li>\n						<li class="menuitem"\n							role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PHOTOSTREAM"},data:i}))+'">\n							<a data-track="gnYouPhotostreamClick" href="'+a(f((s=t!=null?t.viewer:t)!=null?s.url:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PHOTOSTREAM"},data:i}))+'</a>\n						</li>\n						<li class="menuitem"\n							role="menuitem"\n							aria-label="'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.set_not_album:s,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i}))!=null?s:"")+'">\n							<a data-track="gnYouSetsClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.albums:s,t))+'">'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.set_not_album:s,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i}))!=null?s:"")+'</a>\n						</li>\n						<li class="menuitem"\n							role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.FAVORITES"},data:i}))+'">\n							<a data-track="gnYouFavoritesClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.favorites:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.FAVORITES"},data:i}))+'</a>\n						</li>\n						<li class="menuitem"\n							role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GROUPS"},data:i}))+'">\n							<a data-track="gnYouGroupsClick" href="/groups">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GROUPS"},data:i}))+'</a>\n						</li>\n						<li class="menuitem"\n							role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.GALLERIES"},data:i}))+'">\n							<a data-track="gnYouGalleriesClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.galleries:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.GALLERIES"},data:i}))+'</a>\n						</li>\n						<li class="menuitem"\n							role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATIONS"},data:i}))+'">\n							<a data-track="gnYouCreationsClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.creations:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CREATIONS"},data:i}))+'</a>\n						</li>\n						<li class="menuitem"\n							role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PEOPLE"},data:i}))+'">\n							<a data-track="gnYouPeopleClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.people:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PEOPLE"},data:i}))+'</a>\n						</li>\n						<li class="menuitem"\n							role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_ACTIVITY"},data:i}))+'">\n							<a data-track="gnYouRecentActivityClick" href="/activity">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_ACTIVITY"},data:i}))+"</a>\n						</li>\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.stats:s,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))!=null?s:"")+'						<li class="menuitem"\n							role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.ORGANIZE"},data:i}))+'">\n							<a data-track="gnYouOrganizeClick" href="/photos/organize">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.ORGANIZE"
},data:i}))+"</a>\n						</li>\n					</ul>\n				</li>\n"},9:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"common.SETS"},data:i}))},11:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"common.ALBUMS"},data:i}))},13:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'							<li class="menuitem"\n								role="menuitem"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.STATS"},data:i}))+'">\n								<a data-track="gnYouStatsClick" href="'+a(e.lambda((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.stats:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.STATS"},data:i}))+"</a>\n							</li>\n"},15:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'				<li class="toplink"\n					role="menuitem"\n					aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:i}))+'">\n					<a data-track="gnYouMainClick"\n					class="gn-link"\n					href="'+a(e.lambda((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.cameraroll:s,t))+'"><span>'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:i}))+"</span></a>\n				</li>\n"},17:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'				<li role="menuitem"\n					data-context="explore"\n					aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.EXPLORE"},data:i}))+'">\n					<a data-track="gnExploreMainClick"\n						class="gn-title explore"\n						href="/explore"\n						aria-haspopup="true"\n						aria-expanded="false">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.EXPLORE"},data:i}))+'</a>\n					<ul class="gn-submenu" role="menu" aria-label="submenu">\n						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_PHOTOS"},data:i}))+'">\n							<a data-track="gnExploreRecentPhotosClick" href="/explore">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_PHOTOS"},data:i}))+'</a></li>\n						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.TRENDING"},data:i}))+'">\n							<a data-track="gnExploreTagsClick" href="/photos/tags">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.TRENDING"},data:i}))+"</a></li>\n"+((s=n["if"].call(o,t!=null?t.enableVRLanding:t,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i}))!=null?s:"")+'						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.THE_COMMONS"},data:i}))+'">\n							<a data-track="gnExploreTheCommonsClick" href="/commons">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.THE_COMMONS"},data:i}))+'</a>\n						</li>\n						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GALLERIES"},data:i}))+'">\n							<a data-track="gnExploreGalleriesClick" href="/galleries">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GALLERIES"},data:i}))+'</a>\n						</li>\n						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.WORLD_MAP"},data:i}))+'">\n							<a data-track="gnExploreWorldMapClick" href="/map">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.WORLD_MAP"},data:i}))+'</a>\n						</li>\n						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERA_FINDER"},data:i}))+'">\n							<a data-track="gnExploreCameraFinderClick" href="/cameras">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERA_FINDER"},data:i}))+"</a>\n						</li>\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.weekly_flickr:s,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i}))!=null?s:"")+'						<li role="menuitem"\n							aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_BLOG"},data:i}))+'">\n							<a data-track="gnExploreFlickrBlogClick" href="https://blog.flickr.net/">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_BLOG"},data:i}))+"</a>\n						</li>\n					</ul>\n				</li>\n"},18:function(e,t,n,r,i){return'							<li role="menuitem"\n								aria-label="Flickr VR">\n								<a data-track="gnExploreVRLandingClick" href="/vr">Flickr VR</a></li>\n'},20:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return'							<li role="menuitem"\n								aria-label="'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.THE_WEEKLY_FLICKR"},data:i}))+'">\n								<a data-track="gnExploreWeeklyFlickrClick" href="/photos/flickr/albums/72157639868074114/">'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.THE_WEEKLY_FLICKR"},data:i}))+"</a>\n							</li>\n"},22:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return'				<li role="menuitem"\n					class="gn-create"\n					aria-label="'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.CREATE"},data:i}))+'">\n					<a data-track="gnCreateMainClick"\n					class="gn-title"\n					href="/create">'+
u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.CREATE"},data:i}))+"</a>\n				</li>\n"},24:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return'				<li role="menuitem"\n					data-context="create"\n					aria-label="'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.CREATE"},data:i}))+'">\n					<a data-track="gnCreateMainClick"\n					class="gn-title create"\n					href="/create">'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.CREATE"},data:i}))+"</a>\n				</li>\n"},26:function(e,t,n,r,i){return" with-upload-icon"},28:function(e,t,n,r,i){return" with-notifs-icon"},30:function(e,t,n,r,i){return" optimized-gn-tools-push-left"},32:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return'				<li class="gn-upload"\n					role="menuitem"\n					aria-label="'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.UPLOAD"},data:i}))+'">\n					<a data-track="gnUploadMain"\n					class="gn-title"\n					href="/upload">'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.UPLOAD"},data:i}))+"</a>\n				</li>\n"},34:function(e,t,n,r,i){var s,o=t!=null?t:{};return'				<li class="gn-search-box'+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(35,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"\n					role="menuitem">\n					<svg class="icon icon-search mobile-search-button">\n						<use xlink:href="#icon-search"></use>\n					</svg>\n\n'+((s=n["if"].call(o,t!=null?t.enableNewAutosugest:t,{name:"if",hash:{},fn:e.program(37,i,0),inverse:e.program(39,i,0),data:i}))!=null?s:"")+'\n					<svg class="mobile-search-close-button"><use xlink:href="#icon-close"></use></svg>\n				</li>\n'},35:function(e,t,n,r,i){return" optimized-search-box-wide"},37:function(e,t,n,r,i){return"							"+e.escapeExpression((n.outlet||t&&t.outlet||n.helperMissing).call(t!=null?t:{},t!=null?t["search-autosuggest-field-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"},39:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'						<form method="get" role="search">\n							<input id="gn-search-field"\n								type="text"\n								placeholder="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"search.PHOTOS_PEOPLE_OR_GROUPS"},data:i}))+'"\n								name="text"\n								value="'+a((s=(s=n.searchValue||(t!=null?t.searchValue:t))!=null?s:u,typeof s=="function"?s.call(o,{name:"searchValue",hash:{},data:i}):s))+'"\n								autocomplete="off"\n								role="textbox"\n								aria-label="Search">\n							<label data-track="gnSearchSearchIcon"\n								aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.SEARCH"},data:i}))+'">\n								<svg class="search-icon"\n									style="width: 22px; height: 22px;"\n									data-track="gnSearchSearchIcon"\n									aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.SEARCH"},data:i}))+'">\n									<use xlink:href="#icon-search"></use>\n								</svg>\n								<input type="submit"\n									data-track="gnSearchSearchIcon"\n									class="search-icon-button"\n									tabindex="-1"\n									role="button"\n									aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.SEARCH"},data:i}))+'">\n							</label>\n						</form>\n'},41:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return'				<li class="gn-upload"\n					role="menuitem">\n					<a data-track="gnUploadIconMain"\n						class="gn-title"\n						href="/upload"\n						aria-label="'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.UPLOAD"},data:i}))+'">\n						<i class="upload-icon" title="'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.UPLOAD"},data:i}))+'" aria-hidden="true">'+u((n.intlMessage||t&&t.intlMessage||o).call(s,{name:"intlMessage",hash:{intlName:"global-nav.UPLOAD"},data:i}))+"</i>\n					</a>\n				</li>\n"},43:function(e,t,n,r,i){return'				<li role="menuitem">\n					'+e.escapeExpression((n.outlet||t&&t.outlet||n.helperMissing).call(t!=null?t:{},t!=null?t["notifications-menu-view"]:t,{name:"outlet",hash:{},data:i}))+"\n				</li>\n"},45:function(e,t,n,r,i){return'				<li role="menuitem">\n					'+e.escapeExpression((n.outlet||t&&t.outlet||n.helperMissing).call(t!=null?t:{},t!=null?t["account-menu-view"]:t,{name:"outlet",hash:{},data:i}))+"\n				</li>\n"},47:function(e,t,n,r,i){var s,o=t!=null?t:{};return'				<li class="gn-signin'+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(48,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"\n					role="menuitem"\n					aria-label="'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(o,{name:"intlMessage",hash:{intlName:"global-nav.SIGN_IN"},data:i}))+'">\n					<a data-track="gnSignin"\n						class="gn-title"\n						href="/signin">'+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(50,i,0),inverse:e.program(53,i,0),data:i}))!=null?s:"")+"</a>\n				</li>\n"},48:function(e,t,n,r,i){return" optimized-login-set-width"},50:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.isEnglish:t,{name:"if",hash:{},fn:e.program(51,i,0),inverse:e.program(53,i,0),data:i}))!=null?s:""},51:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"global-nav.LOG_IN"},data:i}))},53:function(e,t,n,r,i){return e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"global-nav.SIGN_IN"},data:i}))},55:function(e,t,n,r,i){var s;return(s=n["if"].
call(t!=null?t:{},(s=t!=null?t.elements:t)!=null?s.right_side_signup:s,{name:"if",hash:{},fn:e.program(56,i,0),inverse:e.noop,data:i}))!=null?s:""},56:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'				<li class="gn-signup"\n					role="menuitem"\n					aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:i}))+'">\n					<a data-track="gnSignupClick"\n						class="gn-title butt'+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(57,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"\n						href="/signup">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:i}))+"</a>\n				</li>\n"},57:function(e,t,n,r,i){return" optimized-signup-light-font"},59:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression,f=e.lambda;return'				<div class="mobile-nav-column">\n					<div class="mobile-nav-menu-item mobile-nav-menu-title">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.YOU"},data:i}))+'</div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouCameraRollClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.cameraroll:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouPhotostreamClick" href="'+a(f((s=t!=null?t.viewer:t)!=null?s.url:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.PHOTOSTREAM"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouSetsClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.albums:s,t))+'">'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.set_not_album:s,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i}))!=null?s:"")+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouFavoritesClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.favorites:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.FAVORITES"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouGalleriesClick" href="'+a(f((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.galleries:s,t))+'">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.GALLERIES"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouRecentActivityClick" href="/activity">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_ACTIVITY"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnYouGroupsClick" href="/groups">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GROUPS"},data:i}))+"</a></div>\n					"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.stats:s,{name:"if",hash:{},fn:e.program(60,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n				</div>\n"},60:function(e,t,n,r,i){var s,o=e.escapeExpression;return'<div class="mobile-nav-menu-item"><a data-track="gnYouStatsClick" href="'+o(e.lambda((s=(s=t!=null?t.viewer:t)!=null?s.urls:s)!=null?s.stats:s,t))+'">'+o((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"global-nav.STATS"},data:i}))+"</a></div>"},62:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'				<div class="mobile-nav-column">\n					<div class="mobile-nav-menu-item"><a data-track="gnExploreMainClick" class="explore" href="/explore" aria-haspopup="true">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.EXPLORE"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnExploreRecentPhotosClick" href="/explore">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_PHOTOS"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnExploreTagsClick" href="/photos/tags">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.TRENDING"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnExploreTheCommonsClick" href="/commons">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.THE_COMMONS"},data:i}))+'</a></div>\n					<div class="mobile-nav-menu-item"><a data-track="gnExploreGalleriesClick" href="/galleries">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GALLERIES"},data:i}))+"</a></div>\n					"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.weekly_flickr:s,{name:"if",hash:{},fn:e.program(63,i,0),inverse:e.noop,data:i}))!=null?s:"")+'\n					<div class="mobile-nav-menu-item"><a data-track="gnExploreFlickrBlogClick" href="https://blog.flickr.net/">'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_BLOG"},data:i}))+"</a></div>\n				</div>\n"},63:function(e,t,n,r,i){return'<div class="mobile-nav-menu-item"><a data-track="gnExploreWeeklyFlickrClick" href="/photos/flickr/albums/72157639868074114/">'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"global-nav.THE_WEEKLY_FLICKR"},data:i}))+"</a></div>"},65:function(e,t,n,r,i){return"	"+e.escapeExpression((n.outlet||t&&t.outlet||n.helperMissing).call(t!=null?t:{},t!=null?t["browser-upgrade-banner-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return a((n.outlet||t&&t.outlet||u).call(o,t!=null?t["mobile-app-upsell-view"]:t,{name:"outlet",hash:{},data:i}))+'\n\n<div class="global-nav-restyle">\n<div class="global-nav-shim"></div>\n<div class="global-nav-content styleguide-global-nav fluid sohp-mobile-navable">\n	<div class="global-nav-container fluid-centered" role="navigation" aria-label="'+
a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.MAIN"},data:i}))+'">\n		<div class="mobile-nav-toggle'+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"><span></span></div>\n\n		<div class="flickr-logo-container'+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+'">\n			<a href="/"\n				class="main-logo"\n				data-track="gnLogoClick"\n				title="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_LOGO_ALT"},data:i}))+'"\n				role="heading"\n				aria-level="1"\n				aria-label="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_LOGO_ALT"},data:i}))+'">\n				<svg class="icon-flickr"><use xlink:href="#icon-flickr_logo"></use></svg>\n			</a>\n		</div>\n\n		<ul class="nav-menu" role="menubar">\n'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.signup_link:s,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.you_menu:s,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.you_link:s,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.explore_menu:s,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.create_link:s,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.create_menu:s,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))!=null?s:"")+'\n		</ul>\n\n		<ul class="gn-tools'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.upload_icon:s,{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(o,t!=null?t.showNotificationsMenu:t,{name:"if",hash:{},fn:e.program(28,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(o,t!=null?t.enableWideSearchBar:t,{name:"if",hash:{},fn:e.program(30,i,0),inverse:e.noop,data:i}))!=null?s:"")+'"\n			role="menubar">\n'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.upload_link:s,{name:"if",hash:{},fn:e.program(32,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.search_bar:s,{name:"if",hash:{},fn:e.program(34,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.upload_icon:s,{name:"if",hash:{},fn:e.program(41,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,t!=null?t.showNotificationsMenu:t,{name:"if",hash:{},fn:e.program(43,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.account_menu:s,{name:"if",hash:{},fn:e.program(45,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.signin_link:s,{name:"if",hash:{},fn:e.program(47,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.signup_link:s,{name:"if",hash:{},fn:e.program(55,i,0),inverse:e.noop,data:i}))!=null?s:"")+'		</ul>\n\n		<div class="mobile-nav">\n'+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.you_menu:s,{name:"if",hash:{},fn:e.program(59,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(o,(s=t!=null?t.elements:t)!=null?s.explore_menu:s,{name:"if",hash:{},fn:e.program(62,i,0),inverse:e.noop,data:i}))!=null?s:"")+"		</div>\n	</div>\n</div>\n\n"+((s=n["if"].call(o,t!=null?t["show-browser-upgrade-banner"]:t,{name:"if",hash:{},fn:e.program(65,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+a((n.outlet||t&&t.outlet||u).call(o,t!=null?t["person-menu-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"+a((n.outlet||t&&t.outlet||u).call(o,t!=null?t["group-menu-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"+a((n.outlet||t&&t.outlet||u).call(o,t!=null?t["signup-rail-view"]:t,{name:"outlet",hash:{},data:i}))+"\n</div>\n"},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/global-nav-restyle",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("flutil",function(e){"use strict";var t,n=e.config.win,r=e.config.doc,i={transitionTimeout:2e3},s={getPrefixedStyleProperty:{}},o={};t=e.flutil={xbrowser:{transition:{property:"transitionProperty",duration:"transitionDuration",transitionEndEvent:"transitionend"}},setStylePrefixed:function(t,n,r){var i=this.getPrefixedStyleProperty(t);return e.Array.each(i,function(e){r.setStyle(e,n)}),r},getPrefixedStyleProperty:function(t){if(s.getPrefixedStyleProperty[t])return s.getPrefixedStyleProperty[t];var n=[],r=["-webkit-","-moz-","-ms-",""];return e.Array.each(r,function(e){n.push(e+t)}),s.getPrefixedStyleProperty[t]=n,n},dump:function(){var e=new Array(arguments.length),t;for(var n=0;n<e.length;++n)e[n]=arguments[n];t=typeof e[0]=="string"?e.shift():"LOG",e.unshift("color: #FC0"),e.unshift("%c["+t+"]"),console.log.apply(console,e)},extend:function(e){e||(e={});var t=new Array(arguments.length);for(var n=0;n<t.length;++n)t[n]=arguments[n];return Array.prototype.slice.call(t,1).forEach(function(t){if(!t)return;for(var n in t)e[n]=t[n]}),e},objectCreate:function(e,n){var r,i;return r=function(){},r.prototype=e,i=new r,n?t.extend(i,n):i},result:function(t){return e.Lang.isFunction(t)?t():t},onTransitionEnd:function(e,r){if(!r||typeof r!="function")return;var s,o,u,a;e=e.getDOMNode(),u=n.getComputedStyle(e)[t.xbrowser.transition.property],a=n.getComputedStyle(e)[t.xbrowser.transition.duration];if(!u||!a)return r();o=function(){clearTimeout(s),e.removeEventListener(t.xbrowser.transition.transitionEndEvent,o),r()},s=setTimeout(o,i.transitionTimeout),e.addEventListener(t.xbrowser.transition.transitionEndEvent,o)},toCamelCase:function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()},setCookie:function(t){if(!t.cookieName||typeof t.cookieValue=="undefined"||!t.path)throw new Error("[flutil.setCookie] Missing important parameters to set a cookie");var n=t.cookieName,r=t.cookieValue,i=t.domain||".flickr.com",s=t.path,o=t.expiresMonthsFromNow||3,u=e.Lang.isNumber(t.expires)?t.expires:e.moment().add(o,"months").toDate();t.remove&&e.Cookie.remove(n,{path:s}),e.Cookie.set(n,r,{domain:i,path:s,expires:u})},createFragment:function(e){var t=r.createElement("div"),n=r.createDocumentFragment(),i;t.innerHTML=e;while(i=t.firstChild)n.appendChild(i);return n},constrainToValues:function(e,t){return t.indexOf(e)<0?t[0]:e},escapeInput:function(e,t){var n;if(!r)return e;if(!e&&typeof e!="number")return"";t||(t="text");if(t==="html")return n=r.createElement("div"),n.appendChild(r.createTextNode(e)),n.innerHTML;if(t==="text")return n=r.createElement("div"),e=e.replace(/(<([^>]+)>\s*)+/ig," ").trim(),n.appendChild(r.createTextNode(e)),n.innerHTML;if(t==="numericstring")return(e+"").replace(/[^\d]/,"")},disableEvent:function(n,r){r=e.merge({excepted:":not(*)",onDisabledEvent:null},r);if(!document.body.addEventListener)return;o[n]=o[n]||{},o[n][r.excepted]&&t.enableEvent(n,r.excepted),o[n][r.excepted]=function(t){if(!r.excepted||!e.one(t.target).ancestors(r.excepted,!0).isEmpty())return;t.preventDefault(),t.stopPropagation(),r.onDisabledEvent&&r.onDisabledEvent(t)},document.body.addEventListener(n,o[n][r.excepted],!0)},enableEvent:function(t,n){n=e.merge({excepted:":not(*)"},n);if(!o[t]||!o[t][n.excepted])return;document.body.removeEventListener(t,o[t][n.excepted],!0),o[t][n.excepted]=null},unescape:function(t){if(!t||!e.Lang.isString(t))return t;var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#39;":"'","&#92;":"\\"};return t.replace(/(&amp;|&lt;|&gt;|&quot;|&#x27;|&#39;|&#92;)/ig,function(e){return n[e.toLowerCase()]})},normalizeURIComponents:function(e){var t,n,r,i;t={"&":["&amp;","&#x00026;","&#38;"],"<":["&lt;","&#x0003C;","&#60;"],">":["&gt;","&#x0003E;","&#62;"],'"':["&quot;","&#x00022;","&#34;"],"'":["&apos;","&#x00027;","&#39;"],"`":["&grave;","&DiacriticalGrave;","&#x00060;","&#96;"]},e=e.replace(/\+/g," ");for(n in t)r=n,i=t[n],e=e.replace(new RegExp(i.join("|"),"gi"),r);return e=decodeURIComponent(e),e},template:function(e,t){return e.replace(/\{\{([\w\.=]+)\}\}/g,function(e,n){var r=n.split(/=/),i;return i=r[0].split(/\./).reduce(function(e,t){return e?e[t]:null},t),i!==undefined&&i!==null?i+"":r[1]||""}).trim()},createHashCode:function(e){var t,n="0000000000";return typeof e!="object"?t=e+"":t=Object.keys(e||{}).map(function(t){var n=t;try{n+=JSON.stringify(e[t])}catch(r){n+="?"}return n}).join(""),t=t.split("").reduce(function(e,t){return e=(e<<5)-e+t.charCodeAt(0),e&e},0).toString().replace(/^-/,""),n.slice(0,-1*t.length)+t},camelCaseifyKeys:function(e){return Object.keys(e).reduce(function(n,r){return n[t.camelCaseify(r)]=e[r],n},{})},camelCaseify:function(e){return e.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})},unCamelCaseify:function(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^-/,"")},unicodeVariants:["(?:ae|\u00e6)","(?:oe|\u0153)","(?:ss|\u00df)","(?:th|\u00de)","[a\u00e1\u00e0\u00e2\u00e4\u00e3a\u00e5\u1ea5]","[e\u00e9\u00e8\u00ea\u00eb\u011b3]","[i\u00ed\u00ec\u00ee\u00ef\u01d0]","[o\u00f3\u00f2\u00f4\u00f6\u00f5\u01d2\u1ecf\u01a1\u1edb\u1edd\u1edf\u1ee1\u1ee3\u00f8]","[u\u00fa\u00f9\u00fb\u00fc\u01d4\u01da\u01b0\u1ee9\u1eeb\u1eed\u1eef\u1ef1]","[y\u00fd\u00ff]","[c\u00e7\u010d]","[d\u00d0]","[f\u0192]","[g\u01e7]","[h\u021f]","[j\u01f0]","[k\u01e9]","[l\u013e]","[n\u00f1\u0148]","[r\u0159\u00ae]","[s\u0161\u1e67]","[t\u0165]","[z\u017e]"],agnosticizeUnicode:function(e){var t=this.unicodeVariants,n=t.length,r;for(r=0;r<n;r++)e=e.replace(new RegExp(t[r],"gi"),t[r]);return e},buildHttpQuery:function(e,t){return e+"?"+Object.keys(t||{}).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")},formatNumbers:function(e){return Math.floor(e/1e6)>0?e=Math.floor(e/1e5)/10+"M":Math.floor(e/1e3)>0?e=Math.floor(e/100)/10+"k":e},formatIntlPluralNumber:function(t,n,r){var i=e.flutil.formatNumbers(n);return r?t.replace(/(?:\d*[,\.]\d+)+/,i):t.replace(/(?:\d*[,\.\s]\d+)+/,i)},openPopupWindow:function(t,n){var r,i,s,o,u,a;if(typeof 
window=="undefined")return;i=window,n=e.mix({name:"WIN"+(new Date).getTime(),ui:{}},n||{},!0),s=e.mix({dependent:!0,status:!0,scrollbars:!0,width:600,height:600},n.ui,!0),s.top||(s.top=Math.floor((i.screen.height-s.height)/2)),s.left||(s.left=Math.floor((i.screen.width-s.width)/2)),r=Object.keys(s).map(function(e){var t=s[e];return typeof t=="boolean"&&(t=t?"yes":"no"),e+"="+t}).join(","),i=i.open(t,n.name,r),i.focus();if(n.onUrlChange||n.onClose)o="_start_",a=setInterval(function(){if(!i.location){clearInterval(a),n.onClose&&n.onClose();return}try{u=i.location.href||"x-origin"}catch(t){i.postMessage("",e.url())}if(u===o)return;o=u,n.onUrlChange&&n.onUrlChange(u)},1e3);return i},parseYYYYMMDDDatestamp:function(t){return!e.Lang.isString(t)||t.length!==8?null:Date.parse(t.substr(0,4)+"-"+t.substr(4,2)+"-"+t.substr(6,2))},photoCoords:{normalize:function(e,t,n,r){return{x:e/500,y:t/375,w:n/500,h:r/375}},denormalize:function(e){return{x:e.x*500,y:e.y*375,w:e.w*500,h:e.h*375}},denormX:function(e){return e.x*500},denormY:function(e){return e.y*375},denormW:function(e){return e.w*500},denormH:function(e){return e.h*375}},getGroupsOptoutValues:function(t){var n=[];return t["rebootify-group-members"]===!0&&n.push({name:"groups_members_opt",value:0}),t["enable-groups-discussion-optout"]===!0&&n.push({name:"groups_discuss_opt",value:0}),t["enable-groups-optout"]===!0&&n.push({name:"groups_opt",value:0}),{url:e.url("/help/forum/en-us/72157645851675914/lastpage#reply"),flippers:n}},nonLockingSynchronousLoop:function(e,t,n,r){var i=0,s,o=!0,u=Object.keys(e),a=function(e){t(e),i++,i>=f?n():i===s||o?(i===s&&(s+=r.threshold),o=!1,setTimeout(function(){a(u[i])},1)):a(u[i])},f=u.length;r=r||{},r.threshold=r.threshold||1e3,s=r.threshold,o=r.earlyUnlock!==!1,a(u[i])}}},"@VERSION@",{requires:["url"]});
YUI.add("search-helper",function(e){function b(e){return!e[r.userId]&&!e[r.groupId]&&!e[r.tags]&&!e[r.text]&&!e[r.license]&&!e[r.faves]&&!e[r.contacts]&&!e[r.getty]&&!e[r.commons]&&!e[r.minTakenDate]&&!e[r.maxTakenDate]&&!e[r.minUploadDate]&&!e[r.maxUploadDate]&&!e[r.hasGeo]&&!e[r.boundingBox]&&!e[r.woeId]&&!e[r.camera]&&!e[r.minExposure]&&!e[r.maxExposure]&&!e[r.minAperture]&&!e[r.maxAperture]&&!e[r.minFocalLength]&&!e[r.maxFocalLength]&&!e[r.foursquareWoeId]&&!e[r.foursquareVenueId]&&!e[u.username]&&!e[r.similarityId]}function w(e,t){var n;for(n in c){if(!t&&n===e)return c[n];if(t&&c[n]===e)return n}}function E(e){var n={nsid_or_path_alias:"userId",group_id:"groupId",set_id:"setId",page_number:"page",tag_list:"tags",location:"text",slideshow_start_id:"slideshowStartId"},i,s={};for(i in n)e[i]&&(s[r[n[i]]]=e[i]);return s[r.groupId]&&!t.nsid(s[r.groupId])&&(s[r.groupPathAlias]=s[r.groupId],delete s[r.groupId]),s}function S(e,t){var n={},r=null,s=t.getViewer();e=e||{},e.q&&(n[u.username]=e.q);if(e.s)switch(e.s){case"age":n[u.sort]=i.oldestJoined;break;case"pho":n[u.sort]=i.mostPhotos}e.see&&e.see.toString().toLowerCase()==="all"&&s.signedIn&&(n[u.userId]=s.nsid),e.m&&(e.m.toString().toLowerCase()==="extras",e.m.toString().toLowerCase()==="names");for(r in e)o.indexOf(r)===-1&&(n[r]=e[r]);return n}function x(e,t){var n={},r=null,s;e=e||{},s=e.m&&e.m.toString().toLowerCase()==="discuss",e.q&&(n[f.text]=e.q),s;if(e.s)switch(e.s){case"act":s?n[f.sort]=i.discussionActivity:n[f.sort]=i.activity;break;case"siz":n[f.sort]=i.size;break;case"age":n[f.sort]=i.newest;break;case"rep":}for(r in e)a.indexOf(r)===-1&&(n[r]=e[r]);return n}function T(s,o){if(!s)return{};var u={},a,f,l=o.getViewer(),h=s.l,p=s.s,d=s.w,v,m=s.m,g=s.q,y;s.d&&typeof s.d=="string"&&(v=s.d.split("-")),s.q&&(u[r.text]=s.q),typeof s["ss"]!="undefined"&&(u[r.safeSearch]=parseInt(s.ss,10)+1),typeof s["ct"]!="undefined"&&(u[r.contentType]=parseInt(s.ct,10)+1),typeof s["mt"]!="undefined"&&(u[r.mediaType]=s.mt),s.b&&(u[r.boundingBox]=s.b),s.a&&(u[r.accuracy]=s.a),s.e&&(u[r.woeId]=s.e),s.g&&(u[r.groupId]=s.g),s.cm&&(u[r.camera]=s.cm),typeof s["xel"]!="undefined"&&(u[r.minExposure]=s.xel),typeof s["xeh"]!="undefined"&&(u[r.maxExposure]=s.xeh),typeof s["xal"]!="undefined"&&(u[r.minAperture]=s.xal),typeof s["xah"]!="undefined"&&(u[r.maxAperture]=s.xah),typeof s["xfl"]!="undefined"&&(u[r.minFocalLength]=s.xfl),typeof s["xfh"]!="undefined"&&(u[r.maxFocalLength]=s.xfh),s.eui&&(u[r.excludeUserId]=s.eui);if(typeof h!="undefined")switch(h){case"cc":case"comm":case"deriv":case"commderiv":u[r.license]=c[h];break;default:f=parseInt(h,10),f>=0&&f<=10&&(u[r.license]=f)}if(p)switch(p){case"rec":u[r.sort]=i.recent;break;case"rel":u[r.sort]=i.relevant;break;case"int":u[r.sort]=i.interesting;break;default:}s.hd&&(u[r.media]="hdvideo");if(d&&typeof d=="string")if(d.indexOf("faves")!==-1)y=d.split("-"),u[r.faves]=1,y.length>1?u[r.userId]=y[1]:l.signedIn&&(u[r.userId]=l.nsid);else if(t.nsid(d))m==="pool"?u[r.groupId]=d:u[r.userId]=d;else switch(d){case"contacts":u[r.contacts]="all";break;case"ff":u[r.contacts]="ff";break;case"getty":u[r.getty]="true";break;case"commons":u[r.commons]="true";break;case"usg":u[r.license]=8;break;case"all":default:}if(v)switch(v[0]){case"taken":v[1]&&(u[r.minTakenDate]=e.flutil.parseYYYYMMDDDatestamp(v[1])/1e3),v[2]&&(u[r.maxTakenDate]=e.flutil.parseYYYYMMDDDatestamp(v[2])/1e3);break;case"posted":v[1]&&(u[r.minUploadDate]=e.flutil.parseYYYYMMDDDatestamp(v[1])/1e3),v[2]&&(u[r.maxUploadDate]=e.flutil.parseYYYYMMDDDatestamp(v[2])/1e3);break;default:}if(m&&g)switch(m){case"tags":u=e.merge(u,this.processTags(g)),delete u[r.text];break;default:}for(a in s)n.indexOf(a)===-1&&(u[a]=s[a]);return u}function N(e){var t={},n=e[r.userId];return e[r.text]?t.q=e[r.text]:e[r.tags]&&(t.q=e[r.tags]),e[r.faves]?n?t.w="faves-"+n:t.w="faves":n?t.w=n:e[r.contacts]==="all"?t.w="contacts":e[r.contacts]==="ff"?t.w="ff":e[r.getty]==="true"?t.w="getty":e[r.commons]==="true"?t.w="commons":parseInt(e[r.license],10)===8&&(t.w="usg"),e[r.license]&&(t.l=w(e[r.license],!0)),t}function C(e,t){e[r.license]&&(e[r.license]===c.all||e[r.license]==="")&&delete e[r.license]}function k(e){}function L(e){}function A(e,t){for(var n in e)t.indexOf(n)===-1&&delete e[n]}function O(e){this.clearParams(e,g)}function M(e){this.clearParams(e,m)}function _(t){var n=e.clone(t)||{};return delete n.page,delete n.method,delete n.extras,e.QueryString.stringify(n)}function D(t){var n=t[r.groupId],i=t[r.tags],s=t[r.text];YUI.Env.isServer&&(n&&(t[r.groupId]=e.flutil.unescape(n)),i&&(t[r.tags]=e.flutil.unescape(i)),s&&(t[r.text]=e.flutil.unescape(s)))}function P(e){var t=0;return e.photos&&!e.screenshots&&!e.other?t=1:!e.photos&&e.screenshots&&!e.other?t=2:!e.photos&&!e.screenshots&&e.other?t=3:e.photos&&e.screenshots&&!e.other?t=4:!e.photos&&e.screenshots&&e.other?t=5:e.photos&&!e.screenshots&&e.other?t=6:e.photos&&e.screenshots&&e.other&&(t=7),t}function H(e){var t={},n=parseInt(e,10);switch(n){case 1:t.photos=!0;break;case 2:t.screenshots=!0;break;case 3:t.other=!0;break;case 4:t.photos=!0,t.screenshots=!0;break;case 5:t.other=!0,t.screenshots=!0;break;case 6:t.photos=!0,t.other=!0;break;default:t.photos=!0,t.screenshots=!0,t.other=!0}return t}function B(t){var n=e.AttributeHelpers.coerceInteger(t);return e.AttributeHelpers.coerceString(n+1)}function j(n,i){var s=i.getViewer(),o;return n[r.userId]?s&&s.signedIn&&s.nsid===n[r.userId]?n[r.faves]?e.Promise.resolve({intlName:"search.VIEWER_FAVES"}):e.Promise.resolve({intlName:"search.YOUR_PHOTOS"}):(t.nsid(n[r.userId])?o=n[r.userId]:o={pathAlias:n[r.userId]},i.getModel("person-models",o).then(function(e){var t;return n[r.faves]?t="search.FAVES_POSSESSIVE":t="search.PHOTOS_POSSESSIVE",{intlName:t,name:e.getValue("displayname")}})):n[r.contacts]?e.Promise.resolve({intlName:"search.FROM_PEOPLE_YOU_FOLLOW"}):n[r.groupId]||n[r.groupPathAlias]?(n[r.groupId]?o={id:n[r.groupId]}:o={pathAlias:n[r.groupPathAlias]},i.getModel("group-info-models",o).then
(function(e){return{intlName:"search.IN_GROUP_POOL",name:e.getValue("group").getValue("title")}})):n[r.faves]?e.Promise.resolve({intlName:"search.VIEWER_FAVES"}):e.Promise.resolve({intlName:"search.EVERYONES_PHOTOS"})}function F(n,i){var s=i.getViewer(),o;if(n[r.userId])return s&&s.signedIn&&s.nsid===n[r.userId]?e.Promise.resolve({intlName:"search.PEOPLE_YOU_FOLLOW"}):(t.nsid(n[r.userId])?o=n[r.userId]:o={pathAlias:n[r.userId]},i.getModel("person-models",o).then(function(e){return{intlName:"search.CONTACTS_POSSESSIVE",name:e.getValue("username")}}))}function I(n,i){var s=i.getViewer(),o;if(n[r.userId])return s&&s.signedIn&&s.nsid===n[r.userId]?e.Promise.resolve({intlName:"search.YOUR_GROUPS"}):(t.nsid(n[r.userId])?o=n[r.userId]:o={pathAlias:n[r.userId]},i.getModel("person-models",o).then(function(e){return{intlName:"search.GROUPS_POSSESSIVE",name:e.getValue("username")}}))}function q(e){e||(e={});var t=null,n=e[r.license];if(n&&n.length===1)switch(parseInt(n,10)){case 1:t="search.CC_BY_NC_SA";break;case 2:t="search.CC_BY_NC";break;case 3:t="search.CC_BY_NC_ND";break;case 4:t="search.CC_BY";break;case 5:t="search.CC_BY_SA";break;case 6:t="search.CC_BY_ND"}return t?{intlName:t}:null}function R(t,n,r){var i,s,o=this;return t===n?!0:r<=0?!1:(r=r||1,!e.Lang.isObject(t)||!e.Lang.isObject(n)?!1:(i=Object.keys(t),s=Object.keys(n),i.length!==s.length?!1:i.every(function(e){return o.objectsAreEquivalentToDepth(t[e],n[e],r-1)})))}function U(e){var t;return e&&(t=e.replace(/[\s!-\/:-@[-`]/g,"")),t}function z(e,t){if(!e||typeof e!="string")return{};var n={},i=/(["'])(\\?.)*?\1/g,s=/[,\+\s]/,o=/^([,\+]|AND|OR)$/,u=/[\+\s]OR[\+\s]/,a,f,l,c;return a=e.match(i)||[],f=e.replace(i,""),l=f.split(s),l=l.map(function(e){return e.trim()}).filter(function(e){return e&&!o.test(e)}),c=a.concat(l),n[r.tags]=c.join(","),t==="any"||t==="all"?n[r.tagMode]=t:u.test(e)?(n[r.tagMode]="any",c.length=Math.min(c.length,11)):n[r.tagMode]="all",n}var t=require("lib/helpers/type-validator"),n=["q","ss","ct","mt","l","s","w","d","m","hd","b","a","g","e","cm","xel","xeh","xal","xah","xfl","xfh","eui"],r={userId:"user_id",groupId:"group_id",groupPathAlias:"group_path_alias",setId:"set_id",page:"page",text:"text",tags:"tags",tagMode:"tag_mode",sort:"sort",safeSearch:"safe_search",contentType:"content_type",mediaType:"media",license:"license",faves:"faves",contacts:"contacts",getty:"is_getty",commons:"is_commons",marketplace:"marketplace_licensable",minTakenDate:"min_taken_date",maxTakenDate:"max_taken_date",minUploadDate:"min_upload_date",maxUploadDate:"max_upload_date",hasGeo:"has_geo",boundingBox:"bbox",accuracy:"accuracy",woeId:"woe_id",camera:"camera",minExposure:"exif_min_exposure",maxExposure:"exif_max_exposure",minAperture:"exif_min_aperture",maxAperture:"exif_max_aperture",minFocalLength:"exif_min_focallen",maxFocalLength:"exif_max_focallen",excludeUserId:"exclude_user_id",foursquareWoeId:"foursquare_woeid",foursquareVenueId:"foursquare_venueid",slideshowStartId:"jump_to",height:"height",width:"width",dimensionSearchMode:"dimension_search_mode",orientation:"orientation",colorCodes:"color_codes",styles:"styles",similarityId:"similarity_id"},i={relevant:"relevance",recent:"date-posted-desc",interesting:"interestingness-desc",name:"exact-name-match-first",activity:"most-activity",size:"most-members",oldest:"oldest-first",newest:"recent-first",oldestJoined:"age",mostPhotos:"pho",dateUploaded:"date-posted-desc",dateTaken:"date-taken-desc"},s={portrait:"portrait",square:"square",landscape:"landscape",panorama:"panorama"},o=["s","q","see","m"],u={username:"username",userId:"user_id",sort:"sort"},a=["q","s","m"],f={text:"text",sort:"sort",safeSearch:"safe_search",userId:"user_id",subscriptionTypes:"subscription_types",filterInactive:"filter_inactive_groups"},l={safe:1,all:2,eighteenPlusOnly:3},c={all:"0,1,2,3,4,5,6,7,8,9,10",cc:"1,2,3,4,5,6,9",deriv:"1,2,4,5,9,10",comm:"4,5,6,9,10",commderiv:"4,5,9,10"},h={viewAll:"view_all",viewType:"view_type",advanced:"advanced",albums:"album_search"},p=[r.tags,r.tagMode,r.mediaType,r.minTakenDate,r.maxTakenDate,r.minUploadDate,r.maxUploadDate,r.height,r.width,r.dimensionSearchMode,r.orientation,r.marketplace,r.excludeUserId],d=[r.colorCodes,r.styles],v=[r.sort,r.safeSearch,r.license],m=[r.userId,r.groupId,r.faves,r.contacts,r.commons,"m","w"],g=[r.userId,r.groupId,r.faves,r.contacts,r.safeSearch,r.sort,r.license,r.tags,r.text],y={sort:i.relevant,parse_tags:"1",content_type:"7"};e.SearchHelper={API:r,PEOPLE_SEARCH_API:u,GROUPS_SEARCH_API:f,GROUPS_SAFE_SEARCH_SETTINGS:l,API_SORT_OPTIONS:i,API_ORIENTATION_OPTIONS:s,LICENSE_TYPE:c,UNIFIED_STATE_PARAMS:h,UNIFIED_ADVANCED_PARAMS:p,UNIFIED_QUICK_FILTER_PARAMS:d,UNIFIED_TOOLBAR_PARAMS:v,SEARCH_SCOPE_PARAMS:m,UNIFIED_DEFAULT_PARAMS:y,decodeContentType:H,encodeContentType:P,isParameterlessSearch:b,mapRouteParamsToAPI:E,convertLicenseTypeValue:w,mapClassicSearchToAPI:T,mapClassicPeopleSearchToAPI:S,mapClassicGroupSearchToApi:x,mapAPIParamsToAdvancedSearchQuery:N,deriveScopeTitle:j,derivePeopleScopeTitle:F,deriveGroupsScopeTitle:I,deriveCCLicenseString:q,addParamDefaults:C,addGroupsParamDefaults:k,addPeopleParamDefaults:L,clearParams:A,clearAdvancedSearchParams:O,clearParamsExceptSearchScope:M,generateQueryString:_,convertSafeSearchPrefsToApi:B,unescapeParameters:D,objectsAreEquivalentToDepth:R,normalizeTag:U,processTags:z}},"@VERSION@",{requires:["flutil"]});
YUI.add("search-url",function(e,t){function u(e){return typeof e=="number"?e.toString():typeof e=="boolean"?e?"1":"0":typeof e=="string"?e:undefined}var n=require("lib/flog")(t),r,i,s=/^\/search(?:\/.*)?$/,o=/^bw|blackandwhite$/;YUI.Env.isServer?r=require("querystring").stringify:r=e.QueryString.stringify,i=function(t,r,s){var o,a,f,l,c;this.appContext=r;if(typeof t=="string"){c=t.split("?"),s?this.searchType=s:(a=c[0].split("/"),a[0].indexOf("http")!==-1?f=3:f=1,l="/"+a.slice(f).join("/"),this.searchType=this.getSearchTypeFromPathname(l)),c=c.length>1?c[1]:"",this.params={};if(c)try{c=e.QueryString.parse(c),this.params=e.SearchHelper.mapClassicSearchToAPI(c,r)}catch(h){n.warn("malformed query",{err:h,query:c})}}else this.params=e.merge(t),this.searchType=s;for(o in this.params)this.params.hasOwnProperty(o)&&(this.params[o]=u(this.params[o]));this.params.color_codes&&(this.colors=this.params.color_codes.toString().split(",")),this.searchType||this.setSearchType(i.searchTypes.UNDEFINED)},i.prototype.setSearchType=function(t){var n=this.getSearchTerm();return this.searchType=t,this.params=this.validateParams(this.params,this.searchType),this.params=e.merge(this.getDefaultParams(this.searchType),this.params),n&&this.setSearchTerm(n),this},i.prototype.getSearchTypeFromPathname=function(e){e=e||this.pathname,e=e.toLowerCase(),e=e.split("/").join("");switch(e){case"searchpeople":return i.searchTypes.PEOPLE;case"searchgroups":return i.searchTypes.GROUPS;case"search":default:return i.searchTypes.PHOTOS}},i.prototype.getPathname=function(){var e="/search/";switch(this.searchType){case i.searchTypes.PEOPLE:e+="people/";break;case i.searchTypes.GROUPS:e+="groups/";break;case i.searchTypes.CLASSIC_GROUPS:e="/search_groups.gne";break;case i.searchTypes.PHOTOS:default:}return e},i.prototype.validateParams=function(t,n){var r,s={},o,u;t=e.merge(t);switch(n){case i.searchTypes.PEOPLE:r=e.merge(e.SearchHelper.PEOPLE_SEARCH_API),r.text="text";break;case i.searchTypes.GROUPS:r=e.merge(e.SearchHelper.GROUPS_SEARCH_API);break;case i.searchTypes.PHOTOS:r=e.merge(e.SearchHelper.API,e.SearchHelper.UNIFIED_STATE_PARAMS);break;case i.searchTypes.UNDEFINED:default:return t}if(r)for(o in r)u=r[o],typeof t[u]!="undefined"&&(s[u]=t[u]);return s},i.prototype.getDefaultParams=function(t){var n={};switch(t){case i.searchTypes.PEOPLE:e.SearchHelper.addPeopleParamDefaults(n);break;case i.searchTypes.GROUPS:e.SearchHelper.addGroupsParamDefaults(n);break;case i.searchTypes.PHOTOS:e.SearchHelper.addParamDefaults(n);break;case i.searchTypes.UNDEFINED:default:}return n},i.prototype.getAPIParams=function(){return e.merge(this.params)},i.prototype.getAPIParam=function(e){return this.params[e]},i.prototype.setAPIParam=function(e,t){return this.params[e]=u(t),this},i.prototype.removeAPIParam=function(e){return delete this.params[e],this},i.prototype.removeAllAPIParams=function(){return this.params={},this},i.prototype.getSearchTerm=function(){var t=this.params[this.getSearchTermKey(this.searchType)];return t||(t=this.params[e.SearchHelper.API.tags]),t||""},i.prototype.setSearchTerm=function(t){var n=this.getSearchTermKey(this.searchType);return delete this.params[e.SearchHelper.PEOPLE_SEARCH_API.username],delete this.params[e.SearchHelper.GROUPS_SEARCH_API.text],delete this.params[e.SearchHelper.API.text],delete this.params[e.SearchHelper.API.tags],delete this.params.q,this.params[n]=t,this},i.prototype.getSearchTermKey=function(t){switch(t){case i.searchTypes.PEOPLE:return e.SearchHelper.PEOPLE_SEARCH_API.username;case i.searchTypes.GROUPS:return e.SearchHelper.GROUPS_SEARCH_API.text;case i.searchTypes.PHOTOS:default:return this.params[e.SearchHelper.API.tags]||this.params[e.SearchHelper.API.tags]===""?e.SearchHelper.API.tags:e.SearchHelper.API.text}},i.prototype.removeScope=function(){return e.SearchHelper.SEARCH_SCOPE_PARAMS.forEach(function(e){this.removeAPIParam(e)}.bind(this)),this.removeAPIParam(e.SearchHelper.API.excludeUserId),this},i.prototype.resetToUnified=function(){return this.params[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll]&&(this.removeAPIParam(e.SearchHelper.API.userId),this.removeAPIParam(e.SearchHelper.API.contacts),this.removeAPIParam(e.SearchHelper.API.groupId),this.removeAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.albums)),this.removeAPIParam(e.SearchHelper.API.similarityId),this.removeAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll),this},i.prototype.hasAdvancedParams=function(t){return Object.keys(this.params).some(function(n){return e.SearchHelper.UNIFIED_ADVANCED_PARAMS.indexOf(n)!==-1||!t&&e.SearchHelper.UNIFIED_QUICK_FILTER_PARAMS.indexOf(n)!==-1||!t&&e.SearchHelper.UNIFIED_TOOLBAR_PARAMS.indexOf(n)!==-1})},i.prototype.resetAdvancedParam=function(t,n){return this.hasAdvancedParams(t)?this.setAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.advanced,1):n||this.removeAPIParam(e.SearchHelper.UNIFIED_STATE_PARAMS.advanced),this},i.prototype.createNewSearch=function(e){this.setSearchTerm(e),this.removeScope();if(this.searchType===i.searchTypes.UNDEFINED||this.searchType===i.searchTypes.PHOTOS)this.resetToUnified(),this.resetAdvancedParam();return this},i.prototype.getURL=function(){var e=this.getId(),t=this.getPathname();return e===i.EMPTY_SEARCH_ID?t:t+"?"+e},i.prototype.getId=function(){var t={},n,s=e.SearchHelper.API;for(n in this.params)s[n]?t[s[n]]=this.params[n]:t[n]=this.params[n];return r(t)||i.EMPTY_SEARCH_ID},i.prototype.clone=function(){var e=new i(this.params,this.appContext,this.searchType);return e},i.prototype.setMedia=function(t,n){var r;t||(t=!1),n||(n=!1),t&&n?r="all":t?r="photos":r="videos",this.setAPIParam(e.SearchHelper.API.mediaType,r)},i.prototype._syncColors=function(){this.colors&&this.colors.length>0?this.params.color_codes=this.colors.join(","):this.removeAPIParam("color_codes")},i.prototype.addColorCode=function(e){if(e&&e.match(o)){this.clearColorCodes(),this.colors=["bw"],this._syncColors();return}this.colors&&this.colors.indexOf("bw")!==-1&&(this.colors=[]),this.colors||(this
.colors=[]),this.colors.indexOf(e)===-1&&(this.colors.push(e),this._syncColors())},i.prototype.removeColorCode=function(e){var t;this.colors&&(t=this.colors.indexOf(e),t!==-1&&(this.colors.splice(t,1),this._syncColors()))},i.prototype.clearColorCodes=function(){this.colors=[],this._syncColors()},i.isSearchUrl=function(e){return s.test(e)},i.searchTypes={UNDEFINED:0,PHOTOS:1,PEOPLE:2,GROUPS:3,CLASSIC_GROUPS:4},i.EMPTY_SEARCH_ID="-1",e.SearchUrl=i},"@VERSION@",{requires:["search-helper","querystring-parse-simple","querystring-stringify-simple"]});
YUI.add("hermes-template-search-pill",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing,f=e.escapeExpression;return'<li class="search-pill" '+((s=n["if"].call(u,t!=null?t.id:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))!=null?s:"")+">"+f((n.truncate||t&&t.truncate||a).call(u,t!=null?t.name:t,20,{name:"truncate",hash:{},data:i}))+'<div class="search-pill-divider"></div>'+f((o=(o=n.secondName||(t!=null?t.secondName:t))!=null?o:a,typeof o=="function"?o.call(u,{name:"secondName",hash:{},data:i}):o))+'<i class="search-pill-remover"></i></li>\n'},2:function(e,t,n,r,i){var s;return"id="+e.escapeExpression((s=(s=n.id||(t!=null?t.id:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"id",hash:{},data:i}):s))},4:function(e,t,n,r,i){var s,o=t!=null?t:{};return'<li class="search-pill" '+((s=n["if"].call(o,t!=null?t.id:t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i}))!=null?s:"")+">"+e.escapeExpression((n.truncate||t&&t.truncate||n.helperMissing).call(o,t!=null?t.name:t,30,{name:"truncate",hash:{},data:i}))+'<i class="search-pill-remover"></i></li>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return(s=n["if"].call(t!=null?t:{},t!=null?t.combo:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(4,i,0),data:i}))!=null?s:""},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/search-pill",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-search-autosuggest-field",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return(s=e.invokePartial(r["search-pill"],t,{name:"search-pill",data:i,indent:"			",helpers:n,partials:r,decorators:e.decorators}))!=null?s:""},3:function(e,t,n,r,i){return' placeholder="'+e.escapeExpression((n.intlMessage||t&&t.intlMessage||n.helperMissing).call(t!=null?t:{},{name:"intlMessage",hash:{intlName:"search.PHOTOS_PEOPLE_OR_GROUPS"},data:i}))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u,a=t!=null?t:{},f=n.helperMissing,l=e.escapeExpression,c="function",h='<form method="get" action="/search/" role="search" class="search-form">\n\n		<label data-track="gnSearchSearchIcon" aria-label="'+l((n.intlMessage||t&&t.intlMessage||f).call(a,{name:"intlMessage",hash:{intlName:"search.SEARCH"},data:i}))+'">\n			<svg class="search-icon" style="width: 22px; height: 22px;" data-track="gnSearchSearchIcon" aria-label="'+l((n.intlMessage||t&&t.intlMessage||f).call(a,{name:"intlMessage",hash:{intlName:"search.SEARCH"},data:i}))+'"><use xlink:href="#icon-search"></use></svg>\n			<input type="submit" data-track="gnSearchSearchIcon" class="search-icon-button" tabindex="-1" aria-label="'+l((n.intlMessage||t&&t.intlMessage||f).call(a,{name:"intlMessage",hash:{intlName:"search.SEARCH"},data:i}))+'" role="button">\n		</label>\n		<ul class="search-pillbox">\n';return s=(o=(o=n.pills||(t!=null?t.pills:t))!=null?o:f,u={name:"pills",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i},typeof o===c?o.call(a,u):o),n.pills||(s=n.blockHelperMissing.call(t,s,u)),s!=null&&(h+=s),h+'		</ul>\n		<input type="text" id="search-field" class="autosuggest-selectable-item"'+((s=n.unless.call(a,t!=null?t.hasPills:t,{name:"unless",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+' name="text" value="'+l((o=(o=n.searchTerm||(t!=null?t.searchTerm:t))!=null?o:f,typeof o===c?o.call(a,{name:"searchTerm",hash:{},data:i}):o))+'" autocomplete="off" aria-label="'+l((n.intlMessage||t&&t.intlMessage||f).call(a,{name:"intlMessage",hash:{intlName:"search.SEARCH"},data:i}))+'" role="textbox">\n\n</form>\n\n'+l((n.outlet||t&&t.outlet||f).call(a,t!=null?t["search-autosuggest-items-list-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"},usePartial:!0,useData:!0}),r={};e.Array.each(["search-pill"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/search-autosuggest-field",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-search-pill"]});
YUI.add("hermes-lang-autosuggest",function(e,t){e.Intl.add("hermes/autosuggest","en-US",{MEMBER:["1 member"],MEMBERS:[{type:"number",valueName:"count"}," members"],SEARCH_PEOPLE:["Search people"],SEARCH_GROUPS:["Search groups"],SEARCH_PHOTOS:["Search photos"],MORE:["More"],MORE_SEARCH_TYPES:["More search types"],MORE_OPTIONS:["More options"],SEARCH_YOUR_PHOTOS:["Search your photos"],SEARCH_EVERYONES_PHOTOS:["Search everyone's photos"],SEARCH_CONTACTS_PHOTOS:["Search your contacts' photos"],YOUR_PHOTOS:["Your photos"],EVERYONES_PHOTOS:["Everyone's photos"],YOUR_CONTACTS_PHOTOS:["Your contacts' photos"],SEARCH_USER_PHOTOS:["Search ","${name}","'s photos"],SEARCH_GROUP_PHOTOS:["Search photos in ","${name}"],YOUR_PHOTOSTREAM:["Your photostream"],YOUR_ALBUMS:["Your albums"],SETS:["Sets"],CAMERA_ROLL:["Camera roll"],ORGANIZE:["Organize"],YOUR_COLLECTIONS:["Your collections"],YOUR_GALLERIES:["Your galleries"],YOUR_ARCHIVES:["Your archives"],YOUR_TAGS:["Your tags"],YOUR_MAP:["Your map"],YOUR_FAVORITES:["Your favorites"],YOUR_STATS:["Your stats"],GRAPHS:["Graphs"],REFERRERS:["Referrers"],VIEWS:["Views"],YOUR_APPS:["Your apps"],RECENT_ACTIVITY:["Recent activity"],PHOTOS_OF_YOU:["Photos of you"],UPLOAD_PHOTOS:["Upload photos"],YOUR_ACCOUNT:["Your account"],SETTINGS:["Settings"],PREFERENCES:["Preferences"],YOUR_PROFILE:["Your profile"],FLICKR_MAIL:["Flickr mail"],ORGANIZR:["Organizr"],CREATE:["Create"],WALL_ART:["Wall art"],PHOTO_BOOKS:["Photo books"],CURATED_COLLECTION:["Curated collection"],PHOTOS_OF_YOUR_CONTACTS:["Photos of your contacts"],FOLLOWING:["Following"],CONTACTS_LIST:["Contacts list"],FOLLOWERS:["Followers"],FIND_YOUR_FRIENDS:["Find your friends"],INVITE_YOUR_FRIENDS:["Invite your friends"],INVITE_HISTORY:["Invite history"],GUEST_PASS_HISTORY:["Guest pass history"],YOUR_GROUPS:["Your groups"],RECENT_GROUP_DISCUSSIONS:["Recent group discussions"],CREATE_A_GROUP:["Create a group"],EXPLORE:["Explore"],POPULAR_TAGS:["Popular tags"],GALLERIES:["Galleries"],ANALOG:["Analog"],FILM:["Film"],WORLD_MAP:["World map"],PLACES:["Places"],THE_COMMONS:["The Commons"],CREATIVE_COMMONS:["Creative Commons"],CC:["CC"],LICENSE:["License"],THE_FLICKR_BLOG:["The Flickr Blog"],THE_FLICKR_CODE_BLOG:["The Flickr Code Blog"],THE_APP_GARDEN:["The App Garden"],CAMERA_FINDER:["Camera finder"],DEVELOPER_GUIDE:["Developer guide"],API:["API"],PROGRAMMING:["Programming"],CODE:["Code"],DOCUMENTATION:["Documentation"],DEVELOPER:["Developer"],API_DOCUMENTATION:["API documentation"],FEEDS:["Feeds"],RSS:["RSS"],ATOM:["Atom"],DATA:["Data"],HELP:["Help"],COMMUNITY_GUIDELINES:["Community guidelines"],HELP_FORUM:["Help forum"],FAQ:["FAQ"],FREQUENTLY_ASKED_QUESTIONS:["Frequently asked questions"],TOOLS:["Tools"],UPLOAD:["Upload"],MAC:["Mac"],WINDOWS:["Windows"],ABOUT_FLICKR:["About Flickr"],STAFF:["Staff"],JOBS_AT_FLICKR:["Jobs at Flickr"],CAREER:["Career"],TWENTY_UNDER_TWENTY:["20 Under 20"],ME:["Me"],FLICKR_MARKETPLACE:["Flickr Marketplace"]})},"@VERSION@",{requires:["intl"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("text-data-accentfold",function(e,t){e.namespace("Text.Data").AccentFold={0:/[\u2070\u2080\u24EA\uFF10]/gi,1:/[\u00B9\u2081\u2460\uFF11]/gi,2:/[\u00B2\u2082\u2461\uFF12]/gi,3:/[\u00B3\u2083\u2462\uFF13]/gi,4:/[\u2074\u2084\u2463\uFF14]/gi,5:/[\u2075\u2085\u2464\uFF15]/gi,6:/[\u2076\u2086\u2465\uFF16]/gi,7:/[\u2077\u2087\u2466\uFF17]/gi,8:/[\u2078\u2088\u2467\uFF18]/gi,9:/[\u2079\u2089\u2468\uFF19]/gi,a:/[\u00AA\u00E0-\u00E5\u0101\u0103\u0105\u01CE\u01DF\u01E1\u01FB\u0201\u0203\u0227\u1D43\u1E01\u1E9A\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u24D0\uFF41]/gi,b:/[\u1D47\u1E03\u1E05\u1E07\u24D1\uFF42]/gi,c:/[\u00E7\u0107\u0109\u010B\u010D\u1D9C\u1E09\u24D2\uFF43]/gi,d:/[\u010F\u1D48\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u217E\u24D3\uFF44]/gi,e:/[\u00E8-\u00EB\u0113\u0115\u0117\u0119\u011B\u0205\u0207\u0229\u1D49\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u2091\u212F\u24D4\uFF45]/gi,f:/[\u1DA0\u1E1F\u24D5\uFF46]/gi,g:/[\u011D\u011F\u0121\u0123\u01E7\u01F5\u1D4D\u1E21\u210A\u24D6\uFF47]/gi,h:/[\u0125\u021F\u02B0\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E96\u210E\u24D7\uFF48]/gi,i:/[\u00EC-\u00EF\u0129\u012B\u012D\u012F\u0133\u01D0\u0209\u020B\u1D62\u1E2D\u1E2F\u1EC9\u1ECB\u2071\u2139\u2170\u24D8\uFF49]/gi,j:/[\u0135\u01F0\u02B2\u24D9\u2C7C\uFF4A]/gi,k:/[\u0137\u01E9\u1D4F\u1E31\u1E33\u1E35\u24DA\uFF4B]/gi,l:/[\u013A\u013C\u013E\u0140\u01C9\u02E1\u1E37\u1E39\u1E3B\u1E3D\u2113\u217C\u24DB\uFF4C]/gi,m:/[\u1D50\u1E3F\u1E41\u1E43\u217F\u24DC\uFF4D]/gi,n:/[\u00F1\u0144\u0146\u0148\u01F9\u1E45\u1E47\u1E49\u1E4B\u207F\u24DD\uFF4E]/gi,o:/[\u00BA\u00F2-\u00F6\u014D\u014F\u0151\u01A1\u01D2\u01EB\u01ED\u020D\u020F\u022B\u022D\u022F\u0231\u1D52\u1E4D\u1E4F\u1E51\u1E53\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u2092\u2134\u24DE\uFF4F]/gi,p:/[\u1D56\u1E55\u1E57\u24DF\uFF50]/gi,q:/[\u02A0\u24E0\uFF51]/gi,r:/[\u0155\u0157\u0159\u0211\u0213\u02B3\u1D63\u1E59\u1E5B\u1E5D\u1E5F\u24E1\uFF52]/gi,s:/[\u015B\u015D\u015F\u0161\u017F\u0219\u02E2\u1E61\u1E63\u1E65\u1E67\u1E69\u1E9B\u24E2\uFF53]/gi,t:/[\u0163\u0165\u021B\u1D57\u1E6B\u1E6D\u1E6F\u1E71\u1E97\u24E3\uFF54]/gi,u:/[\u00F9-\u00FC\u0169\u016B\u016D\u016F\u0171\u0173\u01B0\u01D4\u01D6\u01D8\u01DA\u01DC\u0215\u0217\u1D58\u1D64\u1E73\u1E75\u1E77\u1E79\u1E7B\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u24E4\uFF55]/gi,v:/[\u1D5B\u1D65\u1E7D\u1E7F\u2174\u24E5\uFF56]/gi,w:/[\u0175\u02B7\u1E81\u1E83\u1E85\u1E87\u1E89\u1E98\u24E6\uFF57]/gi,x:/[\u02E3\u1E8B\u1E8D\u2093\u2179\u24E7\uFF58]/gi,y:/[\u00FD\u00FF\u0177\u0233\u02B8\u1E8F\u1E99\u1EF3\u1EF5\u1EF7\u1EF9\u24E8\uFF59]/gi,z:/[\u017A\u017C\u017E\u1DBB\u1E91\u1E93\u1E95\u24E9\uFF5A]/gi}},"3.16.0",{requires:["yui-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("text-accentfold",function(e,t){var n=e.Array,r=e.Text,i=r.Data.AccentFold,s={canFold:function(e){var t;for(t in i)if(i.hasOwnProperty(t)&&e.search(i[t])!==-1)return!0;return!1},compare:function(e,t,n){var r=s.fold(e),i=s.fold(t);return n?!!n(r,i):r===i},filter:function(e,t){return n.filter(e,function(e){return t(s.fold(e))})},fold:function(t){return e.Lang.isArray(t)?n.map(t,s.fold):(t=t.toLowerCase(),e.Object.each(i,function(e,n){t=t.replace(e,n)}),t)}};r.AccentFold=s},"3.16.0",{requires:["array-extras","text-data-accentfold"]});
YUI.add("autosuggest-context-results-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,langBundles:this.details.langBundles,TAG_ITEM_TYPE:0,PERSON_ITEM_TYPE:1,GROUP_ITEM_TYPE:2,PAGE_ITEM_TYPE:3,processItem:function(t,n){var r;t.type=n,t.titleIntlKey&&(t.title=this.intlMessage({intlName:t.titleIntlKey}));if(t.aliasIntlKeys){t.aliases=t.aliases||[];for(r=0;r<t.aliasIntlKeys.length;r++)t.aliases.push(this.intlMessage({intlName:t.aliasIntlKeys[r]}))}return n===this.TAG_ITEM_TYPE||n===this.PAGE_ITEM_TYPE?t.key=t.title:t.key=t.nsid,t.matches&&(t.matches=t.matches.map(function(t){return t.token=e.Text.AccentFold.fold(t.token),t})),t},remote:{read:function(t){return e.ModelFetchers["flickr-autosuggest-getContextResults-fetcher"].run(t,this.appContext)}},attributes:{contextId:{writeOnce:"initOnly"},contextType:{writeOnce:"initOnly"},tags:{setter:function(e){var t,n;for(t=0,n=e.length;t<n;t++)this.processItem(e[t],this.TAG_ITEM_TYPE);return e}},people:{setter:function(e){var t,n;for(t=0,n=e.length;t<n;t++)this.processItem(e[t],this.PERSON_ITEM_TYPE);return e}},groups:{setter:function(e){var t,n;for(t=0,n=e.length;t<n;t++)this.processItem(e[t],this.GROUP_ITEM_TYPE);return e}},pages:{readOnly:!0,getter:function(e){var t,n;for(t=0,n=e.length;t<n;t++)this.processItem(e[t],this.PAGE_ITEM_TYPE);return e},defaultValue:[{url:"/photos/me/",titleIntlKey:"autosuggest.YOUR_PHOTOSTREAM",aliasIntlKeys:["autosuggest.ME"]},{url:"/me/albums/",titleIntlKey:"autosuggest.YOUR_ALBUMS",aliasIntlKeys:["autosuggest.SETS"]},{url:"/photos/me/collections/",titleIntlKey:"autosuggest.YOUR_COLLECTIONS",aliasIntlKeys:[]},{url:"/photos/me/galleries/",titleIntlKey:"autosuggest.YOUR_GALLERIES",aliasIntlKeys:[]},{url:"/photos/me/archives/",titleIntlKey:"autosuggest.YOUR_ARCHIVES",aliasIntlKeys:[]},{url:"/photos/me/tags/",titleIntlKey:"autosuggest.YOUR_TAGS",aliasIntlKeys:[]},{url:"/photos/me/map/",titleIntlKey:"autosuggest.YOUR_MAP",aliasIntlKeys:[]},{url:"/me/favorites/",titleIntlKey:"autosuggest.YOUR_FAVORITES",aliasIntlKeys:[]},{url:"/photos/me/stats/",titleIntlKey:"autosuggest.YOUR_STATS",aliasIntlKeys:["autosuggest.GRAPHS","autosuggest.REFERRERS","autosuggest.VIEWS"]},{url:"/services/apps/by/me/",titleIntlKey:"autosuggest.YOUR_APPS",aliasIntlKeys:[]},{url:"/activity/",titleIntlKey:"autosuggest.RECENT_ACTIVITY",aliasIntlKeys:[]},{url:"/photosof/me/",titleIntlKey:"autosuggest.PHOTOS_OF_YOU",aliasIntlKeys:["autosuggest.ME"]},{url:"/photos/upload/",titleIntlKey:"autosuggest.UPLOAD_PHOTOS",aliasIntlKeys:[]},{url:"/account/",titleIntlKey:"autosuggest.YOUR_ACCOUNT",aliasIntlKeys:["autosuggest.SETTINGS","autosuggest.PREFERENCES"]},{url:"/people/me/",titleIntlKey:"autosuggest.YOUR_PROFILE",aliasIntlKeys:["autosuggest.ME"]},{url:"/photos/organize/",titleIntlKey:"autosuggest.ORGANIZR",aliasIntlKeys:[]},{url:"/photos/contacts/",titleIntlKey:"autosuggest.YOUR_CONTACTS_PHOTOS",aliasIntlKeys:[]},{url:"/photosof/contacts/",titleIntlKey:"autosuggest.PHOTOS_OF_YOUR_CONTACTS",aliasIntlKeys:[]},{url:"/people/me/contacts/",titleIntlKey:"autosuggest.FOLLOWING",aliasIntlKeys:["autosuggest.CONTACTS_LIST"]},{url:"/people/me/contacts/rev/",titleIntlKey:"autosuggest.FOLLOWERS",aliasIntlKeys:[]},{url:"/import/people/",titleIntlKey:"autosuggest.FIND_YOUR_FRIENDS",aliasIntlKeys:[]},{url:"/invite/",titleIntlKey:"autosuggest.INVITE_YOUR_FRIENDS",aliasIntlKeys:[]},{url:"/invite/history/",titleIntlKey:"autosuggest.INVITE_HISTORY",aliasIntlKeys:[]},{url:"/invite/history/guests/",titleIntlKey:"autosuggest.GUEST_PASS_HISTORY",aliasIntlKeys:[]},{url:"/groups/",titleIntlKey:"autosuggest.YOUR_GROUPS",aliasIntlKeys:[]},{url:"/recent.gne/",titleIntlKey:"autosuggest.RECENT_GROUP_DISCUSSIONS",aliasIntlKeys:[]},{url:"/group_create.gne/",titleIntlKey:"autosuggest.CREATE_A_GROUP",aliasIntlKeys:[]},{url:"/explore/",titleIntlKey:"autosuggest.EXPLORE",aliasIntlKeys:[]},{url:"/photos/tags/",titleIntlKey:"autosuggest.POPULAR_TAGS",aliasIntlKeys:[]},{url:"/galleries/",titleIntlKey:"autosuggest.GALLERIES",aliasIntlKeys:[]},{url:"/analog/",titleIntlKey:"autosuggest.ANALOG",aliasIntlKeys:["autosuggest.FILM"]},{url:"/map/",titleIntlKey:"autosuggest.WORLD_MAP",aliasIntlKeys:[]},{url:"/places/",titleIntlKey:"autosuggest.PLACES",aliasIntlKeys:[]},{url:"/marketplace/",titleIntlKey:"autosuggest.FLICKR_MARKETPLACE",aliasIntlKeys:[]},{url:"/commons/",titleIntlKey:"autosuggest.THE_COMMONS",aliasIntlKeys:[]},{url:"/creativecommons/",titleIntlKey:"autosuggest.CREATIVE_COMMONS",aliasIntlKeys:["autosuggest.CC","autosuggest.LICENSE"]},{url:"/services/",titleIntlKey:"autosuggest.THE_APP_GARDEN",aliasIntlKeys:[]},{url:"/cameras/",titleIntlKey:"autosuggest.CAMERA_FINDER",aliasIntlKeys:[]},{url:"/services/api/",titleIntlKey:"autosuggest.API_DOCUMENTATION",aliasIntlKeys:["autosuggest.PROGRAMMING","autosuggest.CODE","autosuggest.DEVELOPER"]},{url:"/services/developer/",titleIntlKey:"autosuggest.DEVELOPER_GUIDE",aliasIntlKeys:["autosuggest.API","autosuggest.PROGRAMMING","autosuggest.CODE","autosuggest.DOCUMENTATION"]},{url:"/services/feeds/",titleIntlKey:"autosuggest.FEEDS",aliasIntlKeys:["autosuggest.RSS","autosuggest.ATOM","autosuggest.DATA"]},{url:"/help/",titleIntlKey:"autosuggest.HELP",aliasIntlKeys:[]},{url:"/help/guidelines/",titleIntlKey:"autosuggest.COMMUNITY_GUIDELINES",aliasIntlKeys:[]},{url:"/help/forum/",titleIntlKey:"autosuggest.HELP_FORUM",aliasIntlKeys:[]},{url:"/tools/",titleIntlKey:"autosuggest.TOOLS",aliasIntlKeys:["autosuggest.UPLOAD","autosuggest.MAC","autosuggest.WINDOWS"]},{url:"/about/",titleIntlKey:"autosuggest.ABOUT_FLICKR",aliasIntlKeys:["autosuggest.STAFF"]},{url:"/mail/",titleIntlKey:"autosuggest.FLICKR_MAIL",aliasIntlKeys:[]},{url:"/create/",titleIntlKey:"autosuggest.CREATE",aliasIntlKeys:["autosuggest.WALL_ART","autosuggest.PHOTO_BOOKS"]},{url:"/cameraroll/",titleIntlKey:"autosuggest.CAMERA_ROLL",aliasIntlKeys:["autosuggest.ORGANIZE"]},{url:"/20under20/",titleIntlKey:"autosuggest.TWENTY_UNDER_TWENTY"
,aliasIntlKeys:[]},{url:"http://blog.flickr.net",titleIntlKey:"autosuggest.THE_FLICKR_BLOG",aliasIntlKeys:[]},{url:"http://code.flickr.net",titleIntlKey:"autosuggest.THE_FLICKR_CODE_BLOG",aliasIntlKeys:["autosuggest.API","autosuggest.PROGRAMMING","autosuggest.CODE","autosuggest.DEVELOPER"]},{url:"/jobs/",titleIntlKey:"autosuggest.JOBS_AT_FLICKR",aliasIntlKeys:["autosuggest.CAREER"]}]}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-autosuggest-getContextResults-fetcher","text-accentfold"],langBundles:["autosuggest"]});
YUI.add("flickr-autosuggest-getContextResults-fetcher",function(e,t){"use strict";function n(t){var n=t.id.split("_"),r={extras:e.APIHelper.request.getRebootPhotoExtras(),context_id:n[0],context_type:n[1]};return r}function r(e,t){var n=e[0],r=e[1],i;i={id:t.id,contextId:t.context_id,contextType:t.context_type,tags:n.results.tags||[],people:n.results.people||[],groups:n.results.groups||[]};if(!n.results)throw new Error("No `results` property returned by API.");return r.add(i)}function i(n,r){var i=this,s="flickr.autosuggest.getContextResults",o=this._processParams(n);return e.Promise.all([r.callAPI(s,o),r.getModelRegistry("autosuggest-context-results-models")]).then(function(t){return i._processResponse(t,e.merge(o,n))},e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-autosuggest-getContextResults-fetcher"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["autosuggest-context-results-models"]});
YUI.add("hermes-template-search-autosuggest-list-item",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return" header"},3:function(e,t,n,r,i){return" empty"},5:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing,f="function",l=e.escapeExpression;return" autosuggest-selectable-item"+((s=n["if"].call(u,t!=null?t.selected:t,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" data-track="autosuggestNavigate_'+l((o=(o=n.rapidType||(t!=null?t.rapidType:t))!=null?o:a,typeof o===f?o.call(u,{name:"rapidType",hash:{},data:i}):o))+'" data-href="'+l((o=(o=n.url||(t!=null?t.url:t))!=null?o:a,typeof o===f?o.call(u,{name:"url",hash:{},data:i}):o))+'"'+((s=n["if"].call(u,t!=null?t.title:t,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i}))!=null?s:"")+' tabindex="0"'},6:function(e,t,n,r,i){return" selected"},8:function(e,t,n,r,i){var s;return' data-title="'+e.escapeExpression((s=(s=n.title||(t!=null?t.title:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"title",hash:{},data:i}):s))+'"'},10:function(e,t,n,r,i){return'"'},12:function(e,t,n,r,i){var s,o=e.lambda,u=e.escapeExpression,a=t!=null?t:{};return'<span class="item-icon"><span class="avatar tiny no-menu '+u(o((s=t!=null?t.avatar:t)!=null?s.type:s,t))+'" title="'+u(o((s=t!=null?t.avatar:t)!=null?s.title:s,t))+'"'+((s=n["if"].call(a,(s=t!=null?t.avatar:t)!=null?s.groupNsid:s,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(a,(s=t!=null?t.avatar:t)!=null?s.personNsid:s,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))!=null?s:"")+' style="background-image: url('+u(o((s=t!=null?t.avatar:t)!=null?s.url:s,t))+');"></span></span>'},13:function(e,t,n,r,i){var s;return' data-group-nsid="'+e.escapeExpression(e.lambda((s=t!=null?t.avatar:t)!=null?s.groupNsid:s,t))+'"'},15:function(e,t,n,r,i){var s;return' data-person-nsid="'+e.escapeExpression(e.lambda((s=t!=null?t.avatar:t)!=null?s.personNsid:s,t))+'"'},17:function(e,t,n,r,i){var s;return'<span class="item-icon"><span class="'+e.escapeExpression((s=(s=n.iconClass||(t!=null?t.iconClass:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"iconClass",hash:{},data:i}):s))+'"></span></span>'},19:function(e,t,n,r,i){return'<span class="item-icon"></span>'},21:function(e,t,n,r,i){var s,o=t!=null?t:{};return'<span class="item-title'+((s=n["if"].call(o,t!=null?t.header:t,{name:"if",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i}))!=null?s:"")+'">'+((s=(n.multiHighlightString||t&&t.multiHighlightString||n.helperMissing).call(o,t!=null?t.title:t,t!=null?t.titleHighlights:t,"highlight",{name:"multiHighlightString",hash:{},data:i}))!=null?s:"")+"</span>"},22:function(e,t,n,r,i){return" tertiary"},24:function(e,t,n,r,i){var s,o=t!=null?t:{};return'<span class="item-subtitle '+((s=n["if"].call(o,t!=null?t.header:t,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.program(27,i,0),data:i}))!=null?s:"")+'">'+((s=n.unless.call(o,t!=null?t.header:t,{name:"unless",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=(n.multiHighlightString||t&&t.multiHighlightString||n.helperMissing).call(o,t!=null?t.subtitle:t,t!=null?t.subtitleHighlights:t,"highlight",{name:"multiHighlightString",hash:{},data:i}))!=null?s:"")+((s=n.unless.call(o,t!=null?t.header:t,{name:"unless",hash:{},fn:e.program(31,i,0),inverse:e.noop,data:i}))!=null?s:"")+"</span>"},25:function(e,t,n,r,i){return"link"},27:function(e,t,n,r,i){return"tertiary"},29:function(e,t,n,r,i){return"("},31:function(e,t,n,r,i){return")"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:{};return'<div class="autosuggest-item'+((s=n["if"].call(o,t!=null?t.header:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(o,t!=null?t.empty:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(o,t!=null?t.url:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(10,i,0),data:i}))!=null?s:"")+">\n	"+((s=n["if"].call(o,t!=null?t.avatar:t,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(o,t!=null?t.iconClass:t,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(o,t!=null?t.useIconPlaceholder:t,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(o,t!=null?t.title:t,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+((s=n["if"].call(o,t!=null?t.subtitle:t,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n</div>\n"},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/search-autosuggest-list-item",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-search-autosuggest-items-list",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){var s;return'		<li class="autosuggest-list-elem" role="menuitem">'+((s=e.invokePartial(r["search-autosuggest-list-item"],t,{name:"search-autosuggest-list-item",data:i,helpers:n,partials:r,decorators:e.decorators}))!=null?s:"")+"</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s;return'<ul class="autosuggest-items-list" role="menu">\n'+((s=n.each.call(t!=null?t:{},t!=null?t.autosuggestItems:t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+"</ul>\n"},usePartial:!0,useData:!0}),r={};e.Array.each(["search-autosuggest-list-item"],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/search-autosuggest-items-list",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-search-autosuggest-list-item"]});
YUI.add("autosuggest-data-manager",function(e){function n(e){return e.trim().split(/\s+/)}function r(t){var n=t.replace(/[\W,_]/g,"").toLowerCase();return e.fluid.removeDiacritics(n)}function i(e){var t="",n=e.split(""),r,i;for(i=0,r=n.length;i<r-1;i++)t+=n[i]+"[\\W,_]*";return t+=n[r-1],t}var t;t=e.AutosuggestDataManager=function(e){e=e||{},e.prefixTrie?this.prefixTrie=e.prefixTrie:this._buildPrefixTrie(e.items)},t.locateQuery=function(e,t){var s=[],o,u,a={},f,l,c,h,p,d;if(!e||!t)return[];o=n(e);for(d=0,u=o.length;d<u;d++)f=r(o[d]),a[f]||(l=i(f),c=new RegExp("(\\b|_)("+l+")","i"),h=c.exec(t),h&&(p=h.index+h[1].length,s.push({start:p,end:p+h[2].length})),a[f]=!0);return s},t.deserialize=function(e){return new t({prefixTrie:JSON.parse(e)})},t.prototype={add:function(e){function f(i){var l,c,h,p,d,v,m,g,y,b,w;for(l=0,c=i.length;l<c;l++){h=i[l],d=[],h.title&&(d=d.concat(n(h.title))),h.subtitle&&(d=d.concat(n(h.subtitle)));if(h.aliases)for(w=0,p=h.aliases.length;w<p;w++)d=d.concat(n(h.aliases[w]));for(w=0,v=d.length;w<v;w++){m=d[w],g=t.prefixTrie,y=r(m).split("");while(b=y.shift())g.children[b]=g.children[b]||t._newTrieNode(),g=g.children[b],g.itemKeys[h.key]||(g.items.push(h),g.itemKeys[h.key]=!0)}}o<s&&(s>o+u?a=o+u:a=s,i=e.slice(o,a),o=a,setTimeout(function(){f(i)},0))}var t=this,i,s,o,u=250,a;o=0,s=e.length,s>o+u?a=o+u:a=s,i=e.slice(o,a),o=a,f(i)},query:function(e){var t=this,i,s,o,u,a,f;return e?(i=n(e),i.every(function(e){s=t.prefixTrie,o=r(e).split("");if(!o.length)return!0;while(s&&(f=o.shift()))s=s.children[f];return!s||o.length!==0?(a=[],!1):(u=s.items.slice(),a=a?t._intersectMatches(a,u):u,a&&a.length===0?!1:!0)}),a||[]):[]},serialize:function(){return JSON.stringify(this.prefixTrie)},_buildPrefixTrie:function(e){this.prefixTrie=this._newTrieNode(),e&&this.add(e)},_newTrieNode:function(){return{items:[],itemKeys:{},children:{}}},_intersectMatches:function(e,t){return e.filter(function(e){return t.some(function(t){return t.key===e.key})})}}},"@VERSION@",{requires:[],optionalRequires:["fluid"]});
YUI.add("search-autosuggest-items-list-view",function(e,t){var n=require("lib/flog")(t),r=[{key:"photos",headerTemplate:{titleIntlKey:"search.PHOTOS",searchLink:{textIntlKey:"search.SEARCH_PHOTOS",searchType:e.SearchUrl.searchTypes.PHOTOS,rapidType:"searchPhotos",iconClass:"icon-photos"}}},{key:"people",headerTemplate:{titleIntlKey:"search.PEOPLE",searchLink:{textIntlKey:"search.SEARCH_PEOPLE",searchType:e.SearchUrl.searchTypes.PEOPLE,rapidType:"searchPeople",iconClass:"icon-people"}}},{key:"groups",headerTemplate:{titleIntlKey:"search.GROUPS",searchLink:{textIntlKey:"search.SEARCH_GROUPS",searchType:e.SearchUrl.searchTypes.GROUPS,rapidType:"searchGroups",iconClass:"icon-groups"}}},{key:"pages"}],i=3;e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return this.set("autosuggestItems",t.autosuggestItems||{}),this.set("searchUrl",new e.SearchUrl(this.appContext.getLocation().href,this.appContext)),this.set("searchQuery",""),this},loadState:function(){var e=this.appContext.getViewer().signedIn?this.appContext.getViewer().nsid+"_user":"global_global",t=this;return this.appContext.getModel("autosuggest-context-results-models",{id:e}).then(function(e){e&&(t.processTimeout=setTimeout(function(){t.processAutosuggestModels(e)},1e3))},function(t){n.warn("error loading autosuggest data",{modelId:e})})},processAutosuggestModels:function(t){var n={};t&&t.getValue("pages").length&&(n.pages=new e.AutosuggestDataManager({items:t.getValue("pages")})),t&&t.getValue("people").length&&(n.people=new e.AutosuggestDataManager({items:t.getValue("people")})),t&&t.getValue("groups").length&&(n.groups=new e.AutosuggestDataManager({items:t.getValue("groups")})),this.set("autosuggestDataManagers",n)},updateAutosuggestItems:function(e){var t=this.get("autosuggestDataManagers"),n={},r;r=function(e,t){return e.score&&t.score?t.score-e.score:0},e&&t&&(t.pages&&(n.pages=t.pages.query(e).sort(r)),t.people&&(n.people=t.people.query(e).sort(r)),t.groups&&(n.groups=t.groups.query(e).sort(r))),this.set("autosuggestItems",n||{}),this.set("searchQuery",e||""),this.set("previouslySelectedNode",null),this.buildContainer()},buildContainer:function(){return this.assembleAutosuggestItemsList(),this.setContainerWithTemplate("search-autosuggest-items-list",{autosuggestItems:this.get("autosuggestItemsList")}),this},activate:function(){var e=this.get("container");return this.appContext.getViewer().signedIn||(e.ancestor(".sohp-view")||e.ancestor(".sohp-slideshow-view")?e.addClass("optimized-autosuggest-list-wide"):e.removeClass("optimized-autosuggest-list-wide")),this.registerEventHandler(e.delegate("blur",this.handleAutosuggestListItemBlur.bind(this),".autosuggest-selectable-item")),this.registerEventHandler(e.delegate("click",this.handleAutosuggestListItemClick.bind(this),".autosuggest-selectable-item")),this.registerEventHandler(e.delegate("mouseenter",this.handleAutosuggestListItemHoverOn.bind(this),".autosuggest-selectable-item")),this.registerEventHandler(e.delegate("keydown",this.handleAutosuggestListItemKeydown.bind(this),".autosuggest-selectable-item")),this},onParentViewEvent:function(e,t){var n=t&&t.length&&t[0];switch(n){case"update-autosuggest-items":this.updateAutosuggestItems(t[1],t[2]);break;case"enable-autosuggest":this.get("container").removeClass("disabled");break;case"disable-autosuggest":this.get("container").addClass("disabled");break;case"autosuggest-keyboard-nav":t[1]&&this.doKeyboardNav(t[1],!0)}},assembleAutosuggestItemsList:function(){var e=[],t=this.get("autosuggestItems")||{},n=this.get("searchQuery")||"",s,o,u;if(n)for(o=0;o<r.length;o++){s=r[o];if(t.hasOwnProperty(s.key)&&t[s.key].length){e.push(this.buildSectionHeaderItem(s.headerTemplate,n,!0));for(u=0;u<Math.min(i,t[s.key].length);u++)e.push(this.buildAutosuggestListItem(t[s.key][u],s.key,n))}else s.headerTemplate&&e.push(this.buildSectionHeaderItem(s.headerTemplate,n,!1))}e.length?(e[0].selected=!0,this.fire("subviewViewEvent","autosuggest-has-items")):this.fire("subviewViewEvent","autosuggest-no-items"),this.set("autosuggestItemsList",e)},buildSectionHeaderItem:function(e,t,n){var r={header:!0};return e?(r.iconClass="icon-search",e.searchLink&&(r.subtitle=this.intlMessage({intlName:e.searchLink.textIntlKey}),r.url=this.get("searchUrl").clone().createNewSearch(t).setSearchType(e.searchLink.searchType).getURL(),r.iconClass=e.searchLink.iconClass,r.rapidType=e.searchLink.rapidType)):r.empty=!0,r},buildAutosuggestListItem:function(t,n,r){var i={item:!0},s,o;return i.title=t.title||"",i.subtitle=t.subtitle||"",i.rapidType=n,i.titleHighlights=e.AutosuggestDataManager.locateQuery(r,i.title),i.subtitleHighlights=e.AutosuggestDataManager.locateQuery(r,i.subtitle),n==="pages"?(i.url=t.url||"",i.iconClass="icon-docs"):(s=n==="groups"?"groups":"photos",o=t.pathalias||t.nsid,o&&(i.url="/"+s+"/"+o),t.nsid&&(t.iconserver||t.iconserver===0)&&(i.avatar={type:n==="groups"?"group":"person",title:i.title,url:e.URLHelper.getBuddyIconURL(t.nsid,Math.ceil(t.iconserver/1e3),t.iconserver),personNsid:n==="people"?t.nsid:!1,groupNsid:n==="groups"?t.nsid:!1})),i},handleAutosuggestListItemBlur:function(t){var n,r=this;setTimeout(function(){n=e.one(e.config.doc.activeElement),n.hasClass("autosuggest-selectable-item")||r.fire("subviewViewEvent","autosuggest-lost-all-focus")},25)},handleAutosuggestListItemClick:function(e){this.navigateFromAutosuggestListNode(e.currentTarget)},handleAutosuggestListItemKeydown:function(t){var n="";t.halt();if(t.altKey===!0)e.fire("transfer-to-gn-search",n);else if(t.keyCode>=48&&t.keyCode<=90)n=String.fromCharCode(t.keyCode),t.shiftKey===!0?n=n.toUpperCase():n=n.toLowerCase(),e.fire("transfer-to-gn-search",n);else switch(t.keyCode){case 8:this.fire("subviewViewEvent","backspace-focus");break;case 13:this.navigateFromAutosuggestListNode(t.target);break;case 27:this.blurAllAutosuggestListNodes();break;case 38:this.doKeyboardNav("up",!1);break;case 40:this.doKeyboardNav("down"
,!1)}},navigateFromAutosuggestListNode:function(t){var n,r,i;t&&(n=t.getData("href"),r=t.getData("title"),i=t.getData("track")),r&&this.fire("subviewViewEvent","autosuggest-update-field",r),n&&(e.rapidTracker.beacon(this.name,i),this.updateAutosuggestItems(),this.appContext.flapp.navigate(n))},blurAllAutosuggestListNodes:function(){var e=this.get("container").all(".autosuggest-selectable-item"),t=e?e.size():0;if(!t)return;e.each(function(e){e.blur()})},doKeyboardNav:function(e,t){var n=this.get("container").all(".autosuggest-selectable-item"),r=n?n.size():0,i=-1,s;if(!r)return;s=this.get("container").one(".autosuggest-selectable-item.selected"),s&&(i=n.indexOf(s)),n.removeClass("selected"),i=e==="up"?i-1:i+1,i>=0&&i<r?(s=n.item(i),s.addClass("selected"),s.focus()):t?(i=i<0?r-1:0,s=n.item(i),s.addClass("selected"),s.focus()):this.fire("subviewViewEvent","focus-search-field")},handleAutosuggestListItemHoverOn:function(e){var t=this.get("container").one(".autosuggest-selectable-item.selected"),n=e.target;t&&t.removeClass("selected"),n.addClass("selected"),n.focus()},destructor:function(){this.processTimeout&&clearTimeout(this.processTimeout)}})},"@VERSION@",{requires:["flickr-view","flickr-promise","hermes-template-search-autosuggest-items-list","hermes-template-search-autosuggest-list-item","autosuggest-data-manager","search-url","url-helper"],langBundles:["search"]});
